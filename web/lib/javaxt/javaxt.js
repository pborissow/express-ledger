if(!javaxt)var javaxt={};if(!javaxt.dhtml)javaxt.dhtml={};
javaxt.dhtml.Accordion=function(h,s){this.className="javaxt.dhtml.Accordion";var t=this;var o={};var b=null;var l;var u;var k={activeOnTop:false,animate:true,animationSteps:250,defaultTab:null,style:{accordion:{width:"100%",height:"100%",border:"1px solid #969696",margin:"0px"},tabHeader:{background:"#F6F6F6",borderBottom:"1px solid #969696",padding:"7px 0 6px 7px",cursor:"pointer",whiteSpace:"nowrap"},tabContent:{borderBottom:"1px solid #969696",padding:"3px 0 0 7px"},activeTab:{}}};var n=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var C={};f(C,s);f(C,k);s=C;var D=[];for(var z=0;z<h.childNodes.length;z++){var x=h.childNodes[z];if(x.nodeType===1){D.push(x)}}for(var z=0;z<D.length;z++){h.removeChild(D[z])}h.innerHTML="";var E=c();E.setAttribute("desc",t.className);a(E,"accordion");E.style.borderCollapse="collapse";var A=E.firstChild;var F=document.createElement("tr");var y=document.createElement("td");y.style.width="100%";y.style.height="100%";y.style.verticalAlign="top";F.appendChild(y);A.appendChild(F);h.appendChild(E);t.el=E;var w=document.createElement("div");w.style.width="100%";w.style.height="100%";w.style.position="relative";y.appendChild(w);var B=document.createElement("div");B.style.width="100%";B.style.height="100%";B.style.position="absolute";B.style.overflow="hidden";w.appendChild(B);u=document.createElement("div");u.style.width="100%";u.style.height="100%";u.style.position="relative";B.appendChild(u);g(h,function(){t.resize()});for(var z=0;z<D.length;z++){t.add(D[z])}if(s.defaultTab){var v=s.animate;s.animate=false;t.open(s.defaultTab);s.animate=v}};this.enableAnimation=function(){s.animate=true};this.disableAnimation=function(){s.animate=false};this.add=function(w,z){var x;if(z){if(typeof z=="string"){x=z;z=i(x)}else{x=z.title}}else{x=w.title;z=i(x)}u.appendChild(z);a(w,"tabContent");w.style.height="0px";w.style.overflow="hidden";w.style.display="none";u.appendChild(w);var y=1;for(var v in o){if(o.hasOwnProperty(v)){y++}}o["tab"+y]={title:x,el:w};z.setAttribute("tabID",y);z.onclick=function(C){var A=parseInt(this.getAttribute("tabID"));var B=o["tab"+A];t.open(A);t.onHeaderClick(B.title,this,B.el,C)}};var i=function(v){var w=document.createElement("div");w.innerHTML=v;w.onselectstart=function(){return false};a(w,"tabHeader");return w};this.getCurrentTab=function(){if(b){var v=o["tab"+b];if(v){return{id:b,el:v.el,title:v.title}}}return null};this.open=function(z){var y=null;if(typeof z=="string"){for(var w in o){if(o.hasOwnProperty(w)){var x=o[w];if(x.title===z){y=x.el;z=parseInt(w.substring(3));break}}}}else{if(typeof z=="number"){var x=o["tab"+z];if(x){y=x.el}}}if(y==null){return}if(z==b){if(s.activeTabClosable==true){}else{return}}var v=null;if(b){var x=o["tab"+b];if(x){v=x.el}}t.beforeChange();b=z;l=q(y);if(s.animate==true){e(new Date().getTime(),s.animationSteps,v,y)}else{j(y,v)}};var j=function(w,z){if(w){m(w.previousSibling,"activeTab");w.style.display="block";w.style.height=l+"px";w.style.filter="alpha(opacity=100)";w.style.MozOpacity=1}if(z){a(z.previousSibling,"tabHeader");z.style.display="none";z.style.height="0px";z.style.filter="alpha(opacity=0)";z.style.MozOpacity=0}if(s.activeOnTop==true){var v=[];var A=[];var B=0;for(var C=0;C<u.childNodes.length;C++){var y=u.childNodes[C];if(y.nodeType===1){var E=y.getAttribute("tabID");if(E){if(E==b){break}var D=y.cloneNode(true);D.onclick=y.onclick;u.appendChild(D);v.push(y);A.push(D);if(y.offsetHeight>0){B+=y.offsetHeight}}}}var x=function(){while(v.length>0){var G=v.shift();var F=G.nextSibling;u.removeChild(G);G=A.shift();u.insertBefore(F,G.nextSibling)}u.style.marginTop="0px";u.style.height="100%"};u.style.height="";if(s.animate==true){p(new Date().getTime(),100,B,x)}else{u.style.marginTop=-B+"px";x()}}t.afterChange()};var e=function(w,z,x,v){var A=new Date().getTime();var C=A-w;if(l==null){l=q(v)}if(z<=C){j(v,x);return}z-=C;var D=d(v);var y=Math.round((z/s.animationSteps)*l-D);var B=(z/s.animationSteps)*100;if(v){if(v.style.display!="block"){v.style.display="block";v.style.filter="alpha(opacity="+(100-B)+")";v.style.MozOpacity=(100-B)/100}v.style.height=(l-y)-D+"px"}if(x){x.style.height=y+"px";x.style.filter="alpha(opacity="+(B)+")";x.style.MozOpacity=B/100}setTimeout(function(){e(A,z,x,v)},33)};var p=function(w,B,z,A){var v=new Date().getTime();var y=v-w;if(B<=y){if(A!=null){A.apply(t,[])}return}B-=y;var x=z-Math.round((B/s.animationSteps)*z);u.style.marginTop=-x+"px";setTimeout(function(){p(v,B,z,A)},33)};this.resize=function(){if(b){var w=o["tab"+b];if(w){var v=q();var x=d(w.el);w.el.style.height=(v-x)+"px"}}};this.onHeaderClick=function(x,y,v,w){};this.beforeChange=function(){};this.afterChange=function(){};var q=function(w){var v=u.offsetHeight;if(v>0){if(document.body.clientHeight<v){v=document.body.clientHeight}for(var y=0;y<u.childNodes.length;y++){var z=u.childNodes[y];if(z.nodeType===1){var x=z.getAttribute("tabID");if(x){if(z.offsetHeight>0){v-=z.offsetHeight}}}}var A=0;if(w){A=d(w)}return v-A}return 0};var d=function(v){var y=parseFloat(r(v,"padding-top").replace("px",""));var z=parseFloat(r(v,"padding-bottom").replace("px",""));var A=parseFloat(r(v,"border-top-width").replace("px",""));var w=parseFloat(r(v,"border-bottom-width").replace("px",""));var x=(y+z+A+w);if(isNaN(x)){return 0}else{return x}};var r=function(w,v){if(w.currentStyle){return w.currentStyle[v]}else{if(window.getComputedStyle){return document.defaultView.getComputedStyle(w,"").getPropertyValue(v)}}};var f=javaxt.dhtml.utils.merge;var c=javaxt.dhtml.utils.createTable;var g=javaxt.dhtml.utils.addResizeListener;var a=function(w,v){javaxt.dhtml.utils.setStyle(w,s.style[v])};var m=function(w,v){javaxt.dhtml.utils.addStyle(w,s.style[v])};n()};
javaxt.dhtml.Authentication=function(c,a){var b=navigator.userAgent.toLowerCase();this.login=function(h,d,g){var f=this.logoff;var e=((window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"));e.open("GET",c,true,h,d);e.onreadystatechange=function(){if(e.readyState===4){if(e.status!==200){if(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){f()}}if(g!=null){g.call(e)}}};e.send(null)};this.logoff=function(e){if(b.indexOf("msie")!=-1){document.execCommand("ClearAuthenticationCache");if(e!=null){e.call()}}else{var d=new XMLHttpRequest();d.open("GET",a+"?prompt=false",true);d.onreadystatechange=function(){if(d.readyState===4){var f=new XMLHttpRequest();f.open("GET",c,true,"logout","logout");f.onreadystatechange=function(){if(f.readyState===4){if(e!=null){e.call()}}};f.send("")}};d.send("")}}};
javaxt.dhtml.BarGraph=function(h,v){this.className="javaxt.dhtml.BarGraph";var x=this;var q,y,m;var t,i,a,u;var o;var b=[];var l=0;var r=0;var w={};var j={animate:false,animationSteps:750,maxHorizonalLabels:3,style:{cell:{borderBottom:"1px solid #ccc",padding:"0 5px"},bar:{backgroundColor:"#7baaf7",borderRadius:"3px 3px 0 0",cursor:"pointer"},tick:{borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",height:"5px"},labelX:{textAlign:"center",color:"#757575",fontSize:"10px",height:"14px"},labelY:{textAlign:"right",color:"#757575",fontSize:"10px",padding:"0 5px 0 0",margin:"-5px 0 0 0"},hline:{borderTop:"1px solid #ccc",opacity:0.5,zIndex:1},select:{backgroundColor:"orange"}}};var p=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var G={};g(G,v);g(G,j);v=G;var B=document.createElement("div");B.style.position="relative";B.style.height="100%";B.setAttribute("desc",x.className);x.el=B;h.appendChild(B);var L=d();B.appendChild(L);var E=L.firstChild;var H=document.createElement("tr");E.appendChild(H);var D=document.createElement("td");D.style.width="100%";D.style.height="100%";D.style.verticalAlign="bottom";H.appendChild(D);t=d();D.appendChild(t);E=t.firstChild;H=document.createElement("tr");E.appendChild(H);D=document.createElement("td");D.style.height="100%";D.style.width="1px";D.style.verticalAlign="top";a=d();a.setAttribute("desc","yAxis");D.appendChild(a);H.appendChild(D);D=document.createElement("td");D.style.height="100%";D.style.width="100%";H.appendChild(D);var J=document.createElement("div");J.style.position="relative";J.style.width="100%";J.style.height="100%";D.appendChild(J);var z=document.createElement("div");z.style.position="absolute";z.style.width="100%";z.style.height="100%";z.style.top=0;z.style.overflow="hidden";z.style.padding="0 1px";J.appendChild(z);var C=document.createElement("div");C.style.position="relative";C.style.width="100%";z.appendChild(C);u=d();C.appendChild(u);var F=document.createElement("div");F.style.position="absolute";F.style.width="100%";F.style.height="100%";F.style.overflow="auto";F.style.overflowY="hidden";F.style.padding="0 1px";J.appendChild(F);i=d();i.setAttribute("desc","dataTable");E=i.firstChild;q=document.createElement("tr");E.appendChild(q);y=document.createElement("tr");E.appendChild(y);m=document.createElement("tr");E.appendChild(m);F.appendChild(i);if(v.animate===true){t.style.height=0}var I=J.offsetWidth;if(I===0||isNaN(I)){var A;var K=function(){var M=J.offsetWidth;if(M===0||isNaN(M)){A=setTimeout(K,100)}else{clearTimeout(A);f()}};A=setTimeout(K,100)}else{f()}};var f=function(){x.update()};this.show=function(){x.el.style.display=""};this.hide=function(){x.el.style.display="none"};this.add=function(H,G){if(!k(H)){H=0}b.push(H);if(H>r){r=H}if(H<l){l=H}var C,E;if(!w.cell){C=document.createElement("td");c(C,"cell");C.style.height="100%";C.style.verticalAlign="bottom";var z=document.createElement("div");z.style.position="relative";z.style.height="100%";C.appendChild(z);E=document.createElement("div");c(E,"bar");E.style.position="absolute";E.style.bottom=0;E.style.width="100%";z.appendChild(E);w.cell=C}else{C=w.cell.cloneNode(true);E=C.childNodes[0].childNodes[0]}E.onclick=function(){var K=this.parentNode.parentNode;for(var L=0;L<q.childNodes.length;L++){if(q.childNodes[L]==K){x.onClick(b[L],L,this);break}}};C.onclick=function(){var K=this;for(var L=0;L<q.childNodes.length;L++){if(q.childNodes[L]==K){x.onCellClick(L,K);break}}};q.appendChild(C);if(v.style.cell.width){C.style.width=v.style.bar.width;C.childNodes[0].style.width=v.style.bar.width;o=parseInt(v.style.cell.width)}else{if(typeof v.style.cell==="string"){if(!o){var J=document.createElement("div");c(J,"cell");J.style.position="absolute";J.style.visibility="hidden";J.style.display="block";var D=document.getElementsByTagName("body")[0];D.appendChild(J);var A=J.currentStyle||window.getComputedStyle(J);var F=function(L){if(A.getPropertyValue){var K=A.getPropertyValue(L);if(K&&K.length>0){return K}return A.getPropertyValue(L)}else{return A[L]}};o=parseInt(F("width"));D.removeChild(J);J=null}}}var C=document.createElement("td");c(C,"tick");y.appendChild(C);C=document.createElement("td");c(C,"labelX");if(G!=null){var I=document.createElement("div");I.style.position="relative";I.style.width="100%";I.style.height="100%";C.appendChild(I);var B=document.createElement("div");B.style.position="absolute";B.style.width="100%";B.style.height="100%";I.appendChild(B);if(typeof G==="string"||k(G)){B.innerHTML=G}else{if(G instanceof Function){G.apply(x,[B])}}}m.appendChild(C)};this.setValue=function(z,A){b[z]=A;if(A>r){r=A}if(A<l){l=A}};this.update=function(O){for(var F=0;F<b.length;F++){var A=q.childNodes[F].childNodes[0].childNodes[0];if(A){var C=(b[F]/r)*100;A.style.height=C+"%"}}if(!isNaN(o)){if(o>0){var B=(o*b.length)+"px";i.style.width=B;u.parentNode.style.width=B}}var D=a.firstChild.childNodes.length;var L=v.maxHorizonalLabels;var K=s(b).length;if(K<L){L=K}var z=Math.round((1/L)*100)+"%";if(K===1&&b[0]===0){z="100%";L=0}var H=a.firstChild;var G=u.firstChild;if(D>L){while(H.childNodes.length>0){H.removeChild(H.childNodes[0])}while(G.childNodes.length>0){G.removeChild(G.childNodes[0])}D=0}for(var F=D;F<L;F++){var J=document.createElement("tr");H.appendChild(J);var E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"labelY");E.appendChild(A);E.label=A;var E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"hline");A.style.width="100%";E.appendChild(A);J=document.createElement("tr");G.appendChild(J);E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"hline");A.style.width="100%";A.style.position="absolute";E.appendChild(A)}for(var F=0;F<H.childNodes.length;F++){var E=H.childNodes[F].childNodes[0];E.style.height=z;var I=H.childNodes.length;var N=I-F;var M=r/L;var C=M*N;x.createLabel(C,N,I,E.label)}for(var F=0;F<G.childNodes.length;F++){var E=G.childNodes[F].childNodes[0];E.style.height=z}if(v.animate===true){a.style.display="none";e(new Date().getTime(),v.animationSteps,function(){a.style.display="";a.style.height=q.offsetHeight+"px";u.style.height=q.offsetHeight+"px";if(O!=null){O.apply(x,[])}})}else{a.style.height=q.offsetHeight+"px";u.style.height=q.offsetHeight+"px";if(O!=null){O.apply(x,[])}}};this.clear=function(z){l=0;r=0;x.deselectAll();if(z===true){for(var A=0;A<b.length;A++){b[A]=0}for(var A=0;A<b.length;A++){var B=q.childNodes[A].childNodes[0].childNodes[0];B.style.height="0%"}}else{b=[];while(q.childNodes.length>1){q.removeChild(q.childNodes[1]);y.removeChild(y.childNodes[1]);m.removeChild(m.childNodes[1])}i.style.width="100%";u.parentNode.style.width="100%";x.update()}};this.onClick=function(A,z,B){};this.onCellClick=function(A,z){};this.getCell=function(z){return q.childNodes[z]};this.select=function(z){var B=q.childNodes[z];if(B){B.selected=true;var A=B.childNodes[0].childNodes[0];n(A,"select")}};this.deselect=function(z){var C=q.childNodes[z];if(C){C.selected=false;var B=C.childNodes[0].childNodes[0];var A=B.style.height;c(B,"bar");B.style.position="absolute";B.style.bottom=0;B.style.width="100%";B.style.height=A}};this.selectAll=function(){for(var z=0;z<q.childNodes.length;z++){x.select(z)}};this.deselectAll=function(){for(var z=0;z<q.childNodes.length;z++){x.deselect(z)}};this.getSelectedItems=function(){var z=[];for(var A=0;A<q.childNodes.length;A++){var B=q.childNodes[A];if(B.selected){z.push({idx:A,val:b[A],cell:B})}}};this.createLabel=function(B,A,z,C){C.innerHTML=Math.round(B)};this.getValues=function(){var z=[];for(var A=0;A<b.length;A++){z.push(b[A])}return z};var s=function(z){var B=[];for(var C=0,A=z.length;C<A;C++){if(B.indexOf(z[C])===-1&&z[C]!==""){B.push(z[C])}}return B};var k=function(z){return !isNaN(parseFloat(z))&&!isNaN(z-0)};var e=function(A,E,D){var z=new Date().getTime();var C=z-A;if(E<=C){t.style.height="100%";if(D!=null){D.apply(x,[])}return}E-=C;var B=(E/v.animationSteps)*100;t.style.height=(100-B)+"%";setTimeout(function(){e(z,E,D)},33)};var g=javaxt.dhtml.utils.merge;var d=javaxt.dhtml.utils.createTable;var c=function(A,z){javaxt.dhtml.utils.setStyle(A,v.style[z])};var n=function(A,z){javaxt.dhtml.utils.addStyle(A,v.style[z])};p()};
javaxt.dhtml.Button=function(n,b){this.className="javaxt.dhtml.Button";var h=this;var c;var p,a;var j,l,m;var f={label:null,name:null,selected:false,disabled:false,toggle:false,menu:false,hidden:false,display:"inline-block",width:null,height:null,style:{button:{border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",cursor:"pointer",padding:"3px 7px",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap"},icon:{},arrow:{},select:{background:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},hover:{background:"#ededed"},menu:{border:"1px solid #cccccc",background:"#F6F6F6",cursor:"pointer",padding:"3px 3px",zIndex:"1"},menuAlign:"bottom"}};var o=function(){if(typeof n==="string"){n=document.getElementById(n)}if(!n){return}var E={};i(E,b);i(E,f);b=E;var F=b.style.iconAlign;if(F!=="right"){F="left"}var t=b.style.menuAlign;if(t!=="right"){t="bottom"}if(b.menu===true){var z=false;for(var H in b.style.arrow){if(b.style.arrow.hasOwnProperty(H)){z=true;break}}if(!z){if(t==="bottom"){b.style.arrow={width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #575757",marginLeft:"10px"};b.style.arrowSelect={borderTop:"5px solid #FFFFFF"}}}}var w=document.createElement("div");w.setAttribute("desc",h.className);w.style.display=b.display;if(b.width){if(typeof b.width==="string"){w.style.width=b.width}else{w.style.width=b.width+"px"}}if(b.height){if(typeof b.height==="string"){w.style.height=b.height}else{w.style.height=b.height+"px"}}w.style.position="relative";if(b.hidden===true){w.style.visibility="hidden";w.style.display="none"}n.appendChild(w);h.el=w;c=document.createElement("div");c.setAttribute("desc","button");d(c,"button");e(c);var v=document.createElement("div");if(w.style.display==="inline-block"){v.style.display="table";if(b.width){v.style.width=w.style.width}}v.style.height="100%";w.appendChild(v);v.appendChild(c);j=document.createElement("div");g(j,"icon");m=document.createElement("div");g(m,"arrow");l=document.createElement("div");g(l,"label");if(b.label){l.innerHTML=b.label}var C=k();C.style.fontFamily="inherit";C.style.textAlign="inherit";C.style.color="inherit";var q=C.firstChild;var r=document.createElement("tr");q.appendChild(r);var y;y=document.createElement("td");r.appendChild(y);if(F==="left"){j=document.createElement("div");g(j,"icon");y.appendChild(j)}else{m=document.createElement("div");g(m,"arrow");y.appendChild(m)}y=document.createElement("td");y.style.width="100%";r.appendChild(y);l=document.createElement("div");g(l,"label");if(b.label){l.innerHTML=b.label}y.appendChild(l);y=document.createElement("td");r.appendChild(y);if(F==="left"){m=document.createElement("div");g(m,"arrow");y.appendChild(m)}else{j=document.createElement("div");g(j,"icon");y.appendChild(j)}c.appendChild(C);if(b.menu===true){b.toggle=true;a=document.createElement("div");a.setAttribute("desc","menu");g(a,"menu");a.style.position="absolute";a.style.visibility="hidden";w.appendChild(a);var G=function(I){if(!c.contains(I.target)){a.style.visibility="hidden";h.deselect()}};window.addEventListener("click",G);var x,D;var B,A,u,s;window.addEventListener("touchstart",function(I){B=I.changedTouches[0].pageX;u=I.changedTouches[0].pageY;x=new Date().getTime();D=null});window.addEventListener("touchend",function(J){D=new Date().getTime();A=J.changedTouches[0].pageX;s=J.changedTouches[0].pageY;var K=Math.sqrt((A-=B)*A+(s-=u)*s);if(K<0){K=-K}var I=D-x;if((I<=500&&K<=10)||(I>500&&K<=10)){G(J)}})}if(b.disabled===true){h.disable()}if(b.selected===true){h.select()}};var e=function(q){q.unselectable="on";q.onselectstart=function(){return false};var y=function(){if(b.sound!=null){b.sound.play()}if(b.toggle===true){if(a){if(t){h.toggle()}else{}}else{h.toggle()}}else{g(c,"button");g(j,"icon");g(m,"arrow")}h.onClick()};var u;var x;var s,r,w,v;var t=false;q.ontouchstart=function(z){t=true;z.preventDefault();s=z.changedTouches[0].pageX;w=z.changedTouches[0].pageY;u=new Date().getTime();x=null;if(q.selected!==true){d(q,"hover");d(j,"iconHover");d(m,"arrowHover")}};q.ontouchend=function(A){x=new Date().getTime();r=A.changedTouches[0].pageX;v=A.changedTouches[0].pageY;var B=Math.sqrt((r-=s)*r+(v-=w)*v);if(B<0){B=-B}var z=x-u;if((z<=500&&B<=10)||(z>500&&B<=10)){y()}else{g(q,"button");g(j,"icon");g(m,"arrow")}};if(!t){q.onmousedown=function(){d(q,"select");d(j,"iconSelect");d(m,"arrowSelect");if(a){h.toggle()}return false};q.onclick=function(){y()};q.onmouseover=function(){if(q.selected!==true){d(q,"hover");d(j,"iconHover");d(m,"arrowHover")}};q.onmouseout=function(){if(q.selected!==true){g(q,"button");g(j,"icon");g(m,"arrow")}}}};this.show=function(){h.el.style.visibility="";h.el.style.display=""};this.hide=function(){h.el.style.visibility="hidden";h.el.style.display="none"};this.onClick=function(){};this.getText=function(){return l.innerHTML};this.enable=function(){var q=h.el;q.style.opacity="";p.style.visibility="hidden"};this.disable=function(){var q=h.el;q.style.opacity="0.5";if(p){p.style.visibility="visible"}else{p=document.createElement("div");p.setAttribute("desc","mask");p.style.position="absolute";p.style.zIndex="1";p.style.width="100%";p.style.height="100%";q.insertBefore(p,q.firstChild)}};this.select=function(){if(c.selected===true){return}c.selected=true;g(c,"button");g(j,"icon");g(m,"arrow");d(c,"select");d(j,"iconSelect");d(m,"arrowSelect")};this.deselect=function(){if(c.selected===true){c.selected=false;g(c,"button");g(j,"icon");g(m,"arrow")}};this.isSelected=function(){return(c.selected===true)};this.toggle=function(){if(b.toggle===true){if(c.selected===true){h.deselect();if(a){a.style.visibility="hidden"}}else{h.select();if(a){a.style.visibility="visible"}}}};this.getMenuPanel=function(){return a};var i=javaxt.dhtml.utils.merge;var k=javaxt.dhtml.utils.createTable;var g=function(r,q){javaxt.dhtml.utils.setStyle(r,b.style[q])};var d=function(r,q){javaxt.dhtml.utils.addStyle(r,b.style[q])};o()};
javaxt.dhtml.Calendar=function(k,c){this.className="javaxt.dhtml.Calendar";var h=this;var j=null;var n={};var m;var d=false;var a=[];var g={};var l={day:javaxt.dhtml.calendar.Day,week:javaxt.dhtml.calendar.Week,month:javaxt.dhtml.calendar.Month};var o=function(){var u={};i(u,c);c=u;if(c.eventStore==null){c.eventStore=new javaxt.dhtml.calendar.EventStore()}var r=c.listeners;var q=null;var p=null;if(r!=null){for(var s in r){if(r.hasOwnProperty(s)){var t=r[s];if(s=="beforerender"){q=t;delete r[s]}else{if(s=="afterrender"){p=t;delete r[s]}else{g[s]=t;(function(v){r[v]=function(){var z=[];for(var A=0;A<arguments.length;A++){var w=arguments[A];for(var y in l){if(l.hasOwnProperty(y)){var x=l[y];if(w instanceof x){w=h;break}}}z.push(w)}if(!d){a.push({name:v,args:z});return}var B=g[v];if(B!=null){B.apply(h,z)}}})(s)}}}}}e();new javaxt.dhtml.calendar.View(h,c);if(q!=null){q.apply(h,[h])}h.setView(c.view);if(p!=null){p.apply(h,[h])}f()};var e=function(){a=[];d=false};var f=function(){d=true;for(var q=0;q<a.length;q++){var r=a[q];var s=g[r.name];var p=r.args;if(s!=null){s.apply(h,p)}}a=[]};var b=function(){for(var p in j){if(j.hasOwnProperty(p)&&p!=="className"){h[p]=j[p]}}};this.setView=function(s){if(s!=null){s=s.toLowerCase()}if(s==m){return}var u=n[s];if(u!=null){m=s;var q=j.getDate();j.hide();j=u;j.setDate(q);b();j.show();j.refresh();var r=h.getListener("update");if(r!=null){r.callback.apply(r.scope,[h])}}else{var t=null;for(var p in l){if(l.hasOwnProperty(p)){if(s==p){t=l[p];break}}}if(t){e();var q=null;if(j!=null){q=j.getDate();j.hide()}j=new t(k,c);if(q!=null){j.setDate(q)}b();n[s]=j;m=s;f()}}};this.getView=function(){return j};var i=function(q,s){for(var r in s){if(s.hasOwnProperty(r)&&typeof q[r]!=="undefined"){if(r!=0){i(q[r],s[r])}}else{q[r]=s[r]}}};o()};
if(!javaxt.dhtml.calendar)javaxt.dhtml.calendar={};javaxt.dhtml.calendar.Day=function(parent,config){this.className="javaxt.dhtml.calendar.Day";var me=this;var el;var bodyDiv;var footerRow;var multidayRow,multidayEventsTable;var currTimeDiv,getCurrentDate;var rendered;var startDate,endDate;var cells={};var widths={};var rowHeights=[];var scrollWidth;var scrollable=true;var days=1;var date;var store;var eventHeight=17;var eventPadding=2;var holdDelay=500;var debug=false;var isFirefox=navigator.userAgent.toLowerCase().indexOf('firefox')>-1;var isIE=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1;var init=function(){new javaxt.dhtml.calendar.View(me,config);store=config.eventStore==null?new javaxt.dhtml.calendar.EventStore():config.eventStore;if(config.days!=null)days=config.days;function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n);}
if(isNumeric(config.eventHeight))eventHeight=parseInt(config.eventHeight);if(isNumeric(config.eventPadding))eventPadding=parseInt(config.eventPadding);getCurrentDate=config.getCurrentDate==null?getCurrentDate=function(){return new Date();}:config.getCurrentDate;if(config.renderers){for(var rendererName in config.renderers){if(config.renderers.hasOwnProperty(rendererName)){if(me[rendererName]){(function(rendererName){me[rendererName]=function(){var renderer=config.renderers[rendererName];return renderer.apply(me,arguments);};})(rendererName);}}}}
rendered=false;var listener=me.getListener('beforerender');if(listener!=null)listener.callback.apply(listener.scope,[me]);me.setDate(config.date);listener=me.getListener('afterrender');if(listener!=null)listener.callback.apply(listener.scope,[me]);rendered=true;listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);};this.hasHours=function(){return true;};this.show=function(){parent.appendChild(el);};this.hide=function(){parent.removeChild(el);};this.showFooter=function(){footerRow.style.display='';};this.hideFooter=function(){footerRow.style.display="none";};this.enableTouch=function(){scrollable=true;};this.disableTouch=function(){scrollable=false;};var renderTable=function(){if(el!=null){for(var i=0;i<parent.childNodes.length;i++){if(parent.childNodes[i]==el){parent.removeChild(el);break;}}}
cells={};widths={};rowHeights=[];var div,tbody,tr,td;tbody=createTable();var table=el=tbody.parentNode;table.className="javaxt-noselect";table.style.cursor="default";parent.appendChild(table);tr=document.createElement("tr");tr.setAttribute("desc","header");tr.className="javaxt-cal-header";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var header=td;tr=document.createElement("tr");tr.setAttribute("desc","multiday events");tr.className="javaxt-cal-multiday-header";tr.style.display="none";tr.style.visibility="hidden";multidayRow=tr;tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var multidayDiv=document.createElement('div');multidayDiv.setAttribute("desc","multiday-div");multidayDiv.style.width="100%";multidayDiv.style.height="inherit";multidayDiv.style.position="relative";td.appendChild(multidayDiv);tr=document.createElement("tr");tr.setAttribute("desc","body");tr.className="javaxt-cal-body";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="100%";tr.appendChild(td);bodyDiv=document.createElement('div');bodyDiv.setAttribute("desc","body-div");bodyDiv.style.width="100%";bodyDiv.style.height="100%";bodyDiv.style.position="relative";td.appendChild(bodyDiv);div=document.createElement('div');div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';bodyDiv.appendChild(div);bodyDiv=div;bodyDiv.addEventListener('touchstart',function(e){if(!scrollable)e.preventDefault();},false);bodyDiv.addEventListener('touchmove',function(e){if(!scrollable)e.preventDefault();},false);var listener=me.getListener('scroll');if(listener){div.addEventListener('scroll',function(e){listener.callback.apply(listener.scope,[me]);},false);}
tr=document.createElement("tr");tr.setAttribute("desc","footer");tr.className="javaxt-cal-footer";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);footerRow=tr;var footer=td;currTimeDiv=document.createElement("div");currTimeDiv.className="javaxt-cal-current-time-indicator";currTimeDiv.style.position="absolute";currTimeDiv.style.width="100%";currTimeDiv.style.display="none";bodyDiv.appendChild(currTimeDiv);tbody=createTable();header.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerUL=document.createElement('div');td.appendChild(spacerUL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-header-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnHeader(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerUR=document.createElement('div');td.appendChild(spacerUR);tbody=createTable();footer.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerLL=document.createElement('div');td.appendChild(spacerLL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-footer-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnFooter(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerLR=document.createElement('div');td.appendChild(spacerLR);var multidayContent=document.createElement('div');multidayContent.setAttribute("desc","multiday-content");multidayContent.style.width="100%";multidayContent.style.height="100%";multidayContent.style.position="relative";multidayDiv.appendChild(multidayContent);div=document.createElement('div');multidayContent.appendChild(div);div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';tbody=createTable();div.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerML=document.createElement('div');td.appendChild(spacerML);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";td.style.width=(100/days)+'%';td.style.height="1px";tr.appendChild(td);}
multidayEventsTable=tbody;tbody=createTable();bodyDiv.appendChild(tbody.parentNode);var row=document.createElement('tr');tbody.appendChild(row);var leftCol=document.createElement('td');leftCol.style.verticalAlign="top";row.appendChild(leftCol);var hours=document.createElement('table');hours.style.borderCollapse="collapse";hours.cellSpacing=0;hours.cellPadding=0;leftCol.appendChild(hours);tbody=document.createElement('tbody');hours.appendChild(tbody);for(var i=0;i<24;i++){var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-hour"+(i==23?" javaxt-cal-hour-last":"");if(i==0)td.style.borderTop="0px";td.appendChild(me.createHourLabel(i));tr.appendChild(td);}
var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className='javaxt-cal-cell';td.style.width=(100/days)+'%';td.style.height="100%";td.style.verticalAlign="top";td.valign="top";row.appendChild(td);var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";outerDiv.appendChild(innerDiv);var cell=innerDiv;var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();cell.date=new Date(d);cells[cellID]=cell;td.appendChild(outerDiv);var innerTable=document.createElement('table');innerTable.cellSpacing=0;innerTable.cellPadding=0;innerTable.style.width="100%";innerTable.style.borderCollapse="collapse";tbody=document.createElement('tbody');innerTable.appendChild(tbody);cell.appendChild(innerTable);for(var j=0;j<24*2;j++){var tr=document.createElement('tr');tbody.appendChild(tr);var col=document.createElement('td');col.className="javaxt-cal-half-hour"+(j%2==0?"":" javaxt-cal-half-hour-sep")+(j==47?" javaxt-cal-hour-last":"");if(j==0)col.style.borderTop="0px";tr.appendChild(col);addListeners(tr,holdDelay);}
d.setDate(d.getDate()+1);}
var lt=_getRect(leftCol.childNodes[0]).width;spacerUL.style.width=spacerML.style.width=spacerLL.style.width=lt+'px';var bodyWidth=_getRect(bodyDiv).width;var tableWidth=_getRect(leftCol.parentNode.parentNode.parentNode).width;scrollWidth=Math.abs(bodyWidth-tableWidth);spacerUR.style.width=spacerLR.style.width=scrollWidth+'px';currTimeDiv.style.left=lt+'px';updateCurrTime();var epoch=getCurrentDate().getTime()/1000;var secondsSinceLastTimerTrigger=epoch%60;var secondsUntilNextTimerTrigger=60-secondsSinceLastTimerTrigger;setTimeout(function(){setInterval(updateCurrTime,60*1000);updateCurrTime();},secondsUntilNextTimerTrigger*1000);me.scrollTo(6.5);if(rendered){var listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);}};var addListeners=function(cell,holdDelay){var holdStarter=null;var holdActive=false;var onMouseDown=function(e){var tr=this;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;var listener=me.getListener('cellhold');if(listener){var callback=listener.callback;var scope=listener.scope;var date=getDate();callback.apply(scope,[date,tr,me,e]);}},holdDelay);};var onMouseUp=function(e){var tr=this;var date=getDate();if(holdStarter){clearTimeout(holdStarter);var listener=me.getListener('cellclick');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}
else if(holdActive){holdActive=false;var listener=me.getListener('cellrelease');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}};cell.onmousedown=onMouseDown;cell.onmouseup=onMouseUp;cell.ontouchstart=function(e){var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;this.onmousedown.apply(this,[{clientX:x,clientY:y}]);};cell.ontouchend=function(e){var touch=e.changedTouches[0];var x=touch.pageX;var y=touch.pageY;this.onmouseup.apply(this,[{clientX:x,clientY:y}]);};var getDate=function(){var tbody=cell.parentNode;var _cell=tbody.parentNode.parentNode;var date=new Date(_cell.date);var hour=0;for(var i=0;i<tbody.childNodes.length;i++){var tr=tbody.childNodes[i];if(tr===cell){hour=(i/2);break;}}
date.setTime(date.getTime()+((hour*60)*60*1000));return date;};};this.createColumnHeader=function(i){var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";var text=javaxt.dhtml.calendar.Utils.dayNames[i];if(days>1)text=text.substring(0,3);innerDiv.innerHTML=text;outerDiv.appendChild(innerDiv);return outerDiv;};this.createColumnFooter=function(i){return document.createElement('div');};this.createHourLabel=function(hour){var div=document.createElement('div');div.style.float="right";div.style.padding="0px 7px 0px 7px";var meridian='AM';if(hour==0)hour=12;else if(hour==12)meridian='PM';else if(hour>12){hour=(hour-12);meridian='PM';}
var hdr=document.createElement('table');hdr.cellSpacing=0;hdr.cellPadding=0;div.appendChild(hdr);var t=document.createElement('tbody');hdr.appendChild(t);var tr=document.createElement('tr');t.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-label-hour";td.innerHTML=hour;tr.appendChild(td);td=document.createElement('td');td.className="javaxt-cal-label-meridian";td.innerHTML=meridian;tr.appendChild(td);return div;};var updateCurrTime=function(){var date=getCurrentDate();var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];if(cell){var hours=date.getHours();var h1=getVerticalOffset(hours,cell);var h2=getVerticalOffset(hours+1,cell);var pixelsPerMinute=(h2-h1)/60;var h=h1+(date.getMinutes()*pixelsPerMinute);currTimeDiv.style.display='';currTimeDiv.style.top=h+"px";}
else{currTimeDiv.style.display="none";}};this.scrollTo=function(hour){var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];var offset=getVerticalOffset(hour,cell);bodyDiv.scrollTop=offset+1;};this.getScrollDiv=function(){return bodyDiv;};var getVerticalOffset=function(hour,cell){if(rowHeights.length==0){var tbody=cell.childNodes[0].childNodes[0];var rows=tbody.childNodes;for(var i=0;i<rows.length;i++){var tr=rows[i];var rect=_getRect(tr);rowHeights.push(rect.height);}}
var offset=0;for(var i=0;i<rowHeights.length;i++){var rowHeight=rowHeights[i];offset+=rowHeight;var h=i*0.5;if(h>=hour){return(offset-rowHeight);}}
return 0;};this.getEventStore=function(){return store;};this.addEvent=function(event){addEvent(event);};var addEvent=function(event,deferUpdates){log("Adding "+event.getSubject()+"...");var numDays=event.numDays();if(numDays>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){return;}}}
if(numDays>=1){addMultiDayEvent(event);}
else{addSingleDayEvent(event,deferUpdates);}
store.add(event);};this.addEvents=function(events){for(var i=0;i<events.length;i++){addEvent(events[i],true);}
var singleDayEvents=[];events=me.getEvents();for(var i=0;i<events.length;i++){var event=events[i];if(event.numDays()<1){var div=getDiv(event);if(div!=null)singleDayEvents.push(event);}}
var processedEvents=[];var isProcessed=function(event){for(var i=0;i<processedEvents.length;i++){if(processedEvents[i].equals(event)){return true;}}
return false;};for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var updateWidth=!isProcessed(event);if(updateWidth){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){var numColumns=2;if(overlappingEvents.length>1){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _startDate=_event.getStartDate();var _endDate=_event.getEndDate();var numIntersects=0;for(var k=0;k<overlappingEvents.length;k++){if(!overlappingEvents[k].equals(_event)){var a=overlappingEvents[k].getStartDate();var b=overlappingEvents[k].getEndDate();if(_startDate.getTime()<b.getTime()&&a.getTime()<_endDate.getTime()){numIntersects++;}}}
if(numIntersects>0){var _numColumns=1+1+numIntersects;if(_numColumns>numColumns)numColumns=_numColumns;}}}
var width=(Math.floor((1/(numColumns))*100));log("Update "+event.getSubject()+" width to "+width+"%");var outerDiv=getDiv(event);outerDiv.style.width=width+"%";for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;_outerDiv.style.width=width+"%";processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=[];for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];if(!isProcessed(event)){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];updatePosition(_outerDiv,_event,_width);processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=null;for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var outerDiv=getDiv(event);var width=parseInt(outerDiv.style.width);if(widths["_"+width]!=null)width=widths["_"+width];var numColumns=Math.floor(100/width);if(numColumns>1){var left=parseInt(outerDiv.style.left);var colIndex=Math.floor(left/width)+1;log(event.getSubject()+" is in column "+colIndex+"/"+numColumns);if(colIndex===(numColumns-1)){var overlappingEvents=getOverlappingEvents(event);var nextEvent=overlappingEvents[overlappingEvents.length-1];var nextDiv=getDiv(nextEvent);var orgWidth=parseInt(outerDiv.style.width);var newWidth=parseInt(nextDiv.style.left)-left;if(newWidth>orgWidth){log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+orgWidth+"%)");outerDiv.style.width=newWidth+"%";}}}}};this.removeEvent=function(event){store.remove(event);if(event.numDays()>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){td.removeChild(div);var colSpan=td.colSpan;if(colSpan>=2){td.colSpan=1;var nextSibling=td.nextSibling;var clone=td.cloneNode(true);for(var k=0;k<colSpan;k++){if(nextSibling){tr.insertBefore(clone,nextSibling);}
else{tr.appendChild(clone);}}}
if(multidayEventsTable.childNodes.length>1){var hasEvents=false;for(var k=1;k<tr.childNodes.length;k++){if(tr.childNodes[k].childNodes.length>0){hasEvents=true;break;}}
if(!hasEvents){multidayEventsTable.removeChild(tr);}}
var maxHeight=(multidayEventsTable.childNodes.length-1)*(eventHeight+eventPadding);if(maxHeight==0){multidayRow.style.display="none";multidayRow.style.visibility="hidden";}
else{multidayEventsTable.parentNode.parentNode.parentNode.style.height=(maxHeight+(eventPadding))+"px";}
return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}
var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var i=0;i<overlappingEvents.length;i++){for(var j=0;j<divs.length;j++){var div=divs[j];if(div.event.equals(overlappingEvents[i])){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}}
me.addEvents(overlappingEvents);}}};this.getEvents=function(){var events=[];var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;events.push(event);}
d.setDate(d.getDate()+1);}
for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;var addEvent=true;for(var k=0;k<events.length;k++){if(events[k].equals(event)){addEvent=false;break;}}
if(addEvent)events.push(event);}}}
return events;};this.clear=function(){var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;store.remove(event);var parentNode=div.parentNode;parentNode.removeChild(div);}
d.setDate(d.getDate()+1);}
var row=multidayEventsTable.childNodes[0];while(row.nextSibling){var tr=row.nextSibling;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;store.remove(event);}}
multidayEventsTable.removeChild(tr);}
multidayRow.style.display="none";multidayRow.style.visibility="hidden";};this.refresh=function(){var events=me.getEvents();me.clear();me.addEvents(events);me.scrollTo(6.5);};var addSingleDayEvent=function(event,deferUpdates){if(deferUpdates!=true)deferUpdates=false;var d=event.getStartDate();var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell==null)return;var width=100;var overlappingEvents,rects,leftCoords;if(!deferUpdates){rects=[];var overlappingEvents=getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){rects.push(_getRect(_outerDiv));}}
leftCoords=[];for(var i=0;i<rects.length;i++){var x=rects[i].left;var addCoord=true;for(j=0;j<leftCoords.length;j++){if(leftCoords[j]==x){addCoord=false;break;}}
if(addCoord)leftCoords.push(x);}
leftCoords.sort(function(a,b){return a-b;});var numColumns=leftCoords.length;width=(Math.floor((1/(numColumns+1))*100));for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;}}
for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(width<_width)_width=width;log(event.getSubject()+" intersects "+_event.getSubject());log("   Moving "+_event.getSubject()+" to 0 and setting width to "+_width+"% (was "+_outerDiv.style.width+")");_outerDiv.style.width=_width+"%";_outerDiv.style.left="0px";updatePadding(_outerDiv);if(!deferUpdates)updatePosition(_outerDiv,_event,_width);}}}
var outerDiv=document.createElement('div');outerDiv.style.width=width+"%";outerDiv.style.left="0px";updatePadding(outerDiv);outerDiv.style.position="absolute";var startTime=event.getStartDate().getHours()+(event.getStartDate().getMinutes()/60);var endTime=event.getEndDate().getHours()+(event.getEndDate().getMinutes()/60);var y=getVerticalOffset(startTime,cell);var h=getVerticalOffset(endTime,cell)-y;outerDiv.style.top=y+"px";outerDiv.style.height=h+'px';outerDiv.event=event;cell.appendChild(outerDiv);var div=event.createDiv();var tbody=createTable();outerDiv.appendChild(tbody.parentNode);var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');tr.appendChild(td);td.style.verticalAlign="top";td.style.width="100%";td.style.height="100%";td.style.padding=((eventPadding/2)+1)+"px "+eventPadding+"px "+(eventPadding/2)+"px";td.appendChild(div);if(isIE){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(eventPadding+1)+"px";}
if(isFirefox){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(((eventPadding/2)+1)*2)+"px";}
if(event.isEditable())initDrag(outerDiv,me,holdDelay);else{outerDiv.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};}
if(!deferUpdates){if(overlappingEvents.length>0){log("Update "+event.getSubject()+"?");updatePosition(outerDiv,event,width);var rightDiv;var r1=_getRect(outerDiv);var _right=r1.right;for(var i=0;i<leftCoords.length;i++){if(leftCoords[i]>=_right){for(var j=0;j<rects.length;j++){var x=rects[j].left;if(x==leftCoords[i]){rightDiv=getDiv(overlappingEvents[j]);break;}}
break;}
if(rightDiv!=null)break;}
if(rightDiv!=null){var _left=parseInt(outerDiv.style.left);var newWidth=parseInt(rightDiv.style.left)-_left;log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");outerDiv.style.width=newWidth+"%";}}}};var addMultiDayEvent=function(event){if(event.getEndDate()<startDate||event.getStartDate()>endDate)return;var startColID,endColID;var continueLeft=false;var continueRight=false;var a=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getStartDate());var b=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getEndDate());startColID=a;if(a<0){startColID=0;continueLeft=true;}
startColID=Math.floor(startColID);endColID=startColID+b;if(endColID>days-1){endColID=days-1;continueRight=true;}
endColID=Math.floor(endColID);var startCol,endCol;for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];var idx=0;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(idx==startColID){if(td.childNodes.length==0){startCol=td;}
else{i=multidayEventsTable.childNodes.length;break;}}
if(idx==endColID){if(td.childNodes.length==0){endCol=td;if(startCol!=endCol){var previousCol=td.previousSibling;while(previousCol!=startCol){if(previousCol.childNodes.length>0){startCol=endCol=null;break;}
previousCol=previousCol.previousSibling;}}}
i=multidayEventsTable.childNodes.length;break;}
var colSpan=td.colSpan;if(colSpan>=2)idx+=colSpan;else idx++;}}
if(!startCol||!endCol){var tr=document.createElement("tr");multidayEventsTable.appendChild(tr);var td=document.createElement("td");td.className="javaxt-cal-multiday-col-spacer";tr.appendChild(td);if(multidayEventsTable.childNodes.length>1){tr.previousSibling.childNodes[0].style.height='';}
td.style.height="100%";for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";tr.appendChild(td);if(i==startColID)startCol=td;if(i==endColID)endCol=td;}}
var colSpan=(endColID-startColID)+1;if(colSpan>=2){javaxt.dhtml.calendar.Utils.addColSpan(startCol,colSpan);}
var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="absolute";var innerDiv=document.createElement('div');innerDiv.style.height="100%";var paddingLeft=continueLeft?"0px":eventPadding+"px";var paddingRight=continueRight?"0px":eventPadding+"px";innerDiv.style.padding="0px "+paddingRight+" 0px "+paddingLeft;innerDiv.style.position="relative";outerDiv.appendChild(innerDiv);var div=event.createDiv(continueLeft,continueRight);div.style.height="100%";innerDiv.appendChild(div);var wrapper=document.createElement('div');wrapper.style.width="100%";wrapper.style.height=eventHeight+"px";wrapper.style.position="relative";wrapper.style.marginTop=(multidayEventsTable.childNodes.length>2?(eventPadding*2):0)+"px";wrapper.appendChild(outerDiv);wrapper.event=event;wrapper.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};startCol.appendChild(wrapper);multidayRow.style.display='';multidayRow.style.visibility="visible";var numMultiDayEvents=multidayEventsTable.childNodes.length-1;var h=numMultiDayEvents*(eventHeight+eventPadding);h=(h+(eventPadding*2));var multidayEventsDiv=multidayEventsTable.parentNode.parentNode.parentNode;multidayEventsDiv.style.height=h+"px";var h1=multidayEventsTable.childNodes[0].childNodes[1];var c1;for(var id in cells){if(cells.hasOwnProperty(id)){c1=cells[id].parentNode.parentNode;break;}}
var orgHeight=h;while(h1.offsetWidth>c1.offsetWidth){if(h<scrollWidth*2)h=scrollWidth*2;else h++;multidayEventsDiv.style.height=h+"px";if(h===100){multidayEventsDiv.style.height=orgHeight+"px";break;}}};this.getDOM=function(){return el;};this.next=function(){var d=new Date(startDate);d.setDate(d.getDate()+days);me.setDate(d);};this.back=function(){var d=new Date(startDate);d.setDate(d.getDate()-days);me.setDate(d);};this.setDate=function(d){if(d==null)d=getCurrentDate();if(date!=null){if(d.getFullYear()==date.getFullYear()&&d.getMonth()==date.getMonth()&&d.getDate()==date.getDate()){date=d;return;}}
date=d;startDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(days>1&&startDate.getDay()>0)startDate.setDate(startDate.getDate()-startDate.getDay());endDate=new Date(startDate);endDate.setDate(endDate.getDate()+days);renderTable();loadEvents();};this.getDate=function(){return date;};this.getDateRange=function(){return{startDate:new Date(startDate),endDate:new Date(endDate)};};this.getTitle=function(){if(days==1){var month=javaxt.dhtml.calendar.Utils.monthNames[date.getMonth()];return(month+" "+date.getDate()+", "+date.getFullYear());}
else{var range=me.getDateRange();var startDate=range.startDate;var endDate=range.endDate;endDate.setDate(endDate.getDate()-1);var startMonth=javaxt.dhtml.calendar.Utils.monthNames[startDate.getMonth()];var endMonth=javaxt.dhtml.calendar.Utils.monthNames[endDate.getMonth()];var a=startMonth+" "+startDate.getDate();var b=endDate.getDate()+", "+endDate.getFullYear();if(startDate.getMonth()==endDate.getMonth()&&startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+b);}
else{if(startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+endMonth+" "+b);}
else{return(a+", "+startDate.getFullYear()+" - "+endMonth+" "+b);}}}};var loadEvents=function(){var events=store.getEvents();for(var i=0;i<events.length;i++){if(events[i].getStartDate().getTime()<endDate.getTime()&&events[i].getEndDate().getTime()>=startDate.getTime()){me.addEvent(events[i]);}}};var updatePosition=function(div,_event,width){var r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};var divs=getDivs(_event.getStartDate());var x=0;while(x<=100){var shiftRight=false;for(var j=0;j<divs.length;j++){if(div==divs[j]){}
else{var r2=_getRect(divs[j]);r2={left:r2.left+1,right:r2.right-1,top:r2.top+1,bottom:r2.bottom-1};if(intersects(r1,r2)){log("   -- "+_event.getSubject()+" intersects "+divs[j].innerHTML);log(r1.left+" vs "+r2.left);log(r1.right+" vs "+r2.right);shiftRight=true;break;}}}
if(shiftRight){x++;div.style.left=(x*width)+"%";updatePadding(div);r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};log("   -- "+_event.getSubject()+" is now here: "+div.style.left+" (column "+(x+1)+")");}
else{break;}}
log("   -- "+_event.getSubject()+" is in column "+(x+1)+"/"+Math.floor(100/width));var _colIndex=x+1;var _numColumns=Math.floor(100/width);var _left=(x*width);if(_colIndex==_numColumns){if(_left+width<100){var newWidth=(width+(100-(_left+width)));log("   -- Updating "+_event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");div.style.width=newWidth+"%";widths["_"+newWidth]=width;}}};var updatePadding=function(outerDiv){var td;var el=outerDiv;while(el.childNodes.length>0){el=el.childNodes[0];if(el.tagName.toUpperCase()==="TD"){td=el;break;}}
if(td){var left=parseInt(outerDiv.style.left);if(left===0){td.style.paddingLeft=eventPadding+"px";}
else{td.style.paddingLeft="0px";}}};var sortEvents=function(events){var _events=[];for(var i=0;i<events.length;i++){_events.push(events[i]);}
var divs=[];for(var id in cells){if(cells.hasOwnProperty(id)){var cell=cells[id];for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}}
var getRow=function(event){var startRow=event.getStartDate().getHours()*2;if(event.getStartDate().getMinutes()>=30)startRow+=1;return startRow;};events.sort(function(event1,event2){var y1=getRow(event1);var y2=getRow(event2);var div1,div2;for(var i=0;i<_events.length;i++){if(_events[i].equals(event1)){div1=divs[i];}
if(_events[i].equals(event2)){div2=divs[i];}
if(div1!=null&&div2!=null)break;}
var x1=parseInt(div1.style.left);var x2=parseInt(div2.style.left);var a=x1+(y1*1000);var b=x2+(y2*1000);return a-b;});return events;};var getOverlappingEvents=function(event){var arr=[];var overlappingEvents=store.getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];if(_event.numDays()<1){var _div=getDiv(_event);if(_div!=null){arr.push(_event);}}}
return sortEvents(arr);};var getDivs=function(date){var divs=[];var d=new Date(date);var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell!=null){for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}
return divs;};var getDiv=function(event){if(event.numDays()>=1){}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event))return div;}}
return null;};this.getCells=function(){var arr=[];for(var id in cells){if(cells.hasOwnProperty(id)){var div=cells[id];var rect=_getRect(div);arr.push({id:id,rect:rect});}}
return arr;};var intersects=function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);};var createTable=function(){var table=document.createElement('table');table.style.width="100%";table.style.height="100%";table.cellSpacing=0;table.cellPadding=0;table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);return tbody;};var _getRect=javaxt.dhtml.calendar.Utils.getRect;var initDrag=javaxt.dhtml.calendar.Utils.initDrag;var log=function(str){if(debug)console.log(str);};init();};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Event=function(d){var h=this;var a;var i;var b,e;var c;var g;var j=function(){a=d.id;i=d.subject;b=new Date(d.startDate);e=new Date(d.endDate);c=d.editable;if(c==true){c=true}else{c=false}g={};for(var k in d){if(d.hasOwnProperty(k)){switch(k){case"subject","startDate","endDate","editable":break;default:g[k]=d[k]}}}};this.getID=function(){return a};this.getSubject=function(){return i};this.getStartDate=function(){return new Date(b)};this.setStartDate=function(k){b=new Date(k)};this.getEndDate=function(){return new Date(e)};this.setEndDate=function(k){e=new Date(k)};this.numDays=function(){return Math.floor(javaxt.dhtml.calendar.Utils.getDaysBetween(b,e))};this.isEditable=function(){return c};this.setEditable=function(k){c=k};this.get=function(k){switch(k){case"subject":return getSubject();break;case"startDate":return getStartDate();break;case"endDate":return getEndDate();break;case"editable":return isEditable();break;default:return g[k]}};this.toJson=function(){var l={};for(var k in g){if(g.hasOwnProperty(k)){l[k]=g[k]}}for(var k in h){if(h.hasOwnProperty(k)){if(k.indexOf("get")==0&&k!="get"){var m=h[k];k=k.substring(3,4).toLowerCase()+k.substring(4);if(k=="iD"){k="id"}var n=m.apply(h,[]);if(n instanceof Date){n=f(n)}l[k]=n}else{if(k.indexOf("is")==0){var m=h[k];k=k.substring(2,3).toLowerCase()+k.substring(3);l[k]=m.apply(h,[])}}}}return l};this.equals=function(o){var m=h.toJson();var l=o.toJson();for(var n in m){if(m.hasOwnProperty(n)){var k=m[n];var p=l[n];if(k==null&&p!=null){return false}if(k!=null&&p==null){return false}if(k!=null){if(k instanceof Date){if(!(p instanceof Date)){return false}else{k=k.getTime();p=p.getTime()}}if(k!=p){return false}}}}return true};this.createDiv=function(k,n){var m=document.createElement("div");m.className="javaxt-cal-event"+(k==true?" javaxt-cal-event-continue-left":"")+(n==true?" javaxt-cal-event-continue-right":"");m.style.height="100%";m.style.position="relative";m.style.overflow="hidden";var l=document.createElement("div");l.style.width="100%";l.style.height="100%";l.style.position="absolute";l.style.overflow="hidden";l.innerHTML=h.getSubject();m.appendChild(l);return m};var f=function(k){function l(m){return m<10?"0"+m:m}return k.getUTCFullYear()+"-"+l(k.getUTCMonth()+1)+"-"+l(k.getUTCDate())+"T"+l(k.getUTCHours())+":"+l(k.getUTCMinutes())+":"+l(k.getUTCSeconds())+"Z"};j()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.EventStore=function(a){this.className="javaxt.dhtml.calendar.EventStore";var b=this;var c=function(){if(a==null||!(a instanceof Array)){a=[]}};this.add=function(d){if(b.contains(d)){return}a.push(d)};this.remove=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){a.splice(d,1);break}}};this.contains=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){return true}}return false};this.clear=function(){a.length=0};this.getEvents=function(){return a};this.getOverlappingEvents=function(j){var e=j.getStartDate();var l=j.getEndDate();var k=[];var h=b.getEvents();for(var g=0;g<h.length;g++){if(!h[g].equals(j)){var f=h[g].getStartDate();var d=h[g].getEndDate();if(e.getTime()<d.getTime()&&f.getTime()<l.getTime()){k.push(h[g])}}}return k};c()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Month=function(m,D){this.className="javaxt.dhtml.calendar.Month";var E=this;var x;var c,v;var i;var d={};var w={};var A={};var e=[];var a=true;var F;var z;var g=javaxt.dhtml.calendar.Utils.dayNames;var h;var j=17;var r=2;var B=2;var y=500;var q=false;var t=function(){new javaxt.dhtml.calendar.View(E,D);h=D.eventStore==null?new javaxt.dhtml.calendar.EventStore():D.eventStore;function H(J){return !isNaN(parseFloat(J))&&isFinite(J)}if(H(D.eventHeight)){j=parseInt(D.eventHeight)}if(H(D.eventPadding)){r=parseInt(D.eventPadding)}if(H(D.eventSpacing)){B=parseInt(D.eventSpacing)}if(D.renderers){for(var G in D.renderers){if(D.renderers.hasOwnProperty(G)){if(E[G]){(function(J){E[J]=function(){var K=D.renderers[J];return K.apply(E,arguments)}})(G)}}}}F=false;var I=E.getListener("beforerender");if(I!=null){I.callback.apply(I.scope,[E])}E.setDate(D.date);I=E.getListener("afterrender");if(I!=null){I.callback.apply(I.scope,[E])}F=true;I=E.getListener("update");if(I!=null){I.callback.apply(I.scope,[E])}};this.hasHours=function(){return false};this.show=function(){var G=E.getDOM();m.appendChild(G)};this.hide=function(){var G=E.getDOM();m.removeChild(G)};this.enableTouch=function(){a=true};this.disableTouch=function(){a=false};var o=function(){if(x!=null){for(var W=0;W<m.childNodes.length;W++){if(m.childNodes[W]==x){m.removeChild(x);break}}}var G=f();x=G.parentNode;x.className="javaxt-noselect";x.style.cursor="default";var H=document.createElement("tr");H.setAttribute("desc","header-row");H.className="javaxt-cal-header";G.appendChild(H);var V=document.createElement("td");V.style.width="100%";H.appendChild(V);H=document.createElement("tr");H.setAttribute("desc","body-row");H.className="javaxt-cal-body";G.appendChild(H);var O=document.createElement("td");O.style.width="100%";O.style.height="100%";H.appendChild(O);G=f();var K=document.createElement("tr");G.appendChild(K);for(var W=0;W<g.length;W++){var M=document.createElement("td");M.className="javaxt-cal-header-col";M.style.width=(100/g.length)+"%";if(W==0){M.style.borderLeft="0px"}if(W==g.length-1){M.style.borderRight="0px"}M.appendChild(E.createColumnHeader(W));K.appendChild(M)}V.appendChild(G.parentNode);G=f();for(var W=0;W<i;W++){H=document.createElement("tr");M=document.createElement("td");M.style.width="100%";H.appendChild(M);G.appendChild(H);var S=f();M.appendChild(S.parentNode);for(var N=0;N<3;N++){H=document.createElement("tr");S.appendChild(H);M=document.createElement("td");M.style.width="100%";H.appendChild(M);var Y=f();if(N==1){var P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="absolute";P.style.whiteSpace="nowrap";P.style.overflow="hidden";P.appendChild(Y.parentNode);var L=document.createElement("div");L.style.width="100%";L.style.height="100%";L.style.position="relative";L.appendChild(P);M.style.height="100%";M.appendChild(L)}else{M.appendChild(Y.parentNode)}var R=1;if(N==1){R=2}for(var T=0;T<R;T++){var X=new Date(c);X.setDate(X.getDate()+(W*g.length));H=document.createElement("tr");Y.appendChild(H);for(var U=0;U<g.length;U++){M=document.createElement("td");M.style.width=(100/g.length)+"%";M.className="javaxt-cal-cell";if(X.getMonth()<z.getMonth()){M.className+="-prev-month"}else{if(X.getMonth()>z.getMonth()){M.className+="-next-month"}}var Q=(X.getMonth()+1)+"-"+X.getDate()+"-"+X.getFullYear();var I=d[Q];if(I==null){d[Q]=[M]}else{d[Q].push(M)}M.date=new Date(X);if(N==1){M.onclick=function(ae){var ab=this;var ad=false;var aa=ab.childNodes[0];if(aa.childNodes.length>0){var af=n(aa.childNodes[0]);var Z=aa.childNodes.length==1?af:n(aa.childNodes[aa.childNodes.length-1]);var ag=ae.clientY;if(ag<af.top||ag>Z.bottom){}else{ad=true}}if(!ad){var aj=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ah=ac.callback;var ai=ac.scope;ah.apply(ai,[aj,ab,E,ae])}}}}else{M.onclick=function(ad){var ab=this;var Z=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ae=ac.callback;var aa=ac.scope;ae.apply(aa,[Z,ab,E,ad])}}}M.ontouchstart=function(aa){aa.preventDefault();if(a){var ac=aa.touches[0];var Z=ac.pageX;var ab=ac.pageY;this.onclick.apply(this,[{clientX:Z,clientY:ab}])}};if(N==0){M.className+=" javaxt-cal-cell-header";M.appendChild(E.createCellHeader(new Date(X),W,U))}else{if(N==1){if(T==0){w[Q]=[M];M.style.height="1px"}else{P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="relative";M.appendChild(P);A[Q]=M}}else{if(N==2){M.className+=" javaxt-cal-cell-footer";M.style.height="1px";M.appendChild(E.createCellFooter(new Date(X),W,U))}}}X.setDate(X.getDate()+1);if(U==0){M.style.borderLeft="0px"}if(U==g.length-1){M.style.borderRight="0px"}if(W==0){M.style.borderTop="0px"}if(W==i-1){M.style.borderBottom="0px"}H.appendChild(M)}}}}O.appendChild(G.parentNode);m.appendChild(x);if(F){var J=E.getListener("update");if(J!=null){J.callback.apply(J.scope,[E])}}};this.createColumnHeader=function(G){var I=document.createElement("div");I.style.width="100%";I.style.height="100%";I.style.position="relative";var H=document.createElement("div");H.style.width="100%";H.style.height="100%";H.style.position="absolute";H.style.whiteSpace="nowrap";H.style.overflow="hidden";H.innerHTML=g[G];I.appendChild(H);return I};this.createCellHeader=function(I,J,H){var K=I.getDate();var G=javaxt.dhtml.calendar.Utils.monthNames[I.getMonth()].substring(0,3)+" ";if(J==0&&H==0){K=G+K}else{if(K==1){K=G+K}}var L=document.createElement("div");L.innerHTML=K;return L};this.createCellFooter=function(H,I,G){var J=document.createElement("div");return J};this.getCells=function(){var L=[];for(var H in d){if(d.hasOwnProperty(H)){var O=d[H];var K=n(O[0]);var J=n(O[O.length-1]);var I=K.left;var G=K.right;var P=K.top;var N=J.bottom;var M={left:I,right:G,top:P,bottom:N,width:G-I,height:N-P};L.push({id:H,rect:M})}}return L};this.getEventStore=function(){return h};this.addEvent=function(H){k("Adding "+H.getSubject()+"...");var N=H.numDays();if(N>=1){for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];if(O!=null){for(var M=1;M<O.length;M++){var L=O[M];var J=L.firstChild;if(J!=null){var K=J.event;if(K.equals(H)){return}}}}}}}else{var P=H.getStartDate();var I=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var L=A[I];if(L!=null){var G=L.childNodes[0];for(var M=0;M<G.childNodes.length;M++){if(G.childNodes[M].event.equals(H)){return}}}}if(N>=1){b(H)}else{C(H)}h.add(H)};this.removeEvent=function(aa){h.remove(aa);if(aa.numDays()>=1){var S=[];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var ac=1;ac<H.length;ac++){var Q=H[ac];var L=Q.firstChild;if(L!=null){var P=L.event;if(P.equals(aa)){Q.removeChild(L);var K=Q.parentNode;if(K!=null){var J=true;for(var Z=0;Z<S.length;Z++){if(S[Z]==K){J=false;break}}if(J){S.push(K)}}}}}}}for(var ac=0;ac<S.length;ac++){var K=S[ac];var O=0;var T=[];for(Z=0;Z<K.childNodes.length;Z++){var Q=K.childNodes[Z];T.push(Q);var L=Q.firstChild;if(L!=null){O++}}if(O==0){var I=K.parentNode;I.removeChild(K);for(Z=0;Z<T.length;Z++){var Q=T[Z];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var Y=1;Y<H.length;Y++){var ag=H[Y];if(Q==ag){H.splice(Y,1);if(Q.colSpan>=2){var X=W.split("-");var af=parseInt(X[0]);var ab=parseInt(X[1]);var U=parseInt(X[2]);var ae=new Date(U,af-1,ab);for(var R=1;R<Q.colSpan;R++){ae.setDate(ae.getDate()+1);var M=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();var N=w[M];N.splice(Y,1)}}break}}}}}var G=I.childNodes[0];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];if(H.length>1){var Q=H[1];if(Q.parentNode!=null){if(Q.parentNode.previousSibling==G){var L=Q.firstChild;if(L!=null){L.style.marginTop="0px"}}}}}}}}u()}else{var ad=aa.getStartDate();var W=(ad.getMonth()+1)+"-"+ad.getDate()+"-"+ad.getFullYear();var Q=A[W];var V=Q.childNodes[0];for(var ac=0;ac<V.childNodes.length;ac++){if(V.childNodes[ac].event.equals(aa)){V.removeChild(V.childNodes[ac]);break}}}};this.getEvents=function(){var P=[];for(var I in A){if(A.hasOwnProperty(I)){var K=A[I];var G=K.childNodes[0];for(var N=0;N<G.childNodes.length;N++){var J=G.childNodes[N];var H=J.event;P.push(H)}}}for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];for(var N=1;N<O.length;N++){var K=O[N];var J=K.firstChild;if(J!=null){var H=J.event;var M=true;for(var L=0;L<P.length;L++){if(P[L].equals(H)){M=false;break}}if(M){P.push(H)}}}}}return P};this.clear=function(){for(var J in A){if(A.hasOwnProperty(J)){var L=A[J];var H=L.childNodes[0];H.style.marginTop="0px";while(H.firstChild){var K=H.firstChild;var I=K.event;h.remove(I);H.removeChild(K)}}}var R=[];for(var J in w){if(w.hasOwnProperty(J)){var P=w[J];for(var O=1;O<P.length;O++){var L=P[O];var K=L.firstChild;if(K!=null){var I=K.event;h.remove(I)}var Q=L.parentNode;if(Q!=null){var G=true;for(var M=0;M<R.length;M++){if(R[M]==Q){G=false;break}}if(G){R.push(Q)}}}w[J]=[P[0]]}}for(var O=0;O<R.length;O++){var Q=R[O];var N=Q.parentNode;N.removeChild(Q)}};this.refresh=function(){var H=E.getEvents();E.clear();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var C=function(I){var P=I.getStartDate();var J=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var M=A[J];if(M==null){return}var G=I.createDiv(E);var H=document.createElement("div");H.style.width="100%";H.style.height=j+"px";H.style.marginTop=(B*2)+"px";H.style.position="relative";H.style.cursor="pointer";H.event=I;var Q=document.createElement("div");Q.style.width="100%";Q.style.height="100%";Q.style.position="absolute";H.appendChild(Q);var L=document.createElement("div");L.style.height="100%";L.style.padding="0px "+r+"px";L.style.position="relative";Q.appendChild(L);L.appendChild(G);if(I.isEditable()){s(H,E,y)}else{H.onclick=function(T){var S=E.getListener("eventclick");if(S!=null){var U=S.callback;var R=S.scope;U.apply(R,[this.event,this,E,T])}}}var G=M.childNodes[0];var O=false;for(var N=0;N<G.childNodes.length;N++){var K=G.childNodes[N].event;if(!I.equals(K)){if(K.getStartDate().getTime()>=I.getStartDate().getTime()){G.insertBefore(H,G.childNodes[N]);O=true;break}}}if(!O){G.appendChild(H)}};var b=function(aa){var T=[];for(var S=0;S<aa.numDays()+1;S++){var ae=new Date(aa.getStartDate());ae.setDate(ae.getDate()+S);var W=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();if(w[W]!=null){T.push(w[W])}}if(T.length==0){return}var N=[];var ab=[];for(var ac=0;ac<T.length;ac++){var L=T[ac][0];ab.push(T[ac]);if(L.nextSibling==null){N.push(ab);ab=[]}}if(ab.length>0){N.push(ab)}for(var ac=0;ac<N.length;ac++){var T=N[ac];var Y;var L=null;if(T[0].length>1){for(Y=1;Y<T[0].length;Y++){var Q=false;for(var Z=0;Z<T.length;Z++){var P=T[Z][Y];if(P.childNodes.length>0||P.parentNode==null){Q=true;break}}if(!Q){L=T[0][Y];break}}}if(L==null){var R=T[0][T[0].length-1].parentNode;var X=R.nextSibling;var J=T[0][0].parentNode.cloneNode(true);R.parentNode.insertBefore(J,X);for(var Z=0;Z<T[0][0].parentNode.childNodes.length;Z++){var O=T[0][0].parentNode.childNodes[Z];for(var ag in w){if(w.hasOwnProperty(ag)){var I=w[ag];if(I[0]==O){I.push(J.childNodes[Z])}}}}Y=T[0].length-1;L=T[0][Y]}javaxt.dhtml.calendar.Utils.addColSpan(L,T.length);var H=ac>0&&L.previousSibling==null;var U=L.nextSibling==null&&(N.length>1&&ac<N.length-1);var V=aa.createDiv(H,U);var K=document.createElement("div");K.style.width="100%";K.style.height="100%";K.style.position="absolute";var af=document.createElement("div");af.style.height="100%";var ad=H?"0px":r+"px";var G=U?"0px":r+"px";af.style.padding="0px "+G+" 0px "+ad;af.style.position="relative";K.appendChild(af);V.style.height="100%";af.appendChild(V);var M=document.createElement("div");M.style.width="100%";M.style.height=j+"px";M.style.position="relative";if(Y>1){M.style.marginTop=(B*2)+"px"}M.appendChild(K);M.event=aa;M.onclick=function(aj){var ai=E.getListener("eventclick");if(ai!=null){var ak=ai.callback;var ah=ai.scope;ak.apply(ah,[this.event,this,E,aj])}};L.appendChild(M);L.style.height=j+"px";e.push(M)}u()};var u=function(){for(var H in A){if(A.hasOwnProperty(H)){var J=A[H];var G=J.childNodes[0];var O=w[H];var K=0;var Q=0;var I=null;for(var L=1;L<O.length;L++){if(O[L].childNodes.length>0||O[L].parentNode==null){Q++;I=L}}var M=J.parentNode;var N=n(M).top;var P;if(I!=null){var R=M.parentNode.childNodes[I];P=n(R).bottom;K=N-P}else{P=n(M.parentNode.childNodes[0]).top;K=((N-P)+((B*2)-1))}G.style.marginTop=-K+"px"}}};var f=function(){var H=document.createElement("table");H.style.width="100%";H.style.height="100%";H.cellSpacing=0;H.cellPadding=0;H.style.borderCollapse="collapse";var G=document.createElement("tbody");H.appendChild(G);return G};this.getDOM=function(){return x};this.next=function(){z.setMonth(z.getMonth()+1);l(z);o();p()};this.back=function(){z.setMonth(z.getMonth()-1);l(z);o();p()};this.setDate=function(G){if(G==null){G=new Date()}if(z!=null){if(G.getFullYear()==z.getFullYear()&&G.getMonth()==z.getMonth()){z=G;return}}z=G;l(z);o();p()};this.getDate=function(){return z};var l=function(K){var H=K.getFullYear();var I=K.getMonth()+1;var J=new Date(H,I-1,1);var G=new Date(H,I,0);i=Math.ceil((J.getDay()+G.getDate())/7);c=new Date(J);c.setDate(c.getDate()-J.getDay());v=new Date(G);v.setDate(v.getDate()+(6-G.getDay()))};this.getDateRange=function(){return{startDate:new Date(c),endDate:new Date(v)}};this.getTitle=function(){return(javaxt.dhtml.calendar.Utils.monthNames[z.getMonth()]+" "+z.getFullYear())};var p=function(){var H=h.getEvents();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var n=javaxt.dhtml.calendar.Utils.getRect;var s=javaxt.dhtml.calendar.Utils.initDrag;var k=function(G){if(q){console.log(G)}};t()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Utils={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],getDaysBetween:function(c,d){function b(f){var e=new Date(f);e.setMinutes(e.getMinutes()-e.getTimezoneOffset());return e}var a=24*60*60*1000;return(b(d)-b(c))/a},addColSpan:function(c,b){if(b<2){return}c.colSpan=b;var a=function(k,g){if(k==null){return}var l=k;var j=l.parentNode;var d=0;var e=[];while(d<g){var h=l.colSpan;if(h==null||h<2){h=1}d=d+h;e.push(l);l=l.nextSibling;if(l==null){break}}for(var f=0;f<e.length;f++){j.removeChild(e[f])}};a(c.nextSibling,b-1)},getRect:function(e){if(e.getBoundingClientRect){return e.getBoundingClientRect()}else{var a=0;var g=0;var b=e.offsetWidth;var d=e.offsetHeight;function c(h){return h===parseFloat(h)}var f=e;do{a+=e.offsetLeft-e.scrollLeft;g+=e.offsetTop-e.scrollTop}while(e=e.offsetParent);e=f;do{if(c(e.scrollLeft)){a-=e.scrollLeft}if(c(e.scrollTop)){g-=e.scrollTop}}while(e=e.parentNode);return{left:a,right:a+b,top:g,bottom:g+d,width:b,height:d}}},initDrag:function(o,l,A){var u=null;var t=false;o.onmousedown=function(C){u=setTimeout(function(){u=null;t=true;b(C);if(document.addEventListener){document.addEventListener("mousemove",n);document.addEventListener("mouseup",h)}else{if(document.attachEvent){document.attachEvent("onmousemove",n);document.attachEvent("onmouseup",h)}}},A)};var h=function(G){var E=B(o);E.className=E.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var H=F.callback;var D=F.scope;H.apply(D,[o.event,o,l,G])}}else{if(t){t=false;if(document.removeEventListener){document.removeEventListener("mousemove",n);document.removeEventListener("mouseup",h)}else{if(document.detachEvent){document.detachEvent("onmousemove",n);document.detachEvent("onmouseup",h)}}o.style.cursor="pointer";v(o);var C=document.getElementsByTagName("body")[0];C.className=C.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};o.onmouseup=h;var x,w,g,f;var y,m;var c=function(C){w=C.changedTouches[0].pageX;f=C.changedTouches[0].pageY;if(y&&t===false){y.scrollTop=m+(g-f)}};var d=function(){if(document.removeEventListener){document.removeEventListener("touchmove",c);document.removeEventListener("touchend",d)}else{if(document.detachEvent){document.detachEvent("ontouchmove",c);document.detachEvent("ontouchend",d)}}};o.ontouchstart=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;x=D.changedTouches[0].pageX;g=D.changedTouches[0].pageY;y=l.getScrollDiv();if(y){m=y.scrollTop;if(document.addEventListener){document.addEventListener("touchmove",c);document.addEventListener("touchend",d)}else{if(document.attachEvent){document.attachEvent("ontouchmove",c);document.attachEvent("ontouchend",d)}}}l.disableTouch();u=setTimeout(function(){u=null;var G=Math.sqrt((w-=x)*w+(f-=g)*f);if(G<0){G=-G}if(G>10){t=false;return}t=true;b({clientX:C,clientY:E});if(document.addEventListener){o.addEventListener("touchmove",i)}else{if(document.attachEvent){o.attachEvent("ontouchmove",i)}}},A)};o.ontouchend=function(G){l.enableTouch();if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var J=F.callback;var E=F.scope;var I=G.changedTouches[0];var C=I.pageX;var H=I.pageY;J.apply(E,[o.event,o,l,{clientX:C,clientY:H}])}}else{if(t){t=false;v(o);var D=B(o);D.className=D.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(document.removeEventListener){o.removeEventListener("touchmove",i)}else{if(document.detachEvent){o.detachEvent("ontouchmove",i)}}}}};var n=function(D){var C=D.clientX;var E=D.clientY;o.style.left=(C-o.xOffset)+"px";o.style.top=(E-o.yOffset)+"px"};var i=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;n({clientX:C,clientY:E})};var b=function(J){var O=J.clientX;var L=J.clientY;var N=k(o);var M=N.top-parseInt(o.style.marginTop);var K=O-N.left;var E=l.hasHours()?(N.height/2):L-M;var H=o.parentNode;var F={width:o.style.width,left:o.style.left,top:o.style.top,rect:N};o.orgStyle=F;o.orgParent=H;o.xOffset=K;o.yOffset=E;var I=document.getElementsByTagName("body")[0];if(!I.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){I.className+=(I.className.length==0?"":" ")+"javaxt-noselect"}var G=o.nextSibling;H.removeChild(o);I.appendChild(o);if(l.hasHours()==false&&G!=null){var C=document.createElement("div");C.style.width="100%";C.style.height=N.height+"px";C.style.marginTop=o.style.marginTop;H.insertBefore(C,G);C.event=o.event}o.style.position="absolute";o.style.width=N.width+"px";o.style.left=N.left+"px";o.style.top=(L-E)+"px";o.style.cursor="move";o.style.zIndex=a();var D=B(o);D.className+=" javaxt-cal-event-drag"};var v=function(J){var E=k(J);var Q=E.top;var H=r(E);if(H.length==0){j(J);return}var D;if(H.length==1){D=H[0]}else{var T={};var I=[];for(var M=0;M<H.length;M++){var D=H[M];var O=s(E,D);I.push(O);T[O]=D}I.sort(function(V,U){return U-V});D=T[I[0]]}var L=J.event;var P=L.getStartDate();var K=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();if(D.id==K){if(l.hasHours()){var S=1;var R=Q-J.orgStyle.rect.top;var P=Math.sqrt(S*S+R*R);if(P<15){j(J);return}var G=L.getStartDate();var N=L.getEndDate();p(z(Q+5,J),G,N);e(L,G,N)}else{j(J)}}else{var C=D.id.split("-");var G=L.getStartDate();G.setFullYear(parseInt(C[2]));G.setMonth(parseInt(C[0])-1);G.setDate(parseInt(C[1]));var F=Math.round((G.getTime()-L.getStartDate().getTime())/(24*60*60*1000));var N=L.getEndDate();N.setDate(N.getDate()+F);if(l.hasHours()){p(z(Q+5,J),G,N)}e(L,G,N)}};var e=function(E,C,G){var D=function(I){if(I==true){var H=o.parentNode;H.removeChild(o);l.removeEvent(E);E.setStartDate(C);E.setEndDate(G);l.addEvent(E);F=l.getListener("aftermove");if(F!=null){F.callback.apply(F.scope,[E,l])}}else{j(o)}};var F=l.getListener("beforemove");if(F!=null){F.callback.apply(F.scope,[E,new Date(C),new Date(G),D])}else{D(true)}};var j=function(I){var C=I.parentNode;C.removeChild(I);var E=I.orgStyle;I.style.left=E.left;I.style.top=E.top;I.style.width=E.width;if(l.hasHours()){I.orgParent.appendChild(I)}else{I.style.position="relative";var D=null;var H=I.event;for(var F=0;F<I.orgParent.childNodes.length;F++){if(I.orgParent.childNodes[F].event.equals(H)){D=I.orgParent.childNodes[F];break}}if(D==null){I.orgParent.appendChild(I)}else{var G=D.nextSibling;if(G==null){I.orgParent.removeChild(D);I.orgParent.appendChild(I)}else{I.orgParent.insertBefore(I,D);I.orgParent.removeChild(D)}}}I.orgParent=null;I.orgStyle=null};var B=function(E){var C=E;while(C.childNodes.length>0){var D=C.childNodes[0];if(D.className.match(/(?:^|\s)javaxt-cal-event(?!\S)/)){return D}else{C=D}}};var r=function(F){var C=F.left;var H=F.right;var I=F.top;var G=F.bottom;var E=[];var D=function(J){if(J==null){return}for(var K=0;K<E.length;K++){if(E[K].id==J.id){return}}E.push(J)};D(q(C,I));D(q(C,G));D(q(H,G));D(q(H,I));return E};var q=function(J,H){var L=l.getCells();for(var G=0;G<L.length;G++){var K=L[G];var I=K.rect;var F=I.left;var D=I.right;if(J>=F&&J<=D){var E=I.top;var C=I.bottom;if(H>=E&&H<=C){return K}}}return null};var s=function(F,O){var L=O.rect;var I=L.left;var E=L.right;var G=L.top;var D=L.bottom;var H=F.left;var N=F.right;var K=F.top;var C=F.bottom;if(H<I){H=I}if(N>E){N=E}if(K<G){K=G}if(C>D){C=D}var M=N-H;var J=C-K;return M*J};var z=function(M,D){var N=[];var K=D.orgParent;for(var I=0;I<K.childNodes.length;I++){var E=K.childNodes[I];var F=E.tagName.toLowerCase();if(F=="table"){var J=E.childNodes[0];for(var H=0;H<J.childNodes.length;H++){N.push(J.childNodes[H])}}}for(var I=0;I<N.length;I++){var L=k(N[I]);var G=L.top;var C=L.bottom;if(M>=G&&M<=C){return(I/2)}}return null};var p=function(H,D,G){var F=H-(D.getHours()+(D.getMinutes()/60));var E=Math.floor(F);var C=Math.abs((F%1)*60);D.setHours(D.getHours()+E);D.setMinutes(D.getMinutes()+C);G.setHours(G.getHours()+E);G.setMinutes(G.getMinutes()+C)};var k=javaxt.dhtml.calendar.Utils.getRect;var a=function(F){var E=0;var C=0;var G=Array();if(F){G=F.getElementsByTagName("*")}else{G=document.getElementsByTagName("*")}for(var D=0;D<G.length;D++){if(G[D].currentStyle){C=parseFloat(G[D].currentStyle.zIndex)}else{if(window.getComputedStyle){C=parseFloat(document.defaultView.getComputedStyle(G[D],null).getPropertyValue("z-index"))}}if(!isNaN(C)&&C>E){E=C}}return(E+1)}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.View=function(a,b){this.next=function(){};this.back=function(){};this.getDate=function(){};this.setDate=function(){};this.getDateRange=function(){};this.hasHours=function(){};this.getTitle=function(){};this.addEvent=function(e){};this.removeEvent=function(e){};this.getEvents=function(){};this.getEventStore=function(){};this.refresh=function(){};this.clear=function(){};this.show=function(){};this.hide=function(){};this.showFooter=function(){};this.hideFooter=function(){};this.getDOM=function(){};this.enableTouch=function(){};this.disableTouch=function(){};this.getScrollDiv=function(){};this.addEvents=function(f){for(var e=0;e<f.length;e++){a.addEvent(f[e])}};this.getCells=function(){};this.getListener=function(e){var g=b.listeners;if(g!=null){var f=g.scope;if(f==null){f=a}var h=g[e];if(h!=null){return{callback:h,scope:f}}}return null};this.addListener=function(e,h,g){var f=b.listeners;if(f==null){f={}}f[e]={callback:h,scope:g==null?a:g}};this.removeListener=function(e){var f=b.listeners;if(f!=null){delete f[e]}};var d=this;for(var c in d){if(d.hasOwnProperty(c)){if(a[c]==null){a[c]=d[c]}}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Week=function(c,a){this.className="javaxt.dhtml.calendar.Week";var d=this;var b;var e=function(){var i=a;a={};for(var g in i){if(i.hasOwnProperty(g)){a[g]=i[g]}}a.days=7;b=a.listeners;if(b!=null){a.listeners={beforerender:function(j){for(var k in j){if(j.hasOwnProperty(k)){if(d[k]==null){d[k]=j[k]}}}var l=d.getListener("beforerender");if(l!=null){l.callback.apply(l.scope,arguments)}}};for(var h in b){if(b.hasOwnProperty(h)){if(h!="beforerender"){(function(j){a.listeners[j]=function(){var k=d.getListener(j);if(k!=null){k.callback.apply(k.scope,arguments)}}})(h)}}}}var f=new javaxt.dhtml.calendar.Day(c,a);f.getListener=d.getListener};this.getListener=function(f){if(b!=null){var g=b.scope;if(g==null){g=d}var h=b[f];if(h!=null){return{callback:function(){for(var j=0;j<arguments.length;j++){if(arguments[j] instanceof javaxt.dhtml.calendar.Day){arguments[j]=d}}h.apply(g,arguments)},scope:g}}}return null};e()};
javaxt.dhtml.Callout=function(n,e){this.className="javaxt.dhtml.Callout";var j=this;var b,f,g,l,c;var d=false;var h={position:"absolute",arrowLocation:"left",arrowAlignment:"top",style:{panel:{border:"1px solid #c5d9e8",backgroundColor:"#eef4f9",borderRadius:"6px",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)"},arrow:{borderColor:"#c5d9e8",backgroundColor:"#eef4f9",width:"10px",height:"10px",padding:"10px"}}};var o=function(){var w={};k(w,e);k(w,h);e=w;b=document.createElement("div");b.setAttribute("desc",j.className);if(e.position==="absolute"){b.style.display="none";b.style.position="absolute";b.style.top=b.style.left=0}n.appendChild(b);j.el=b;g=document.createElement("div");i(g,"panel");g.style.position="relative";g.style.margin=0;g.style.padding=0;g.style.borderWidth="1px";b.appendChild(g);f=document.createElement("div");f.style.width="100%";f.style.height="100%";g.appendChild(f);var r=document.createElement("div");i(r,"arrow");r.style.position="absolute";r.style.visibility="hidden";r.style.display="block";var q=document.getElementsByTagName("body")[0];q.appendChild(r);var t=r.currentStyle||window.getComputedStyle(r);var p=function(B){var y=function(D){if(t.getPropertyValue){var C=t.getPropertyValue(D);if(C&&C.length>0){return C}D=D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return t.getPropertyValue(D)}else{return t[D]}};if(B instanceof Array){var x=B;for(var z=0;z<x.length;z++){var A=y(x[z]);if(A&&A.length>0){return A}}}else{return y(B)}};e.arrow={backgroundColor:p("backgroundColor"),borderColor:p(["borderColor","borderLeftColor","borderRightColor","borderTopColor","borderBottomColor"]),paddingTop:parseInt(p("paddingTop")),paddingBottom:parseInt(p("paddingBottom")),paddingLeft:parseInt(p("paddingLeft")),paddingRight:parseInt(p("paddingRight"))};r.style.border=0;r.style.padding=0;r.style.margin=0;e.arrow.width=r.offsetWidth;e.arrow.height=r.offsetHeight;q.removeChild(r);r=null;l=document.createElement("b");l.setAttribute("desc","notch");l.style.position="absolute";l.style.top=0;l.style.left=0;l.style.margin=0;l.style.padding=0;l.style.width=0;l.style.height=0;l.style.fontSize=0;l.style.lineHeight=0;c=document.createElement("b");c.setAttribute("desc","notchBorder");c.style.position="absolute";c.style.top=0;c.style.left=0;c.style.margin=0;c.style.padding=0;c.style.width=0;c.style.height=0;c.style.fontSize=0;c.style.lineHeight=0;b.appendChild(c);b.appendChild(l);if(e.position==="absolute"){var v=function(){j.hide()};var s=function(A){var z=A.clientX;var B=A.clientY;m(z,B)};var u=function(A){var z=A.changedTouches[0].pageX;var B=A.changedTouches[0].pageY;m(z,B)};if(document.addEventListener){document.addEventListener("click",s);document.addEventListener("touchstart",u);window.addEventListener("resize",v)}else{if(document.attachEvent){document.attachEvent("onclick",s);document.attachEvent("ontouchstart",u);window.attachEvent("onresize",v)}}}};var m=function(p,u){if(d){return}if(b.style.display==="block"){var r=parseInt(b.style.left);var q=r+b.offsetWidth;var t=parseInt(b.style.top);var s=t+b.offsetHeight;if(p<r||p>q){j.hide()}else{if(u<t||u>s){j.hide()}}}};this.getInnerDiv=function(){return f};this.getSize=function(){var p;if(b.style.display==="none"){b.style.visibility="hidden";b.style.display="block";p={width:b.offsetWidth,height:b.offsetHeight};b.style.visibility="";b.style.display="none"}else{p={width:b.offsetWidth,height:b.offsetHeight}}return p};this.show=function(){d=true;b.style.zIndex=a();b.style.display="block";j.onShow();setTimeout(function(){d=false},500)};this.showAt=function(A,w,s,u){d=true;b.style.visibility="hidden";b.style.display="block";var C=e.arrow.backgroundColor;var r=e.arrow.borderColor;var q=Math.max(e.arrow.width,e.arrow.height);var p=0;var B=q;var v=q;var t=function(){if(u==="left"){p=e.arrow.paddingLeft;b.style.left=(A-(p+B))+"px";l.style.left=c.style.left=p+"px"}else{if(u==="right"){p=e.arrow.paddingRight;b.style.left=((A-b.offsetWidth)+(p+B))+"px";l.style.left=c.style.left=(b.offsetWidth-(p+(B*2)))+"px"}else{if(u==="center"||u==="middle"){var x=b.offsetWidth/2;b.style.left=(A-x)+"px";l.style.left=c.style.left=(x-B)+"px"}else{return}}}};var z=function(){g.style.top="0px";if(u==="top"){p=e.arrow.paddingTop;b.style.top=(w-(p+B))+"px";l.style.top=c.style.top=p+"px"}else{if(u==="bottom"){p=e.arrow.paddingBottom;b.style.top=((w-b.offsetWidth)+(p+B))+"px";l.style.top=c.style.top=(b.offsetHeight-(p+(B*2)))+"px"}else{if(u==="middle"||u==="center"){var x=b.offsetHeight/2;b.style.top=(w-x)+"px";l.style.top=c.style.top=(x-B)+"px"}else{return}}}};if(s==="above"){l.style.borderTop=c.style.borderTop=q+"px solid "+C;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=0;c.style.borderTopColor=r;b.style.top=((w-b.offsetHeight)-v)+"px";g.style.top="0px";l.style.top=(b.offsetHeight-1)+"px";c.style.top=b.offsetHeight+"px";t()}else{if(s==="below"){l.style.borderTop=c.style.borderTop=0;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=q+"px solid "+C;c.style.borderBottomColor=r;b.style.top=w+"px";g.style.top=v+"px";l.style.top="1px";c.style.top="0px";t()}else{if(s==="left"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=q+"px solid "+C;l.style.borderRight=c.style.borderRight=0;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderLeftColor=r;b.style.left=(A-(b.offsetWidth+v))+"px";g.style.left="0px";l.style.left=(b.offsetWidth-1)+"px";c.style.left=b.offsetWidth+"px";z()}else{if(s==="right"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=0;l.style.borderRight=c.style.borderRight=q+"px solid "+C;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderRightColor=r;b.style.left=A+"px";g.style.left=v+"px";l.style.left="1px";c.style.left="0px";z()}else{return}}}}b.style.visibility="";j.show()};this.hide=function(){b.style.display="none";d=false;j.onHide()};this.onShow=function(){};this.onHide=function(){};var k=javaxt.dhtml.utils.merge;var a=javaxt.dhtml.utils.getNextHighestZindex;var i=function(q,p){javaxt.dhtml.utils.setStyle(q,e.style[p])};o()};
javaxt.dhtml.Carousel=function(h,q){this.className="javaxt.dhtml.Carousel";var r=this;var e,s;var o;var n=false;var p;var j={animate:true,animationSteps:250,transitionEffect:"linear",fx:null,loop:false,visiblePanels:1,drag:true,padding:0};var l=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var z={};f(z,q);f(z,j);q=z;var y=[];if(q.items){y=q.items}else{for(var v=0;v<h.childNodes.length;v++){var u=h.childNodes[v];if(u.nodeType===1){y.push(u)}}for(var v=0;v<y.length;v++){h.removeChild(y[v])}h.innerHTML=""}e=document.createElement("div");e.setAttribute("desc",r.className);e.style.position="relative";e.style.width="100%";e.style.height="100%";h.appendChild(e);r.el=e;var x=document.createElement("div");x.style.position="absolute";x.style.overflow="hidden";x.style.width="100%";x.style.height="100%";var A=q.padding;if(A>0){x.style.padding="0 "+A+"px";x.style.left=-A+"px"}e.appendChild(x);s=document.createElement("div");s.style.position="absolute";s.style.left="0px";s.style.height="100%";x.appendChild(s);if(q.drag===true){c();m(s)}for(var v=0;v<y.length;v++){r.add(y[v])}g(h,function(){r.resize()});var B=e.offsetWidth;if(B===0||isNaN(B)){var t;var C=function(){var D=e.offsetWidth;if(D===0||isNaN(D)){t=setTimeout(C,100)}else{clearTimeout(t);d()}};t=setTimeout(C,100)}else{d()}};var d=function(){r.resize();r.onRender()};this.onRender=function(){};this.show=function(){r.el.style.visibility="";r.el.style.display=""};this.hide=function(){r.el.style.visibility="hidden";r.el.style.display="none"};this.add=function(v){var t=parseInt(s.style.width);if(isNaN(t)){t=0}var y=document.createElement("div");y.style.width=e.offsetWidth+"px";y.style.height="100%";y.style.position="relative";y.style.display="inline-block";var x=q.padding;if(x>0){y.style.width=(e.offsetWidth+(x*2))+"px"}s.appendChild(y);var u=document.createElement("div");u.style.width="100%";u.style.height="100%";u.style.position="absolute";u.style.overflow="hidden";if(x>0){u.style.padding="0 "+x+"px";u.style.width=e.offsetWidth+"px"}y.appendChild(u);u.appendChild(v);s.style.width=(t+y.offsetWidth)+"px";if(!o){o=y}r.resize()};this.resize=function(){var w=e.offsetWidth;var y=q.padding;if(y>0){w+=(y*2)}var t=s.childNodes.length;s.style.width=(w*t)+"px";var x=0;for(var v=0;v<t;v++){s.childNodes[v].style.width=w+"px";if(y>0){var u=s.childNodes[v].childNodes[0];u.style.width=e.offsetWidth+"px"}if(s.childNodes[v]==o){x=v}}s.style.left=-(x*w)+"px"};var a=function(t,v,u,x,C){if(q.fx){setTimeout(function(){q.fx.setTransition(s,q.transitionEffect,q.animationSteps);s.style.left=v+"px";setTimeout(function(){s.style.WebkitTransition=s.style.MozTransition=s.style.MsTransition=s.style.OTransition=s.style.transition="";if(C){C.apply(r,[])}},q.animationSteps+50)},50)}else{var y=new Date().getTime();var B=y-u;if(x<=B){s.style.left=v+"px";if(C){C.apply(r,[])}return}x-=B;var z=t-v;var A=1-(x/q.animationSteps);var w=Math.round(A*z);s.style.left=t-w+"px";setTimeout(function(){a(t,v,y,x,C)},33)}};this.next=function(){if(n){return}n=true;var z=parseInt(s.style.left);var t;var u=function(A){var w=z-t;if(q.animate===true){a(z,w,new Date().getTime(),q.animationSteps,A)}else{s.style.left=w+"px";if(A){A.apply(r,[])}}};var v=o.nextSibling;if(v){r.beforeChange(o.childNodes[0].childNodes[0],v.childNodes[0].childNodes[0]);t=v.offsetWidth;u(function(){r.onChange(v.childNodes[0].childNodes[0],o.childNodes[0].childNodes[0]);o=v;n=false})}else{if(q.loop===true){var y=s.childNodes[0];t=y.offsetWidth;var x=y.cloneNode(true);s.style.width=(s.offsetWidth+t)+"px";s.appendChild(x);r.beforeChange(o.childNodes[0].childNodes[0],x.childNodes[0].childNodes[0]);u(function(){s.style.left=z+"px";s.removeChild(y);s.style.width=(s.offsetWidth-t)+"px";r.onChange(x.childNodes[0].childNodes[0],o.childNodes[0].childNodes[0]);o=x;n=false})}}};this.back=function(){if(n){return}n=true;var A,v,u;var x=function(w){if(q.animate===true){a(A,v,new Date().getTime(),q.animationSteps,w)}else{s.style.left=v+"px";if(w){w.apply(r,[])}}};var t=o.previousSibling;if(t){r.beforeChange(o.childNodes[0].childNodes[0],t.childNodes[0].childNodes[0]);u=t.offsetWidth;A=parseFloat(s.style.left);v=A+u;x(function(){r.onChange(t.childNodes[0].childNodes[0],o.childNodes[0].childNodes[0]);o=t;n=false})}else{if(q.loop===true){var y=s.childNodes[s.childNodes.length-1];u=y.offsetWidth;var z=y.cloneNode(true);s.style.width=(s.offsetWidth+u)+"px";s.insertBefore(z,s.firstChild);r.beforeChange(o.childNodes[0].childNodes[0],z.childNodes[0].childNodes[0]);A=-u;v=0;s.style.left=A+"px";x(function(){s.removeChild(y);s.style.width=(s.offsetWidth-u)+"px";r.onChange(z.childNodes[0].childNodes[0],o.childNodes[0].childNodes[0]);o=z;n=false})}}};this.onChange=function(u,t){};this.beforeChange=function(t,u){};this.getPanels=function(){var u=[];var x=i(e);for(var y=0;y<s.childNodes.length;y++){var w=s.childNodes[y];var v=i(w);var t=b(x,v);if(t){var z=k(x,v);if(z<=q.padding){t=false}}u.push({div:w.childNodes[0].childNodes[0],isVisible:t})}return u};var m=function(){var z=50;var w,x;var B;var t=function(E){w=E.clientX;x=parseInt(s.style.left);var D=document.getElementsByTagName("body")[0];if(!D.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){D.className+=(D.className.length==0?"":" ")+"javaxt-noselect"}B=o;s.style.cursor="move"};var v=function(I){var L=I.clientX;var J=w-L;var E=x-J;s.style.left=E+"px";if(E>0){if(q.loop===true){var N=o.previousSibling;if(N){}else{var D=s.childNodes[s.childNodes.length-1];var M=D.offsetWidth;var K=D.cloneNode(true);s.insertBefore(K,s.firstChild);s.removeChild(D);s.style.left=(-M+parseInt(s.style.left))+"px";w+=M;o=K}}else{}}else{var L=0;var H=0;for(var G=0;G<s.childNodes.length;G++){var M=s.childNodes[G].offsetWidth;L=L-M;H=M}if((E-H)<L){if(q.loop===true){var F=s.childNodes[0];var M=F.offsetWidth;var K=F.cloneNode(true);s.appendChild(K);s.removeChild(F);s.style.left=(parseInt(s.style.left)+M)+"px";w=w-M;o=K}else{}}}};var u=function(){var D=i(e);var W=D.x;var U=W+D.width;var T=D.y;var S=T+D.height;var I=0;var L=0;for(var O=0;O<s.childNodes.length;O++){var K=s.childNodes[O];var P=i(K);var F=P.x;var V=F+P.width;var M=P.y;var H=M+P.height;if(F<W){F=W}if(V>U){V=U}if(M<T){M=T}if(H>S){H=S}var J=V-F;var Q=H-M;var R=J*Q;if(R>I){I=R;L=O}}var N="Snap to panel "+s.childNodes[L].innerText;if(N.length>60){N=N.substring(0,60)}var G=parseInt(s.style.left);var E=0;for(var O=0;O<L;O++){E+=s.childNodes[O].offsetWidth}E=-E;var X=((G-E)/q.animationSteps);if(X<0){X=-X}a(G,E,new Date().getTime(),100,function(){o=s.childNodes[L];if(o!=B){r.onChange(o.childNodes[0].childNodes[0],B.childNodes[0].childNodes[0])}})};var A=null;var C=false;s.onmousedown=function(D){if(n){return}A=setTimeout(function(){A=null;C=true;t(D);if(document.addEventListener){document.addEventListener("mousemove",v);document.addEventListener("mouseup",y)}else{if(document.attachEvent){document.attachEvent("onmousemove",v);document.addEventListener("onmouseup",y)}}},z)};var y=function(E){if(n){return}if(A){clearTimeout(A)}else{if(C){C=false;if(document.removeEventListener){document.removeEventListener("mousemove",v);document.removeEventListener("mouseup",y)}else{if(document.detachEvent){document.detachEvent("onmousemove",v);document.detachEvent("onmouseup",y)}}s.style.cursor="pointer";u();var D=document.getElementsByTagName("body")[0];D.className=D.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};s.onmouseup=y};var i=javaxt.dhtml.utils.getRect;var b=javaxt.dhtml.utils.intersects;var k=javaxt.dhtml.utils.getAreaOfIntersection;var f=javaxt.dhtml.utils.merge;var g=javaxt.dhtml.utils.addResizeListener;var c=function(){if(p===true){return}javaxt.dhtml.utils.addNoSelectRule();p=true};l()};
javaxt.dhtml.Checkbox=function(l,b){this.className="javaxt.dhtml.Checkbox";var h=this;var m;var f,a,o,k;var e={label:null,value:null,checked:false,disabled:false,display:"inline-block",style:{box:{width:"13px",height:"13px",border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",cursor:"pointer",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap",cursor:"pointer",padding:"1px 0 0 5px"},check:{content:"",display:"block",width:"3px",height:"6px",border:"solid #ffffff",borderWidth:"0 2px 2px 0",transform:"rotate(45deg)",margin:"1px 0 0 4px"},select:{background:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},disable:{background:"#ffffff",border:"1px solid #ffffff",borderRadius:"3px",cursor:"pointer",opacity:"0.5"},hover:{background:"#ededed"}}};var n=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var t={};i(t,b);i(t,e);b=t;m=document.createElement("div");m.style.display=b.display;m.style.position="relative";l.appendChild(m);h.el=m;if(b.label){var q=j();q.style.fontFamily="inherit";q.style.textAlign="inherit";q.style.color="inherit";var p=q.firstChild;var r=document.createElement("tr");p.appendChild(r);var s;s=document.createElement("td");r.appendChild(s);f=document.createElement("div");g(f,"box");s.appendChild(f);s=document.createElement("td");r.appendChild(s);k=document.createElement("div");g(k,"label");k.innerHTML=b.label;s.appendChild(k);m.appendChild(q);d(q)}else{f=document.createElement("div");g(f,"box");m.appendChild(f);d(f)}if(b.disabled===true){h.disable()}if(b.checked===true){h.select()}};var d=function(p){p.unselectable="on";p.onselectstart=function(){return false};p.onmousedown=function(){c(f,"select");return false};var x=function(){if(b.sound!=null){b.sound.play()}h.toggle();h.onClick(f.checked)};var t;var w;var r,q,v,u;var s=false;p.ontouchstart=function(y){s=true;y.preventDefault();r=y.changedTouches[0].pageX;v=y.changedTouches[0].pageY;t=new Date().getTime();w=null;if(f.checked!==true){c(f,"hover")}};p.ontouchend=function(z){w=new Date().getTime();q=z.changedTouches[0].pageX;u=z.changedTouches[0].pageY;var A=Math.sqrt((q-=r)*q+(u-=v)*u);if(A<0){A=-A}var y=w-t;if((y<=500&&A<=10)||(y>500&&A<=10)){x()}};p.onclick=function(){if(!s){x()}};p.onmouseover=function(){if(f.checked!==true){c(f,"hover")}};p.onmouseout=function(){if(f.checked!==true){g(f,"box")}}};this.show=function(){m.style.display=""};this.hide=function(){m.style.display="none"};this.onClick=function(p){};this.onChange=function(){};this.enable=function(){o.style.visibility="hidden"};this.disable=function(){if(o){o.style.visibility="visible"}else{o=document.createElement("div");g(o,"disable");o.style.position="absolute";o.style.zIndex="1";o.style.width="100%";o.style.height="100%";var p=h.el;p.insertBefore(o,p.firstChild)}};this.select=function(){if(f.checked===true){return}f.checked=true;c(f,"select");if(a){a.style.visibility="visible"}else{a=document.createElement("div");g(a,"check");f.appendChild(a)}};this.deselect=function(){if(f.checked===true){f.checked=false;g(f,"box");a.style.visibility="hidden"}};this.toggle=function(){if(f.checked===true){h.deselect();h.onChange(false,true)}else{h.select();h.onChange(true,false)}};this.getValue=function(){if(b.value==null){return h.isChecked()}return b.value};this.isChecked=function(){return f.checked};var i=javaxt.dhtml.utils.merge;var j=javaxt.dhtml.utils.createTable;var g=function(q,p){javaxt.dhtml.utils.setStyle(q,b.style[p])};var c=function(q,p){javaxt.dhtml.utils.addStyle(q,b.style[p])};n()};
javaxt.dhtml.ComboBox=function(j,u){this.className="javaxt.dhtml.ComboBox";var v=this;var n,b;var w,i,q;var t,m;var o={placeholder:false,spellcheck:false,maxVisibleRows:5,scrollbar:true,showMenuOnFocus:true,typeAhead:true,addNewOption:false,addNewOptionText:"Add New...",style:{width:"100%",input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},menu:{backgroundColor:"#ffffff",border:"1px solid #ccc",marginTop:"-1px",overflow:"hidden",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.15)"},option:{color:"#363636",whiteSpace:"nowrap",height:"22px",lineHeight:"22px",padding:"0px 4px",cursor:"default"},newOption:{borderTop:"1px solid #ccc",color:"#363636",whiteSpace:"nowrap",height:"24px",lineHeight:"24px",padding:"0px 4px",cursor:"default"},iscroll:null}};var s=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var D={};g(D,u);g(D,o);u=D;var y=document.createElement("div");y.setAttribute("desc",v.className);y.style.width=u.style.width;j.appendChild(y);v.el=y;var G=f();G.style.height="";var B=G.firstChild;var E=document.createElement("tr");B.appendChild(E);y.appendChild(G);var z=document.createElement("td");z.style.width="100%";n=document.createElement("input");n.type="text";e(n,"input");n.style.width="100%";if(u.spellcheck===true){}else{n.setAttribute("spellcheck","false")}if(u.placeholder){n.setAttribute("placeholder",u.placeholder)}z.appendChild(n);E.appendChild(z);n.onkeydown=function(H){if(H.keyCode===9){H.preventDefault()}};n.onkeyup=function(H){if(H.keyCode===9){var I;if(w.style.visibility!=="hidden"){I=k()}if(I){p(I,true)}else{h()}}else{if(H.keyCode===40){v.showMenu();var I=k();if(I){I.focus()}}else{v.filter()}}};n.oninput=function(){var K=false;var I=n.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();for(var H=0;H<i.childNodes.length;H++){var J=i.childNodes[H];if(J.innerHTML.toLowerCase()===I){K=true;n.data=J.value;break}}if(!K){n.data=null}v.onChange(n.value,n.data)};n.onpaste=n.oninput;n.onpropertychange=n.oninput;if(u.showMenuOnFocus){n.onclick=function(){v.showMenu(true);d();this.focus()}}z=document.createElement("td");b=document.createElement("button");e(b,"button");z.appendChild(b);E.appendChild(z);b.onclick=function(H){b.blur();H.preventDefault();if(w.style.visibility==="hidden"){v.showMenu(true);d()}else{v.hideMenu()}};var x=document.createElement("div");x.style.position="relative";x.style.width="100%";y.appendChild(x);w=document.createElement("div");w.setAttribute("desc","menuDiv");e(w,"menu");w.style.position="absolute";w.style.visibility="hidden";w.style.display="block";w.style.width="100%";w.style.zIndex=1;w.style.boxSizing="border-box";x.appendChild(w);m=document.createElement("div");m.style.position="relative";m.style.width="100%";m.style.height="100%";t=m.cloneNode();t.style.position="absolute";t.style.overflow="hidden";m.appendChild(t);i=document.createElement("div");i.style.position="relative";t.appendChild(i);if(u.addNewOption===true){var A=f();A.style.height="";E=document.createElement("tr");A.firstChild.appendChild(E);z=document.createElement("td");z.style.width="100%";z.style.height="100%";z.style.verticalAlign="top";E.appendChild(z);z.appendChild(m);E=document.createElement("tr");A.firstChild.appendChild(E);z=document.createElement("td");E.appendChild(z);q=document.createElement("div");e(q,"newOption");q.innerHTML=u.addNewOptionText;q.tabIndex=-1;var C=function(){v.hideMenu();v.onAddNewOption()};q.onclick=C;q.onkeydown=function(H){if(H.keyCode===9){H.preventDefault()}};q.onkeyup=function(J){if(J.keyCode===9||J.keyCode===13){C()}else{if(J.keyCode===38){var I;for(var H=i.childNodes.length-1;H>-1;H--){var K=i.childNodes[H];if(K.style.display!=="none"){I=K;break}}if(I){I.focus()}}}};q.onselectstart=function(){return false};q.onmousedown=function(){return false};z.appendChild(q);w.appendChild(A)}else{w.appendChild(m)}var F=function(H){if(!y.contains(H.target)){v.hideMenu()}};if(document.addEventListener){document.addEventListener("click",F)}else{if(document.attachEvent){document.attachEvent("onclick",F)}}};this.reset=function(){v.setValue(null)};this.setValue=function(y){if(y==null||y===""){n.value="";n.data=null;return}for(var x=0;x<i.childNodes.length;x++){var z=i.childNodes[x];if(z.value===y){n.value=z.innerHTML;n.data=z.value;return}}for(var x=0;x<i.childNodes.length;x++){var z=i.childNodes[x];if(z.innerHTML.toLowerCase()===c(y).toLowerCase()){n.value=z.innerHTML;n.data=z.value;return}}};this.getValue=function(){return n.data};this.getText=function(){return n.value};this.getOptions=function(){var x=[];for(var y=0;y<i.childNodes.length;y++){var z=i.childNodes[y];x.push({text:z.innerHTML,value:z.value})}return x};this.getInput=function(){return n};this.getButton=function(){return b};this.onChange=function(y,x){};this.onAddNewOption=function(){};this.onMenuContext=function(z,y,x){};this.filter=function(){v.showMenu();var z=n.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();var A=0;var y=0;for(var x=0;x<i.childNodes.length;x++){var B=i.childNodes[x];if(B.innerHTML.toLowerCase().indexOf(z)===0){B.style.display="";A++;y=Math.max(B.offsetHeight,y)}else{B.style.display="none"}}a(A,y)};this.clear=function(){n.value="";n.data=null;v.hideMenu();r();w.style.height="";i.innerHTML=""};this.showMenu=function(z){if(w.style.visibility==="hidden"){if(z===true){for(var x=0;x<i.childNodes.length;x++){i.childNodes[x].style.display=""}}var A=0;var y=0;for(var x=0;x<i.childNodes.length;x++){var B=i.childNodes[x];if(B.style.display!=="none"){A++;y=Math.max(B.offsetHeight,y)}}if(u.addNewOption===true){A++;y=Math.max(q.offsetHeight,y)}if(A>0){a(A,y);w.style.visibility="";n.style.borderBottomColor=b.style.borderBottomColor="rgba(0,0,0,0)";if(v.iScroll){v.iScroll.scrollTo(0,0)}else{t.scrollTop=0}}}};this.hideMenu=function(){if(w.style.visibility!=="hidden"){n.style.borderBottomColor=b.style.borderBottomColor="";e(n,"input");e(b,"button");n.style.width="100%";w.style.visibility="hidden";n.focus()}};var a=function(z,y){if(z>0){if(z>u.maxVisibleRows){l();var x=u.maxVisibleRows*y;if(q){w.style.height=x+"px";x=x-q.offsetHeight;m.style.height=x+"px"}else{w.style.height=x+"px"}}else{r();m.style.height="100%";w.style.height=""}}else{r();m.style.height="100%";w.style.height=""}if(v.iScroll){v.iScroll.refresh()}};var l=function(){t.style.position="absolute";if(u.scrollbar===true){if(typeof IScroll!=="undefined"){if(!v.iScroll){t.style.overflowY="hidden";v.iScroll=new IScroll(t,{scrollbars:u.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(u.style.iscroll){e(v.iScroll,"iscroll")}}if(v.iScroll){v.iScroll.refresh()}}else{t.style.overflowY="scroll"}}else{t.style.overflowY="hidden"}};var r=function(){t.style.position="relative";if(u.addNewOption===true){t.style.overflowY=""}};var d=function(){for(var D=0;D<i.childNodes.length;D++){var E=i.childNodes[D];if(E.innerHTML===n.value){t.scrollTop=E.offsetTop;E.focus();return}}var B=n.value;var E=null;var A=0;for(var D=0;D<i.childNodes.length;D++){var z=i.childNodes[D].innerHTML;var y=0;for(var C=0;C<Math.min(B.length,z.length);C++){if(B.charAt(C)!==z.charAt(C)){break}y++}if(y>A){E=i.childNodes[D];A=y}}if(E){t.scrollTop=E.offsetTop;E.focus();return}};this.add=function(y,x){var z=document.createElement("div");e(z,"option");z.innerHTML=c(y);z.value=x;z.tabIndex=-1;z.onclick=function(){p(this)};z.onkeydown=function(A){if(A.keyCode===9){A.preventDefault()}};z.onkeyup=function(C){if(C.keyCode===9||C.keyCode===13){p(this,true)}else{if(C.keyCode===38){var A=this.previousSibling;if(A){A.focus()}}else{if(C.keyCode===40){var B=this.nextSibling;if(B){B.focus()}else{if(q){q.focus()}}}}}};z.onselectstart=function(){return false};z.onmousedown=function(){return false};z.oncontextmenu=function(){var A=this;v.onMenuContext(A.innerHTML,A.value,A)};i.appendChild(z)};this.remove=function(y){var x=[];for(var z=0;z<i.childNodes.length;z++){var A=i.childNodes[z];if(A.innerHTML===c(y)){x.push(A)}}for(z=0;z<x.length;z++){i.removeChild(x[z])}};this.removeAll=function(){i.innerHTML=""};var c=function(x){if(x){if(typeof x==="string"||x instanceof String){}else{x+=""}}else{x=""}return x};var p=function(y,x){if(y){n.value=y.innerHTML;n.data=y.value;v.hideMenu();v.onChange(n.value,n.data);if(x){h()}}};var h=function(){var y=n.form;if(y){for(var x=0;x<y.elements.length;x++){if(y.elements[x]===n&&x<y.elements.length-2){y.elements[x+2].focus();return}}}};var k=function(){for(var x=0;x<i.childNodes.length;x++){var y=i.childNodes[x];if(y.style.display!=="none"){return y}}return null};var g=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.createTable;var e=function(y,x){javaxt.dhtml.utils.setStyle(y,u.style[x])};s()};
javaxt.dhtml.DataGrid=function(f,x){this.className="javaxt.dhtml.DataGrid";var y=this;var t;var q;var v=false;var p="";var j=false;var w;var b;var m,a,i;var n={url:"",params:null,payload:null,limit:50,count:false,autoload:false,localSort:false,getResponse:function(z,B,D){var A=new XMLHttpRequest();var C=B?"POST":"GET";A.open(C,z);A.onreadystatechange=function(){if(A.readyState===4){D.apply(y,[A])}};if(B){A.send(B)}else{A.send()}},parseResponse:function(z){return[]},update:function(B,z){for(var A=0;A<z.length;A++){B.set(A,z[A])}}};var s=function(){x=c(x,n);m=x.preferences;a=x.filterName;i=x.filter;if(x.sort==="local"){x.localSort=true}var A=x.multiselect;var C=[];for(var E=0;E<x.columns.length;E++){var B=x.columns[E];if(B.field){if(p.length>0){p+=","}p+=B.field}var I={};for(var z in B){if(B.hasOwnProperty(z)){I[z]=B[z]}}var G=B.header;if(G==="x"&&!w){I.header=o();var H=I.header.checkbox;A=true;w={idx:E,isChecked:H.isChecked,check:H.select,uncheck:H.deselect}}else{I.header=h(G,B.sortable)}C.push(I)}if(i){if(i.orderby){var F=i.orderby.split(",");for(var E=0;E<F.length;E++){var K=F[E].trim();if(K.length>0){var L,M;K=K.toUpperCase();if(K.endsWith(" ASC")||K.endsWith(" DESC")){var J=K.lastIndexOf(" ");L=K.substring(0,J).trim();M=K.substring(J).trim()}else{L=K;M="ASC"}for(var D=0;D<C.length;D++){if(C[D].field.toUpperCase()===L){C[D].sort=M;C[D].header.setSortIndicator(M);break}}}}}}t=new javaxt.dhtml.Table(f,{multiselect:A,columns:C,style:x.style});t.load=function(P,O){if(!O){t.clear()}var R=t.addRows(P.length);var N=false;if(w){N=w.isChecked()}for(var Q=0;Q<R.length;Q++){R[Q].record=P[Q];R[Q].update=function(){x.update(this,this.record)};R[Q]._set=R[Q].set;R[Q].set=function(V,Z){if(V==="x"){for(var U=0;U<x.columns.length;U++){if(x.columns[U].header==="x"){var Y=x.columns[U].field;var T=this.childNodes[U];var X=T.getContent();if(X){}else{Z=this.record[Y];var S=o(Z);var W=S.checkbox;if(N){W.select()}this._set(U,S)}return}}}else{for(var U=0;U<x.columns.length;U++){if(x.columns[U].header===V&&x.columns[U].wrap===true){Z=e(Z);break}}this._set(V,Z)}};R[Q]._onclick=R[Q].onclick;R[Q].onclick=function(X){if(w){var U=this.childNodes[w.idx];var S=U.getContent();var W=k(S);var V=X.clientX;var T=X.clientY;if(V>=W.left&&V<=W.right){if(T>=W.top&&T<=W.bottom){if(this.selected){t.deselect(this)}else{}return}}}this._onclick(X)};R[Q].update()}if(!O){t.update()}};t.onSelectionChange=function(R){if(w){for(var O=0;O<R.length;O++){var S=R[O];var P=S.childNodes[w.idx];var N=P.getContent();var Q=N.checkbox;if(S.selected){Q.select()}else{Q.deselect()}}}y.onSelectionChange()};t.onScroll=function(R,Q,P){var O=Math.ceil(R/b);if(O==0){O=1}var N=Math.ceil((R+P)/b);l(Math.ceil(N/x.limit));if(R===Q){if(!j){d(q)}}y.onScroll()};t.onHeaderClick=u;if(x.autoload===true){d()}v=true};var l=function(A){if(A!=q){var z=q;q=A;y.onPageChange(q,z)}};this.getCurrPage=function(){return q};this.getScrollInfo=function(){return t.getScrollInfo()};this.onScroll=function(){};this.onPageChange=function(z,A){};this.onSelectionChange=function(){};this.beforeLoad=function(){};this.onLoad=function(){};this.onError=function(z){};this.forEachRow=function(z){t.forEachRow(z)};this.select=function(z){t.select(z)};this.selectAll=function(){t.selectAll()};this.deselectAll=function(){t.deselectAll()};this.clear=function(){t.clear()};this.refresh=function(){v=false;l(0);d();v=true};this.load=function(){if(arguments.length>0){var z=arguments[0];if(g(z)){y.beforeLoad();t.addRows(z);r();if(z.length<x.limit){j=true}var A=1;if(arguments.length>1){A=arguments[1]}l(A);y.onLoad()}}else{d()}};this.setLimit=function(z,A){x.limit=z};this.scrollTo=function(B){if(B instanceof Element){var A=B;var C=0;t.forEachRow(function(D){if(D==A){return true}C+=D.offsetHeight});t.scrollTo(0,C);return}var C=((B-1)*x.limit)*b;if(C<0){C=0}var z=Math.ceil(t.getRowCount()/x.limit);if(B>z){if(B==z+1){d(B,function(){t.scrollTo(0,C)})}else{console.log("Fetch pages! "+z+" page loaded. Caller wants page "+B+"...");return}}else{t.scrollTo(0,C)}};var r=function(){if(!b){t.forEachRow(function(A,z){b=A.offsetHeight;return})}};this.getSelectedRecords=function(H){if(H){if(typeof H==="string"){for(var D=0;D<x.columns.length;D++){var B=x.columns[D];if(H===B.field){H=D;break}}for(var D=0;D<x.columns.length;D++){var B=x.columns[D];if(H===B.header){H=D;break}}}}else{H=0}var G=false;var A=false;if(w){if(w.idx===H){G=true;if(w.isChecked()){A=true}}}var E=[];t.forEachRow(function(M,K){if(G){var J=K[H];var L=J.checkbox;if(L.isChecked()){E.push(L.getValue())}}else{if(M.selected){E.push(K[H])}}});if(A&&!j){var I=x.columns[H].field;var z=x.url;if(z.indexOf("?")==-1){z+="?"}z+="fields="+I+"&count=false&offset="+(q*x.limit);var C=x.params;if(C){for(var H in C){if(C.hasOwnProperty(H)){var F=encodeURIComponent(C[H].trim());z+="&"+H+"="+F}}}if(i){for(var H in i){if(i.hasOwnProperty(H)){if(H!=="orderby"){var F=i[H];if(F){F=F.trim();if(F.length>0){z+="&"+H+"="+F}}}}}}x.getResponse(z,x.payload,function(L){if(L.status===200){var J=x.parseResponse.apply(y,[L]);for(var K=0;K<J.length;K++){var M=J[K][I];if(M){E.push(M)}}}else{y.onError(L)}})}return E};var h=function(A,E){var D=document.createElement("div");if(E===false){D.style.cursor="default"}var C=document.createElement("div");C.innerHTML=A;D.appendChild(C);var z=document.createElement("div");z.style.position="absolute";z.style.width="7px";z.style.height="7px";z.style.top="7px";z.style.right="0px";D.appendChild(z);var B=document.createElement("div");z.appendChild(B);D.sortIndicator=B;D.setSortIndicator=function(G){var F="";if(G){if(typeof G==="string"){G=G.toUpperCase().trim();if(G=="ASC"){F="ascendingSortIcon"}else{if(G=="DESC"){F="descendingSortIcon"}}}}this.sortIndicator.className=F};return D};var o=function(A){var B=document.createElement("div");B.style.display="inline-block";B.style.position="relative";B.style.padding="9px 0 0 1px";var z=new javaxt.dhtml.Checkbox(B,{value:A,style:{box:"table-checkbox"}});z.onClick=function(C){var D=this.getValue();if(D){}else{t.forEachRow(function(H,F){var E=F[w.idx];var G=E.checkbox;if(C){G.select()}else{G.deselect()}})}y.onSelectionChange()};B.checkbox=z;return B};var d=function(C,F){if(C){C=parseInt(C);if(isNaN(C)||C<1){C=1}}else{C=1}if(C==1){j=false}y.beforeLoad(C);var z=x.url;if(z.indexOf("?")==-1){z+="?"}z+="&page="+C+"&limit="+x.limit+"&fields="+p;if(x.count==true&&C==1){z+="&count=true"}else{z+="&count=false"}var E=x.params;if(E){for(var A in E){if(E.hasOwnProperty(A)){var D=(E[A]+"").trim();z+="&"+A+"="+D}}}var B="";if(i){for(var A in i){if(i.hasOwnProperty(A)){if(A==="orderby"){B=i[A];B=(B!=null&&B!=""?"&orderby="+B:"")}else{var D=i[A];D=D+"";D=D.trim();if(D.length>0){z+="&"+A+"="+encodeURIComponent(D)}}}}}z+=B;x.getResponse(z,x.payload,function(H){if(H.status===200){if(C===1&&v){if(a&&m){m.set(a,JSON.stringify(i))}}var G=x.parseResponse.apply(y,[H]);if(G.length===0){t.clear();j=true}else{if(G.length<x.limit){j=true}t.load(G,C>1);l(C);r();if(G.length===x.limit&&!t.hasOverflow()){d(C+1);return}}if(F){F.apply(y,[])}y.onLoad()}else{y.onError(H)}})};var u=function(J,L,M,z){if(L.sortable!==false){t.clear();var C=L.sort;if(C=="DESC"){C=""}else{C="DESC"}L.sort=C;if(!i){i={}}i.orderby=(L.field+" "+C).trim();var P=M.parentNode;for(var D=0;D<P.childNodes.length;D++){if(P.childNodes[D].getContent){var B=P.childNodes[D].getContent();if(B.setSortIndicator){if(P.childNodes[D]==M){B.setSortIndicator(C.length==0?"ASC":"DESC")}else{B.setSortIndicator(null)}}}}if(x.localSort){var E=[];var O=[];t.forEachRow(function(S){var Q=S.get(J);if(Q){if(Q.nodeType===1){Q=Q.innerText}var R=parseFloat(Q);if(!isNaN(R)){N++}else{if(typeof Q==="string"){}else{}}}else{Q=""}E.push(Q);S.sortKey=Q;O.push(S)});if(O.length==0){return}var G=false;var N=0;var H=0;for(var D=0;D<E.length;D++){var K=E[D];var F=parseFloat(K);if(!isNaN(F)){N++}else{if(typeof K==="string"){if(K=="-"){H++}}}}if((N+H)==O.length){G=true;for(var D=0;D<E.length;D++){if(E[D]=="-"){E[D]=0}var F=parseFloat(E[D]);E[D]=F;O[D].sortKey=F}}if(G){console.log("All numbers!");if(C=="DESC"){E.sort(function(R,Q){return Q-R})}else{E.sort(function(R,Q){return R-Q})}}else{E.sort();if(C=="DESC"){E.reverse()}}var I=O[0].parentNode;for(var D=0;D<O.length;D++){I.removeChild(O[D])}for(var D=0;D<E.length;D++){var K=E[D];for(var A=0;A<O.length;A++){var P=O[A];if(P.sortKey==K){P.sortKey=null;I.appendChild(P);O.splice(A,1);break}}}}else{d()}}};var e=function(B){if(B==null){return}var C=document.createElement("div");C.style.height="100%";var A=300;var z;if(typeof B==="string"){z=document.createElement("span");z.innerHTML=B}else{z=document.createElement("div");z.style.display="inline-block";z.appendChild(B)}C.onmousemove=function(){var E=this.firstChild;var D=this.parentNode;if(E.offsetWidth>D.offsetWidth){if(E.offsetWidth>A){E.style.width=A+"px";E.style.minHeight="115px";E.style.maxHeight=A+"px";E.style.whiteSpace="normal";E.style.lineHeight="18px";E.style.display="block";E.style.overflowY="auto";E.style.overflowX="hidden"}D.className="grid-overflow-popup";D.style.width="";D.style.height="";D.onmouseout=function(G){var F=G.toElement||G.relatedTarget;if(F.parentNode==this||F==this){return}while(F.parentNode){if(F.parentNode==this.firstChild){return}F=F.parentNode}E.style="";E.style.display="inline-block";this.className="";this.style.width="100%";this.style.height="100%"}}};C.appendChild(z);return C};var c=javaxt.dhtml.utils.merge;var k=javaxt.dhtml.utils.getRect;var g=javaxt.dhtml.utils.isArray;s()};
javaxt.dhtml.DateInput=function(l,b){this.className="javaxt.dhtml.DateInput";var g=this;var k,a,j,d;var n;var c={label:false,date:null,showMenuOnFocus:false,style:{input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},datePicker:{}},formatDate:function(o){return(o.getMonth()+1)+"/"+o.getDate()+"/"+o.getFullYear()}};var m=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var t={};h(t,b);h(t,c);b=t;n=b.formatDate;var o=document.createElement("div");o.setAttribute("desc",g.className);var q=i();var p=q.firstChild;var r=document.createElement("tr");p.appendChild(r);var s=document.createElement("td");s.style.width="100%";j=document.createElement("input");j.type="text";g.setDate(b.date);e(j,"input");j.style.width="100%";s.appendChild(j);r.appendChild(s);j.onkeydown=function(u){if(u.keyCode===9){u.preventDefault()}};j.onkeyup=function(u){if(u.keyCode===9){g.hideMenu();f()}else{if(u.keyCode===40){g.showMenu()}}};if(b.showMenuOnFocus){j.onfocus=function(){g.showMenu()}}s=document.createElement("td");d=document.createElement("input");d.type="button";e(d,"button");s.appendChild(d);r.appendChild(s);d.onclick=function(){if(a){if(a.style.visibility==="hidden"){g.showMenu()}else{a.style.visibility="hidden"}}else{g.showMenu()}};o.appendChild(q);l.appendChild(o);g.el=o};this.showMenu=function(){if(k){var q=new Date(j.value);if(isNaN(q.getTime())){q=new Date()}k.setDate(q);a.style.visibility=""}else{var p=g.el;a=document.createElement("div");a.setAttribute("desc","menu");a.style.position="absolute";p.appendChild(a);var o=function(r){if(!p.contains(r.target)){a.style.visibility="hidden"}};if(document.addEventListener){document.addEventListener("click",o)}else{if(document.attachEvent){document.attachEvent("onclick",o)}}var q=new Date(j.value);if(isNaN(q.getTime())){q=new Date()}k=new javaxt.dhtml.DatePicker(a,{date:q,style:b.datePicker});k.select();k.onClick=function(r){j.value=n(r);a.style.visibility="hidden"}}};this.hideMenu=function(){if(a){a.style.visibility="hidden"}};this.setDate=function(o){if(o){if(typeof l==="string"){o=new Date(o);if(isNaN(o.getTime())){o=null}}else{if(o.getTime){if(isNaN(o.getTime())){o=null}}else{o=null}}}if(o){j.value=n(o)}};this.getDate=this.getValue=function(){var o=new Date(j.value);if(isNaN(o.getTime())){o=null}return o};var f=function(){var p=j.form;if(p){for(var o=0;o<p.elements.length;o++){if(p.elements[o]===j&&o<p.elements.length-2){p.elements[o+2].focus();return}}}};var h=javaxt.dhtml.utils.merge;var i=javaxt.dhtml.utils.createTable;var e=function(p,o){javaxt.dhtml.utils.setStyle(p,b.style[o])};m()};
javaxt.dhtml.DatePicker=function(parent,config){this.className="javaxt.dhtml.DatePicker";var me=this;var currDate;var startDate;var mainDiv;var todayHighlightDiv;var cells=[];var selectionMode;var defaultConfig={date:new Date(),selectionMode:"day",daysOfWeek:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],allowDeselect:true,style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",background:"#ffffff",border:"1px solid #b4cbdd",display:"inline-block"},header:{background:"#d9e7f8",height:"25px",lineHeight:"25px"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#555555",textAlign:"center",cursor:"pointer"},next:{float:"right",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(-45deg)",margin:"7px 10px 0 0",cursor:"pointer"},back:{float:"left",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(135deg)",margin:"7px 0 0 10px",cursor:"pointer"},cell:{width:"18px",height:"18px",lineHeight:"18px",textAlign:"right",padding:"2px 4px 1px 0px",fontSize:"11px",color:"#000000",cursor:"pointer",border:"1px solid #ffffff",margin:"1px"},cellHeader:{color:"#233d6d",fontSize:"10px",lineHeight:"10px",paddingBottom:"0px",paddingTop:"0px",border:"0px",borderTop:"1px solid #bbccff",borderBottom:"1px solid #bbccff"},previousMonth:{color:"#aaaaaa"},nextMonth:{color:"#aaaaaa"},today:{width:"22px",height:"21px",border:"1px solid #FF7373",top:"-1px",left:"-1px"},selected:{color:"#000000",fontWeight:"bold",background:"#fff4bf",border:"1px solid #bfa52f"}}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;selectionMode=config.selectionMode;mainDiv=document.createElement('div');addStyle(mainDiv,"panel");mainDiv.style.display="table";parent.appendChild(mainDiv);me.el=mainDiv;mainDiv.unselectable="on";mainDiv.onselectstart=function(){return false;};mainDiv.onmousedown=function(){return false;};todayHighlightDiv=document.createElement('div');addStyle(todayHighlightDiv,"today");todayHighlightDiv.style.position="absolute";me.setDate(config.date);};this.setDate=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());me.render(date);me.deselect();for(var i=0;i<cells.length;i++){var d=cells[i].date;if(d.getTime()===date.getTime()){select(cells[i]);return;}}};this.render=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(currDate&&date.getTime()===currDate.getTime())return;var range=computeRange(date);if(startDate){if(startDate.getTime()===range.startDate.getTime()){if(currDate.getTime()!==date.getTime()){currDate=date;me.onUpdate(new Date(currDate));}
return;}}
currDate=date;startDate=range.startDate;var currMonth=currDate.getMonth();var numWeeks=range.numWeeks;mainDiv.innerHTML="";var headerDiv=document.createElement('div');addStyle(headerDiv,"header");headerDiv.style.position="relative";mainDiv.appendChild(headerDiv);var titleDiv=document.createElement('div');addStyle(titleDiv,"title");titleDiv.innerHTML=config.months[currMonth]+" "+currDate.getFullYear();titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};headerDiv.appendChild(titleDiv);var backDiv=document.createElement('div');addStyle(backDiv,"back");backDiv.onclick=function(){me.back();};headerDiv.appendChild(backDiv);var nextDiv=document.createElement('div');addStyle(nextDiv,"next");nextDiv.onclick=function(){me.next();};headerDiv.appendChild(nextDiv);var table=createTable();table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";var tbody=table.firstChild;var tr=document.createElement('tr');tbody.appendChild(tr);for(var i=0;i<7;i++){var td=document.createElement('td');td.style.fontFamily="inherit";td.innerHTML=config.daysOfWeek[i];tr.appendChild(td);addStyle(td,"cell");addStyle(td,"cellHeader");}
cells=[];var d=new Date(startDate);for(var i=0;i<numWeeks;i++){tr=document.createElement('tr');tbody.appendChild(tr);for(var j=0;j<7;j++){var td=document.createElement('td');td.style.fontFamily="inherit";tr.appendChild(td);var cell=document.createElement('div');cell.style.position="relative";cell.style.fontFamily="inherit";cell.date=new Date(d);cell.selected=false;td.appendChild(cell);cells.push(cell);var div1=document.createElement('div');div1.style.fontFamily="inherit";div1.innerHTML=d.getDate();cell.appendChild(div1);addStyle(cell,"cell");var month=d.getMonth();var monthOffset=0;if(month!==currMonth){if(i===0){monthOffset=-1;addStyle(cell,"previousMonth");}
else{monthOffset=1;addStyle(cell,"nextMonth");}}
cell.monthOffset=monthOffset;cell.onclick=function(e){var cell=this;var dateRange=select(cell);me.onClick(new Date(cell.date),dateRange);};d.setDate(d.getDate()+1);}}
mainDiv.appendChild(table);highlightTodaysDate();function scheduledTask(){var now=new Date();var night=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,0,0,0);var msToMidnight=night.getTime()-now.getTime();setTimeout(function(){highlightTodaysDate();scheduledTask();},msToMidnight);}
scheduledTask();me.onUpdate(new Date(currDate));};var highlightTodaysDate=function(){if(todayHighlightDiv.parentNode){var cell=todayHighlightDiv.parentNode;cell.removeChild(todayHighlightDiv);}
var now=new Date();for(var x=0;x<cells.length;x++){var cell=cells[x];var d=cell.date;if(d.getFullYear()===now.getFullYear()&&d.getMonth()===now.getMonth()&&d.getDate()===now.getDate())
cell.appendChild(todayHighlightDiv);}};this.select=function(date){if(!date)return;var cell;for(var x=0;x<cells.length;x++){var _cell=cells[x];var _date=_cell.date;if(_date.getDate()===date.getDate()&&_date.getMonth()===date.getMonth()&&_date.getFullYear()===date.getFullYear()){cell=_cell;break;}}
if(cell)select(cell);};var select=function(cell){if(selectionMode==="day"){var d=new Date(cell.date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(cell===_cell){if(config.allowDeselect){deselect(_cell);return[];}
else{return[d];}}
else{deselect(_cell);}
break;}}
cell.selected=true;addStyle(cell,"selected");return[d];}
else if(selectionMode==="week"){var parentRow=cell.parentNode.parentNode;var d1=new Date(parentRow.childNodes[0].childNodes[0].date);var d2=new Date(parentRow.childNodes[parentRow.childNodes.length-1].childNodes[0].date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.parentNode.parentNode===parentRow){if(_cell.selected){if(config.allowDeselect){for(var y=0;y<cells.length;y++){if(cells[y].selected)deselect(cells[y]);}
return[];}
else{return[d1,d2];}}
_cell.selected=true;addStyle(_cell,"selected");}
else{if(_cell.selected)deselect(_cell);}}
return[d1,d2];}
else{return[];}};this.deselect=function(){for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(config.allowDeselect){}
deselect(_cell);}}};var deselect=function(_cell){_cell.selected=false;_cell.style='';_cell.className='';_cell.removeAttribute("class");_cell.style.position="relative";addStyle(_cell,"cell");switch(_cell.monthOffset){case-1:addStyle(_cell,"previousMonth");break;case 1:addStyle(_cell,"nextMonth");break;}};this.getSelectionMode=function(){return selectionMode;};this.setSelectionMode=function(str){selectionMode=str;};this.onClick=function(date,dateRange){};this.onHeaderClick=function(headerDiv,e){};this.onUpdate=function(date){};this.back=function(){var m=currDate.getMonth()-1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.next=function(){var m=currDate.getMonth()+1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.getMonth=function(){return currDate.getMonth();};this.getYear=function(){return currDate.getFullYear();};var computeRange=function(d){var year=d.getFullYear();var month=d.getMonth()+1;var firstOfMonth=new Date(year,month-1,1);var lastOfMonth=new Date(year,month,0);var numWeeks=Math.ceil((firstOfMonth.getDay()+lastOfMonth.getDate())/7);var startDate=new Date(firstOfMonth);startDate.setDate(startDate.getDate()-firstOfMonth.getDay());var endDate=new Date(lastOfMonth);endDate.setDate(endDate.getDate()+(6-lastOfMonth.getDay()));return{numWeeks:numWeeks,startDate:startDate,endDate:endDate};};var merge=javaxt.dhtml.utils.merge;var createTable=javaxt.dhtml.utils.createTable;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};
javaxt.dhtml.Form=function(n,D){this.className="javaxt.dhtml.Form";var E=this;var b;var s,w;var y;var c=[];var B=[];var x=[];var q={onsubmit:null,items:[],style:{spacing:"8px",form:{padding:"5px 5px 0 5px"},label:{color:"#363636",whiteSpace:"nowrap",cursor:"default",paddingRight:"8px"},addColon:true,icon:{},input:{borderRadius:"4px",color:"#363636",display:"inline-block",fontSize:"14px",height:"26px",lineHeight:"26px",padding:"4px 6px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset",boxSizing:"border-box"},radio:{margin:0,padding:0},checkbox:{margin:0,padding:0},buttons:{padding:"0px 5px 3px 5px",textAlign:"right"},button:{borderRadius:"3px",color:"#363636",display:"inline-block",fontSize:"14px",width:"80px",height:"26px",lineHeight:"26px",verticalAlign:"middle",textAlign:"center",backgroundColor:"#e4e4e4",border:"1px solid #b4b4b4",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",textShadow:"1px 1px 0px rgb(255, 255, 255)",cursor:"pointer",marginLeft:"7px"},groupbox:{border:"1px solid #ccc",borderRadius:"4px",padding:"16px 8px 12px 13px"},grouplabel:{margin:"8px 0 0 7px",backgroundColor:"white",padding:"0 5px 0 5px",color:"rgb(0, 70, 138)"}}};var v=function(){if(typeof n==="string"){n=document.getElementById(n)}if(!n){return}var M={};i(M,D);i(M,q);D=M;y=D.style.spacing;b=document.createElement("form");b.style.padding=0;b.style.margin=0;b.style.height="100%";b.setAttribute("desc",E.className);if(D.onsubmit){b.onsubmit=D.onsubmit}else{b.onsubmit=function(T){T.preventDefault()}}E.el=b;var P=e("100%","100%",E.className);b.appendChild(P.parentNode);var F,N,O;F=document.createElement("tr");N=document.createElement("td");w=document.createElement("tr");O=document.createElement("td");F.setAttribute("desc","formRow");w.setAttribute("desc","buttonRow");F.appendChild(N);P.appendChild(F);w.appendChild(O);P.appendChild(w);d(N,"form");N.style.width="100%";N.style.height="100%";N.style.verticalAlign="top";d(O,"buttons");s=e("100%");N.appendChild(s.parentNode);var J=e();var Q=document.createElement("div");Q.style.display="inline-block";O.appendChild(Q);Q.appendChild(J.parentNode);var L=D.style.buttons.textAlign;if(L===null){L="right"}else{L=L.toLowerCase()}if(L==="fit"){J.parentNode.style.width="100%"}else{if(L==="right"){J.parentNode.align="right"}else{if(L==="center"){J.parentNode.align="center"}}}w=document.createElement("tr");J.appendChild(w);if(D.items){for(var H=0;H<D.items.length;H++){var S=D.items[H];if(S.group){l(S.group,S.items,S.hidden)}else{u(S)}}}if(D.buttons){for(var H=0;H<D.buttons.length;H++){var I=D.buttons[H];var G=I.name;var K=true;var R=I.onclick;E.addButton(G,K,R)}}j(n,function(){E.resize()});n.appendChild(b)};this.resize=function(){for(var F=0;F<B.length;F++){g(B[F])}};this.getForm=function(){return b};this.reset=function(){b.reset()};this.clear=function(){for(var G=0;G<b.elements.length;G++){var F=b.elements[G];var H=F.type;switch(H){case"text":case"textarea":case"password":case"hidden":F.value="";break;case"radio":case"checkbox":F.checked="";break;case"select-one":F.options[0].selected=true;break;case"select-multiple":for(var I=0;I<F.options.length;I++){F.options[I].selected=false}break}}for(var G=0;G<c.length;G++){var F=c[G];if(F.clear){F.clear()}}};this.getData=function(){var H={};for(var J=0;J<c.length;J++){var G=c[J];var I=G.name;var L=G.getValue();var K=H[I];if(K){var F=[];if(K instanceof Array){F=K}F.push(L);H[I]=F}else{H[I]=L}}return H};this.getFormData=function(){var J=new FormData();var I=E.getData();for(var H in I){if(I.hasOwnProperty(H)){var K=I[H];if(K instanceof Array){var F=K;for(var G=0;G<F.length;G++){J.append(H,K)}}else{J.append(H,K)}}}return J};this.addButton=function(I,H,G){var J=document.createElement("td");if(I.toLowerCase()==="spacer"){J.style.width="100%"}else{var F=document.createElement("input");F.type="button";F.name=I;F.value=I;F.onclick=G;d(F,"button");x.push(F);J.appendChild(F)}w.appendChild(J)};var h=function(G){var J=G.type;var F=G.name;var L=G.label;var K=G.icon;var N=G.value;var M;if(J=="textarea"){M=document.createElement("textarea");d(M,"input");M.style.lineHeight="normal";M.style.resize="none";M.style.height="100px";if(G.spellcheck===false){M.setAttribute("spellcheck","false")}}else{M=document.createElement("input");M.type=J;if(G.placeholder){M.setAttribute("placeholder",G.placeholder)}d(M,"input");if(G.spellcheck===true){}else{M.setAttribute("spellcheck","false")}}M.name=F;if(N!=null){M.value=N}M.style.width="100%";M.setAttribute("autocomplete","off");var I=function(){return M.value};var H=function(P){if(typeof P==="undefined"){P=""}M.value=P};var O=o(F,L,M,I,H,K);M.oninput=function(){E.onChange(O,M.value)};M.onpaste=M.oninput;M.onpropertychange=M.oninput};var z=function(I,J){var H=document.createElement("input");H.type="textarea";H.style.display="none";H.name=I;if(J!=null){H.value=J}var G=function(){return H.value};var K=function(L){if(typeof L==="undefined"){L=""}if(H.value!=L){H.value=L;H.onchange()}};var F={name:I,label:null,row:null,getValue:G,setValue:K};H.onchange=function(){E.onChange(F,H.value)};c.push(F);b.appendChild(H)};var m=function(N,Y,X){var L;var K=X.options;var O=X.alignment;var G=e("100%");var W=G.parentNode;var H;var F=[];for(var V=0;V<K.length;V++){if(O=="vertical"){H=document.createElement("tr");G.appendChild(H)}else{if(V==0){H=document.createElement("tr");G.appendChild(H)}}var M=document.createElement("td");H.appendChild(M);var Q=e();var R=document.createElement("tr");Q.appendChild(R);var T=document.createElement("td");R.appendChild(T);var S=document.createElement("td");R.appendChild(S);M.appendChild(Q.parentNode);var P=document.createElement("input");d(P,"radio");P.type="radio";P.name=Y;P.value=K[V].value;if(K[V].checked===true||K[V].selected==true){P.checked=true}P.onchange=function(){E.onChange(L,J())};F.push(P);T.appendChild(P);var U=document.createElement("span");d(U,"label");U.innerHTML=K[V].label;U.input=P;U.onclick=function(){this.input.checked=true;this.input.focus();a(this.input,"change")};S.appendChild(U)}var J=function(){for(var Z=0;Z<F.length;Z++){if(F[Z].checked){return F[Z].value}}return null};var I=function(ab){var aa=0;for(var Z=0;Z<F.length;Z++){if((F[Z].value+"")==(ab+"")){if(F[Z].checked!==true){aa++}F[Z].checked=true}else{F[Z].checked=false;if(F[Z].checked===true){aa++}}}if(aa>0){E.onChange(L,J())}};L=o(Y,N,W,J,I,X.icon)};var C=function(N,Y,X){var L;var K=X.options;var O=X.alignment;var G=e("100%");var W=G.parentNode;var H;var F=[];for(var V=0;V<K.length;V++){if(O=="horizontal"){if(V==0){H=document.createElement("tr");G.appendChild(H)}}else{H=document.createElement("tr");G.appendChild(H)}var M=document.createElement("td");H.appendChild(M);var Q=e();var R=document.createElement("tr");Q.appendChild(R);var T=document.createElement("td");R.appendChild(T);var S=document.createElement("td");R.appendChild(S);M.appendChild(Q.parentNode);var P=document.createElement("input");d(P,"checkbox");P.type="checkbox";P.name=Y;P.value=K[V].value;if(K[V].checked===true||K[V].selected==true){P.checked=true}P.onchange=function(){E.onChange(L,J())};F.push(P);T.appendChild(P);var U=document.createElement("span");d(U,"label");U.innerHTML=K[V].label;U.input=P;U.onclick=function(){this.input.checked=!this.input.checked;a(this.input,"change")};S.appendChild(U)}var J=function(){var Z="";for(var aa=0;aa<F.length;aa++){if(F[aa].checked){if(Z.length>0){Z+=","}Z+=F[aa].value}}return Z.length==0?null:Z};var I=function(ab){var aa=0;for(var Z=0;Z<F.length;Z++){if((F[Z].value+"")==(ab+"")){if(F[Z].checked!==true){aa++}F[Z].checked=true}else{F[Z].checked=false;if(F[Z].checked===true){aa++}}}if(aa>0){E.onChange(L,J())}};L=o(Y,N,W,J,I,X.icon)};var l=function(aa,R,T){var J=document.createElement("tr");J.setAttribute("desc","-- Group Start --");s.appendChild(J);var X,F,W,K,Y,P;var V=k();if(V){X=V.paddingLeft;F=V.paddingRight;W=V.paddingTop;K=V.paddingBottom;Y=V.borderLeft+V.borderRight;P=V.borderTop+V.borderBottom}else{X=parseInt(y);F=X;W=X*2;K=W;Y=2;P=Y}var L=document.createElement("td");L.style.padding=(parseInt(y)*2)+"px "+Y+"px "+W+"px 0";L.colSpan=3;J.appendChild(L);var Q=document.createElement("div");Q.style.position="relative";Q.style.width="100%";Q.style.visibility="hidden";Q.style.display="block";L.appendChild(Q);var Z=document.createElement("div");d(Z,"groupbox");Z.style.padding=0;Z.style.position="absolute";Z.style.width="100%";Z.style.zIndex=-1;Q.appendChild(Z);var M=document.createElement("div");d(M,"grouplabel");M.style.position="absolute";M.style.left=0;M.style.top=-(W+P)+"px";M.innerHTML=aa;M.style.zIndex=-1;Q.appendChild(M);for(var U=0;U<R.length;U++){if(T===true){R[U].hidden=true}u(R[U])}var N=[];for(var U=0;U<s.childNodes.length;U++){var H=s.childNodes[U];if(H===J){for(var S=U+1;S<s.childNodes.length;S++){H=s.childNodes[S];N.push(H)}break}}var I=function(ab){ab=ab-parseInt(y);ab+=(W+K);Z.style.height=ab+"px";Q.style.visibility=""};p(N,I);for(var U=0;U<N.length;U++){var H=N[U];var O=H.childNodes;O[0].style.paddingLeft=X+"px";O[O.length-1].style.paddingRight=(F+Y)+"px"}var J=document.createElement("tr");J.setAttribute("desc","-- Group End --");s.appendChild(J);var L=document.createElement("td");L.style.padding=(parseInt(y)+K)+"px 0 0 0";L.colSpan=3;J.appendChild(L);var G=[];for(var U=0;U<N.length;U++){var H=N[U];if(U===0){G.push(H.previousSibling)}G.push(H)}G.push(J);B.push({name:aa,rows:G,setHeight:I});A(aa,T)};this.showGroup=function(F){A(F,false)};this.hideGroup=function(F){A(F,true)};var A=function(J,G){var I;for(var F=0;F<B.length;F++){if(B[F].name===J){I=B[F];break}}if(I){for(var F=0;F<I.rows.length;F++){var H=I.rows[F];if(G){H.style.visibility="hidden";H.style.display="none"}else{H.style.display="";H.style.visibility=""}}}};var u=function(Q){var J=Q.type;var F=Q.name;var M=Q.label;var K=Q.icon;var N=Q.value;if(typeof J==="string"){if(J==="text"||J==="password"||J==="textarea"){h(Q)}else{if(J==="radio"){m(M,F,Q)}else{if(J==="checkbox"){C(M,F,Q)}else{if(J==="hidden"){z(F,N)}}}}}else{var G;var I,H;var L=J;if(L.tagName){if(L.tagName.toLowerCase()==="input"){G=L;I=function(){return L.value};H=function(R){L.value=R};o(F,M,G,I,H,K)}}else{if(L.el&&L.getValue){var P=o(F,M,L.el,L.getValue,L.setValue,K);for(var O in L){if(L.hasOwnProperty(O)){if(typeof L[O]==="function"){P[O]=L[O]}}}L.onChange=function(){E.onChange(P,L.getValue())}}}}};var o=function(G,N,H,K,J,L){var O=document.createElement("tr");s.appendChild(O);var I=document.createElement("td");if(L){d(I,"icon");var F=document.createElement("div");F.className=L;I.appendChild(F)}O.appendChild(I);O.appendChild(t(N));I=document.createElement("td");I.style.width="100%";I.style.paddingBottom=y;O.appendChild(I);I.appendChild(H);var M={name:G,label:N,row:O,getValue:K,setValue:J};c.push(M);return M};var t=function(F){var G=document.createElement("td");d(G,"label");G.style.paddingBottom=y;G.onselectstart=function(){return false};G.onmousedown=function(){return false};if(F!=null){F=F.replace(/^\s*/,"").replace(/\s*$/,"");if(F.length>0){if(F.indexOf(":")!=F.length&&D.style.addColon===true){F+=": "}else{F+=" "}}}if(F!=null){G.innerHTML=F}return G};this.enableField=function(F){var G=E.findField(F);if(G){var H=G.row;H.style.opacity=1;H.style.filter="alpha(opacity=100)";H.childNodes[0].style.filter=H.childNodes[1].style.filter=H.style.filter;H.childNodes[1].childNodes[0].disabled=false;return true}return false};this.disableField=function(F){var G=E.findField(F);if(G){var H=G.row;H.style.opacity=0.6;H.style.filter="alpha(opacity="+H.style.opacity*100+")";H.childNodes[0].style.filter=H.childNodes[1].style.filter=H.style.filter;H.childNodes[1].childNodes[0].disabled=true;return true}return false};this.hideField=function(F){var H=E.findField(F);if(H){var I=H.row;I.style.visibility="hidden";I.style.display="none";var G=f(I);if(G){g(G)}return true}return false};this.showField=function(F){var H=E.findField(F);if(H){var I=H.row;I.style.visibility="";I.style.display="";var G=f(I);if(G){g(G)}return true}return false};this.onChange=function(F){};this.getValue=function(F){var G=E.findField(F);if(G){return G.getValue()}return null};this.setValue=function(F,G){var H=E.findField(F);if(H){H.setValue(G);return true}return false};this.findField=function(F){for(var G=0;G<c.length;G++){if(c[G].name===F){return c[G]}}for(var G=0;G<c.length;G++){if(c[G].label===F){return c[G]}}return null};var f=function(J){for(var G=0;G<B.length;G++){var I=B[G];for(var F=0;F<I.rows.length;F++){var H=I.rows[F];if(H===J){return I}}}return null};var g=function(J){var I=J.rows;var G=J.setHeight;var F=[];for(var H=1;H<I.length-1;H++){F.push(I[H])}p(F,G)};var k=function(){if(D.groupbox){return D.groupbox}var H=document.createElement("div");d(H,"groupbox");H.style.position="absolute";H.style.visibility="hidden";H.style.display="block";var G=document.getElementsByTagName("body")[0];G.appendChild(H);var I=H.currentStyle||window.getComputedStyle(H);var F=function(K){if(I.getPropertyValue){var J=I.getPropertyValue(K);if(J&&J.length>0){return J}K=K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return I.getPropertyValue(K)}else{return I[K]}};D.groupbox={paddingTop:parseInt(F("paddingTop")),paddingBottom:parseInt(F("paddingBottom")),paddingLeft:parseInt(F("paddingLeft")),paddingRight:parseInt(F("paddingRight")),borderLeft:parseInt(F("borderLeftWidth")),borderRight:parseInt(F("borderRightWidth")),borderTop:parseInt(F("borderTopWidth")),borderBottom:parseInt(F("borderBottomWidth"))};G.removeChild(H);H=null;return D.groupbox};var p=function(H,K){var I=function(){var M=0;for(var L=0;L<H.length;L++){if(H[L].style.display!=="none"){M+=H[L].offsetHeight}}return M};var G=I(H);if(G===0||isNaN(G)){var J;var F=function(){var L=I();if(L===0||isNaN(L)){J=setTimeout(F,100)}else{clearTimeout(J);K.apply(E,[L])}};J=setTimeout(F,100)}else{K.apply(E,[G])}};var r=function(J){var G=J.split(".");var I=(window||this);for(var H=0,F=G.length;H<F;H++){I=I[G[H]]}if(typeof I!=="function"){throw new Error("function not found")}return I};var a=function(G,H){if("createEvent" in document){var F=document.createEvent("HTMLEvents");F.initEvent(H,false,true);G.dispatchEvent(F)}else{G.fireEvent("on"+H)}};var e=function(H,F,J){var I=javaxt.dhtml.utils.createTable();var G=I.firstChild;if(H){I.style.width=H}else{I.style.width=""}if(F){I.style.height=F}else{I.style.height=""}if(J){I.setAttribute("desc",J)}return G};var d=function(G,F){javaxt.dhtml.utils.setStyle(G,D.style[F])};var i=javaxt.dhtml.utils.merge;var j=javaxt.dhtml.utils.addResizeListener;v()};
javaxt.dhtml.Keypad=function(k,e){this.className="javaxt.dhtml.Keypad";var h=this;var d=0;var b;var f={maxDecimals:2,border:"1px solid #969696",background:"#D2D6DC",buttonWidth:70,buttonHeight:null,buttonSpacing:20,buttonColor:"#FDFDFE",buttonRadius:"5px 5px 5px 5px",buttonBorder:"1px solid #d1d1d1",highlight:"#EDF3FE",fontFamily:"Helvetica,arial,verdana,sans-serif",fontSize:null,fontColor:"#656565",sound:null};var m=function(){var u={};i(u,e);i(u,f);e=u;b=document.createElement("div");b.style.width=(e.buttonWidth*3)+(e.buttonSpacing*4);b.style.display="block";b.style.border=e.border;b.style.backgroundColor=e.background;if(k==null||k.tagName=="INPUT"){b.style.position="absolute";b.style.top=b.style.left=0;b.style.display="none";document.getElementsByTagName("body")[0].appendChild(b)}else{k.appendChild(b)}var r=document.createElement("table");r.style.borderCollapse="separate";r.style.borderSpacing=e.buttonSpacing;r.cellSpacing=e.buttonSpacing;r.cellPadding=0;r.style.border=0;var p=document.createElement("tbody");r.appendChild(p);b.appendChild(r);var n=1;for(var q=0;q<4;q++){var s=document.createElement("tr");p.appendChild(s);for(var o=0;o<3;o++){var t=document.createElement("td");s.appendChild(t);if(q<3){j(t,n,function(w,v){c(v)});n++}else{if(o==0){if(e.maxDecimals>0){j(t,".",function(w,v){c(v)})}}else{if(o==1){j(t,0,function(w,v){c(v)})}else{t=j(t,"",l);g(t)}}}}}};var j=function(q,x,u){var p=parseInt(e.buttonWidth);var y=e.buttonHeight==null?p:parseInt(e.buttonHeight);q.style.background=e.buttonColor;q.style.borderRadius=e.buttonRadius;q.style.border=e.buttonBorder;q.style.width=p;q.style.height=y;q.style.cursor="pointer";q.style.textAlign="center";q.style.verticalAlign="middle";q.style.color=e.fontColor;q.style.fontFamily=e.fontFamily;q.style.fontSize=e.fontSize==null?Math.min(p,y)/2:e.fontSize;q.innerHTML=x;q.unselectable="on";q.onselectstart=function(){return false};q.onmousedown=function(){return false};var A=function(){if(e.sound!=null){e.sound.play()}u.apply(h,[q,x])};var r;var z;var o,n,v,t;var w=true;q.ontouchstart=function(B){w=false;q.style.background=e.highlight;B.preventDefault();o=B.changedTouches[0].pageX;v=B.changedTouches[0].pageY;r=new Date().getTime();z=null};q.ontouchend=function(B){z=new Date().getTime();n=B.changedTouches[0].pageX;t=B.changedTouches[0].pageY;s();setTimeout(function(){q.style.background=e.buttonColor},50)};function s(){var C=Math.sqrt((n-=o)*n+(t-=v)*t);if(C<0){C=-C}var B=z-r;if(B<=500&&C<=10){A()}if(B>500&&C<=10){A()}if(B<=100&&C>10){}if(B>100&&C>10){}}q.onclick=function(){if(w){A()}};q.onmouseover=function(){q.style.background=e.highlight};q.onmouseout=function(){q.style.background=e.buttonColor};return q};var g=function(u){var r=Math.round(parseInt(u.style.fontSize)*0.7);var n=2;var o=Math.round(r/2)-(n/2);var t=parseInt(u.style.width)-(r+o);var s=document.createElement("div");s.style.cssFloat="left";s.style.width=s.style.height=0;s.style.borderTop=s.style.borderBottom=o+"px solid transparent";s.style.borderRight=o+"px solid "+e.fontColor;s.style.paddingLeft=t/2;s.style.paddingTop=(n/2)+1;var q=document.createElement("div");q.style.background=e.fontColor;q.style.color=e.buttonColor;q.style.borderRadius="1px "+n+"px "+n+"px 1px";q.style.cssFloat="left";q.style.width=q.style.height=r;var p=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(p){a("&#10005;",r*0.8,q)}else{a("&#10060;",r*0.6,q)}u.appendChild(s);u.appendChild(q)};var a=function(s,q,o){var p=document.createElement("table");p.style.width="100%";p.style.height="100%";p.style.margin="0 0 0 -1px";p.cellSpacing=0;p.cellPadding=0;p.style.border=0;var n=document.createElement("tbody");p.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var t=document.createElement("td");r.appendChild(t);t.style.cursor="pointer";t.style.textAlign="center";t.style.verticalAlign="middle";t.style.lineHeight=0;t.style.fontSize=q;t.style.color=e.buttonColor;t.innerHTML=s;o.appendChild(p)};var c=function(n){if(isNaN(d)){d=0}var p=d+"";if(n=="."){if((d+"").indexOf(".")==-1){d=d+"."}}else{if(n>=0&&n<=9){if(!isNaN(e.maxDecimals)){var o=(d+"").indexOf(".");if(o>-1){var q=(d+"").substring(o+1);if(q.length>=e.maxDecimals){return}}}if(o>-1&&n==0){d=d+"0"}else{d=parseFloat(d+""+n)}}}if(d+""!=p){h.onchange(d)}};var l=function(){var o=d+"";d=d+"";var n=d.length;if(n==0||n==1){d=0}else{d=d.substring(0,n-1)}if(d+""!=o){h.onchange(d)}};this.clear=function(){var n=d+"";d=0;if(d+""!=n){h.onchange(d)}};this.onchange=function(n){};this.setValue=function(o,n){var p=d+"";if(isNaN(o)){o=0}d=o;if(d+""!=p){if(n==true){}else{h.onchange(d)}}};this.getValue=function(){return d};this.show=function(){b.style.display="block"};this.hide=function(){b.style.display="none"};var i=javaxt.dhtml.utils.merge;m()};
javaxt.dhtml.MenuLayout=function(l,r){this.className="javaxt.dhtml.MenuLayout";var s=this;var g;var t;var b;var u;var j;var q;var v;var a;var c;var n={animationSteps:250,transitionEffect:"linear",fx:null,menuWidth:250,title:"",style:{header:{height:"35px",background:"#777777",color:"#FFFFFF"},title:{lineHeight:"35px",position:"absolute",width:"100%",whiteSpace:"nowrap",fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"20px",color:"white",textAlign:"center",cursor:"pointer"},menu:{background:"#4BB5EF"},menuIcon:{},body:{}}};var o=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var C={};h(C,r);n.style.menuIcon=f;h(C,n);r=C;a=r.menuWidth;v=r.title;var G=e();G.setAttribute("desc",s.className);var A=G.firstChild;var I=document.createElement("tr");var z=document.createElement("td");z.style.width="100%";z.style.height="100%";z.style.border="0px";z.style.verticalAlign="top";I.appendChild(z);A.appendChild(I);l.appendChild(G);s.el=G;g=document.createElement("div");g.style.width="100%";g.style.height="100%";g.style.position="relative";z.appendChild(g);var B=document.createElement("div");B.style.width="100%";B.style.height="100%";B.style.position="absolute";B.style.overflow="hidden";g.appendChild(B);t=document.createElement("div");t.style.width=(g.offsetWidth+a)+"px";t.style.height="100%";t.style.position="relative";t.style.marginLeft=-a+"px";if(r.fx){r.fx.setTransition(t,r.transitionEffect,r.animationSteps)}B.appendChild(t);G=e();A=G.firstChild;I=document.createElement("tr");var E=document.createElement("td");E.style.height="100%";E.style.verticalAlign="top";I.appendChild(E);u=document.createElement("div");d(u,"menu");u.style.height="100%";u.style.width=a+"px";E.appendChild(u);var x=document.createElement("td");x.style.width="100%";x.style.height="100%";x.style.verticalAlign="top";I.appendChild(x);A.appendChild(I);t.appendChild(G);G=e();A=G.firstChild;I=document.createElement("tr");b=document.createElement("td");d(b,"header");b.style.width="100%";I.appendChild(b);A.appendChild(I);I=document.createElement("tr");j=document.createElement("td");j.style.width="100%";j.style.height="100%";j.style.verticalAlign="top";I.appendChild(j);A.appendChild(I);x.appendChild(G);var H=function(){b.appendChild(m());i(g,function(){s.resize();s.onResize()})};var D=j.offsetWidth;if(D===0||isNaN(D)){var y;var F=function(){var J=j.offsetWidth;if(J===0||isNaN(J)){y=setTimeout(F,100)}else{clearTimeout(y);H()}};y=setTimeout(F,100)}else{H()}window.scrollTo(0,1)};var m=function(){var y=e();var x=y.firstChild;var A=document.createElement("tr");var z=document.createElement("td");z.onclick=function(){var C=parseFloat(t.style.marginLeft);if(C<0){s.showMenu()}else{s.hideMenu()}};if(typeof r.style.menuIcon==="function"){c=r.style.menuIcon()}else{c=document.createElement("div");d(c,r.style.menuIcon)}z.appendChild(c);A.appendChild(z);var w=document.createElement("td");w.style.width="100%";w.style.height="100%";A.appendChild(w);w.appendChild(k());var B=document.createElement("td");A.appendChild(B);x.appendChild(A);return y};var f=function(){var z=b.offsetHeight;var B=document.createElement("div");B.style.width=z+"px";B.style.height=z+"px";B.style.position="relative";B.style.cursor="pointer";var x=document.createElement("div");x.style.width="100%";x.style.height="100%";x.style.position="absolute";x.style.overflow="hidden";B.appendChild(x);var y=22;var C=3;var D=3;for(var w=0;w<3;w++){var A=document.createElement("div");A.style.width=y+"px";A.style.height=C+"px";A.style.background="#FFFFFF";A.style.marginBottom=D+"px";x.appendChild(A)}x.style.marginLeft=((z-y)/2)+"px";x.style.marginTop=((z-((C+D)*3))/2)+"px";return B};this.getMenuIcon=function(){return c};var k=function(){var x=document.createElement("div");x.style.width="100%";x.style.height="100%";x.style.position="relative";var w=document.createElement("div");w.style.width="100%";w.style.height="100%";w.style.position="absolute";w.style.overflow="hidden";x.appendChild(w);q=document.createElement("div");d(q,"title");s.setTitle(v);w.appendChild(q);return x};this.setTitle=function(w){v=w;if(w instanceof Element){q.appendChild(w)}else{q.innerHTML=v}};this.getTitle=function(){return v};this.showMenu=function(){s.beforeShow();if(r.fx){setTimeout(function(){t.style.marginLeft="0px";setTimeout(function(){s.onShow.apply(s,[])},r.animationSteps+50)},50)}else{p(true,new Date().getTime(),r.animationSteps,s.onShow)}};this.hideMenu=function(){s.beforeHide();if(r.fx){setTimeout(function(){t.style.marginLeft=-a+"px";setTimeout(function(){s.onHide.apply(s,[])},r.animationSteps+50)},50)}else{p(false,new Date().getTime(),r.animationSteps,s.onHide)}};this.onShow=function(){};this.onHide=function(){};this.beforeShow=function(){};this.beforeHide=function(){};var p=function(x,y,C,B){var w=new Date().getTime();var A=w-y;if(C<=A){t.style.marginLeft=x?"0px":-a+"px";if(B!=null){B.apply(s,[])}return}C-=A;var z;if(x){z=Math.round((C/r.animationSteps)*a)}else{z=a-Math.round((C/r.animationSteps)*a)}t.style.marginLeft=-z+"px";setTimeout(function(){p(x,w,C,B)},33)};this.resize=function(){t.style.width=(g.offsetWidth+a)+"px"};this.onResize=function(){};this.getMenu=function(){return u};this.getBody=function(){return j};var h=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.createTable;var i=javaxt.dhtml.utils.addResizeListener;var d=function(x,w){javaxt.dhtml.utils.setStyle(x,r.style[w])};o()};
javaxt.dhtml.PlayControl=function(h,b){this.className="javaxt.dhtml.PlayControl";var f=this;var a;var i=false;var c;var e=false;var d={startTime:0,speed:0.2,totalTime:60,style:{groove:"sliderGrove",handle:"sliderHandle"}};var j=function(){var l={};g(l,b);g(l,d);b=l;var k=false;a=new javaxt.dhtml.Slider(h,b);a.onChange=function(){if(k){f.onChange(f.getElapsedTime())}};a.onDrag=function(){var m=i;f.pause();if(m){f.play(e)}};a.onRender=function(){f.setElapsedTime(b.startTime);k=true}};this.setRunTime=function(k){if(k===b.totalTime){return}var l=false;if(i){f.pause();l=true}b.totalTime=k;if(l){f.play()}};this.play=function(m){if(i===true){return}if(m===true){e=true}else{e=false}i=true;var k=new Date().getTime();var l=a.getValue();if(l>0){k=k-((l/a.getWidth())*b.totalTime)*1000}c=setInterval(function(){var n=a.getWidth();var o=(new Date().getTime()-k)/1000;var q=o/b.totalTime;var p=n*q;if(p>=n){if(e===true){f.onEnd();a.setValue(0);k=new Date().getTime()}else{a.setValue(n);f.pause();f.onEnd()}}else{a.setValue(p)}},b.speed*1000)};this.pause=function(){clearInterval(c);i=false};this.stop=function(){f.pause();a.setValue(0)};this.isPlaying=function(){return i};this.getElapsedTime=function(){return(a.getValue()/a.getWidth())*b.totalTime};this.setElapsedTime=function(m){if(m==null||m<0){return}var l=a.getWidth();var k=Math.ceil((m/b.totalTime)*l);if(k>l){k=0}a.setValue(k)};this.onChange=function(k){};this.onEnd=function(){};var g=javaxt.dhtml.utils.merge;j()};
javaxt.dhtml.Slider=function(m,c){var i=this;var a,b;var l=0;var n=0;var d={style:{groove:"sliderGrove",handle:"sliderHandle"}};var o=function(){if(typeof m==="string"){m=document.getElementById(m)}if(!m){return}var t={};j(t,c);j(t,d);c=t;var q=m.offsetWidth;b=document.createElement("div");e(b,c.style.groove);b.style.width="100%";f((q/2),9,b);m.appendChild(b);i.el=b;a=document.createElement("div");a.style.left=((q/2)-6.5)+"px";a.style.top=-6.5+"px";e(a,c.style.handle);b.appendChild(a);var q=b.offsetWidth;if(q===0||isNaN(q)){var s;var r=function(){var u=b.offsetWidth;if(u===0||isNaN(u)){s=setTimeout(r,100)}else{clearTimeout(s);p()}};s=setTimeout(r,100)}else{p()}};var p=function(){n=parseInt(g(a,"width"));var q=h(b);var r=-6;k.init(a,null,0,q-n,r,r);a.onDrag=function(){f(k.x,n,b);i.onDrag(i.getValue())};a.onDragEnd=function(){};a.addEventListener("touchmove",function(t){t.preventDefault();var u=t.touches[0];var s=u.pageX-this.parentNode.offsetLeft;if(s<0){s=0}if(s>(q-(n))){s=(q-(n))}this.style.left=s+"px";f(s,n,b);i.onDrag(i.getValue())},false);i.onRender()};this.onRender=function(){};this.onDrag=function(q){};this.onChange=function(q){};this.getValue=function(q){if(q==true){return Math.round((l/i.getWidth())*100)/100}else{return l}};this.getWidth=function(){return h(b)-n};this.setValue=function(q){a.style.left=(q-6.5)+"px";f(q,9,b)};var g=function(q,r){return document.defaultView.getComputedStyle(q,null).getPropertyValue(r.toLowerCase())};var f=function(q,r,s){l=q;i.onChange(l);var t=(q+(r/2))+"px 9px, 100% 9px";s.style.MozBackgroundSize=t;s.style.backgroundSize=t};var h=function(s){var r=parseInt(g(s,"width"));var t=parseInt(g(s,"padding-right"));var q=parseInt(g(s,"border-right-width"));r-=t;r-=q;return r};var k={obj:null,init:function(u,t,q,w,x,v,s,r){u.onmousedown=k.start;u.hmode=s?false:true;u.vmode=r?false:true;u.root=t&&t!=null?t:u;if(u.hmode&&isNaN(parseInt(u.root.style.left))){u.root.style.left=g(u.root,"left")}if(u.vmode&&isNaN(parseInt(u.root.style.top))){u.root.style.top=g(u.root,"top")}if(!u.hmode&&isNaN(parseInt(u.root.style.right))){u.root.style.right=g(u.root,"right")}if(!u.vmode&&isNaN(parseInt(u.root.style.bottom))){u.root.style.bottom=g(u.root,"bottom")}u.minX=typeof q!="undefined"?q:null;u.minY=typeof x!="undefined"?x:null;u.maxX=typeof w!="undefined"?w:null;u.maxY=typeof v!="undefined"?v:null;u.root.onDragStart=new Function();u.root.onDragEnd=new Function();u.root.onDrag=new Function()},start:function(r){var q=k.obj=this;r=k.fixE(r);k.y=parseInt(q.vmode?q.root.style.top:q.root.style.bottom);k.x=parseInt(q.hmode?q.root.style.left:q.root.style.right);q.root.onDragStart(k.x,k.y);q.lastMouseX=r.clientX;q.lastMouseY=r.clientY;if(q.hmode){if(q.minX!=null){q.minMouseX=r.clientX-k.x+q.minX}if(q.maxX!=null){q.maxMouseX=q.minMouseX+q.maxX-q.minX}}else{if(q.minX!=null){q.maxMouseX=-q.minX+r.clientX+k.x}if(q.maxX!=null){q.minMouseX=-q.maxX+r.clientX+k.x}}if(q.vmode){if(q.minY!=null){q.minMouseY=r.clientY-k.y+q.minY}if(q.maxY!=null){q.maxMouseY=q.minMouseY+q.maxY-q.minY}}else{if(q.minY!=null){q.maxMouseY=-q.minY+r.clientY+k.y}if(q.maxY!=null){q.minMouseY=-q.maxY+r.clientY+k.y}}document.onmousemove=k.drag;document.onmouseup=k.end;return false},drag:function(u){u=k.fixE(u);var t=k.obj;var r=u.clientY;var s=u.clientX;k.y=parseInt(t.vmode?t.root.style.top:t.root.style.bottom);k.x=parseInt(t.hmode?t.root.style.left:t.root.style.right);var q,v;if(t.minX!=null){s=t.hmode?Math.max(s,t.minMouseX):Math.min(s,t.maxMouseX)}if(t.maxX!=null){s=t.hmode?Math.min(s,t.maxMouseX):Math.max(s,t.minMouseX)}if(t.minY!=null){r=t.vmode?Math.max(r,t.minMouseY):Math.min(r,t.maxMouseY)}if(t.maxY!=null){r=t.vmode?Math.min(r,t.maxMouseY):Math.max(r,t.minMouseY)}q=k.x+((s-t.lastMouseX)*(t.hmode?1:-1));v=k.y+((r-t.lastMouseY)*(t.vmode?1:-1));k.obj.root.style[t.hmode?"left":"right"]=q+"px";k.obj.root.style[t.vmode?"top":"bottom"]=v+"px";k.obj.lastMouseX=s;k.obj.lastMouseY=r;k.obj.root.onDrag(q,v);return false},end:function(){document.onmousemove=null;document.onmouseup=null;k.obj.root.onDragEnd(parseInt(k.obj.root.style[k.obj.hmode?"left":"right"]),parseInt(k.obj.root.style[k.obj.vmode?"top":"bottom"]));k.obj=null},fixE:function(q){if(typeof q.elemX=="undefined"){q.elemX=q.offsetX}if(typeof q.elemY=="undefined"){q.elemY=q.offsetY}return q}};var j=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.setStyle;o()};
javaxt.dhtml.Table=function(l,v){this.className="javaxt.dhtml.Table";var x=this;var q=false;var t,n;var h;var f;var w;var p={multiselect:false,style:{table:{width:"100%",height:"100%",margin:0,padding:0,borderCollapse:"collapse"},headerRow:{height:"35px",borderBottom:"1px solid #8f8f8f",background:"#eaeaea"},headerColumn:{lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"pointer",whiteSpace:"nowrap"},row:{height:"35px",borderBottom:"1px solid #cccccc"},column:{lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"default",whiteSpace:"nowrap"},selectedRow:{height:"35px",borderBottom:"1px solid #cccccc",backgroundColor:"#FFFFB1"},resizeHandle:{width:"5px",cursor:"col-resize",marginRight:"-2px"},iscroll:null}};var s=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}if(v==null||v.columns==null){return}var G={};e(G,v);e(G,p);v=G;var z,L,D,H,B;D=d();L=D.parentNode;L.setAttribute("desc",x.className);c(L,"table");l.appendChild(L);x.el=L;H=document.createElement("tr");H.setAttribute("desc","Header Row");c(H,"headerRow");D.appendChild(H);B=document.createElement("td");B.style.width="100%";B.style.height="inherit";H.appendChild(B);t=d();B.appendChild(t.parentNode);H=document.createElement("tr");H.setAttribute("desc","Body Row");D.appendChild(H);B=document.createElement("td");B.style.width="100%";B.style.height="100%";H.appendChild(B);h=document.createElement("div");h.setAttribute("desc","body-div");h.style.width="100%";h.style.height="100%";h.style.position="relative";B.appendChild(h);z=document.createElement("div");z.style.width="100%";z.style.height="100%";z.style.position="absolute";z.style.overflow="scroll";z.style.overflowX="hidden";h.appendChild(z);h=z;n=d();n.parentNode.style.height="";z.appendChild(n.parentNode);H=i(t,1);B=document.createElement("td");H.appendChild(B);var E=document.createElement("div");B.appendChild(E);H=document.createElement("tr");t.appendChild(H);for(var C=0;C<v.columns.length;C++){var N=v.columns[C];var F=N.align;if(F=="right"){N.align="center"}var J=k(N,true,C);N.align=F;J.setContent(N.header);if(typeof N.header==="string"){N.label=N.header}else{N.label=N.header.innerText}J.colID=C;J.onclick=function(P){var O=this.colID;var R=v.columns[O];x.onHeaderClick(O,R,this,P);if(R!=null){var Q=R.onHeaderClick;if(Q!=null){Q.apply(x,[C,J,P])}}};H.appendChild(J)}H.appendChild(document.createElement("td"));i(n,1);var M=function(){var R=function(T){var S=h.scrollHeight-h.clientHeight;x.onScroll(T,S,h.offsetHeight)};if(typeof IScroll!=="undefined"){h.style.overflowY="hidden";x.iScroll=new IScroll(h,{scrollbars:v.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(v.style.iscroll){c(x.iScroll,"iscroll")}x.iScroll.on("scrollEnd",function(){R(-x.iScroll.y)})}else{h.onscroll=function(){R(h.scrollTop)}}var P=h.offsetWidth;var O=n.parentNode.offsetWidth;var Q=Math.abs(P-O);E.style.width=Q+"px";g(l,function(){x.update()})};var I=h.offsetWidth;if(I===0||isNaN(I)){var A;var K=function(){var O=h.offsetWidth;if(O===0||isNaN(O)){A=setTimeout(K,100)}else{clearTimeout(A);M()}};A=setTimeout(K,100)}else{M()}};var i=function(B,F){var G=document.createElement("tr");B.appendChild(G);for(var A=0;A<v.columns.length;A++){var H=v.columns[A];var E={};e(E,H);var D=document.createElement("td");D.style.height=o(F);if(H.hidden===true){D.style.visibility="hidden";D.style.display="none";D.style.width="0px"}else{var z=H.width;D.style.width=o((z==null)?25:z)}var C=document.createElement("div");C.style.width=o(((z+"").indexOf("%")>-1)?25:z);C.style.height=o(F);D.appendChild(C);G.appendChild(D)}return G};var k=function(B,F,A){var z=document.createElement("td");if(F===true){c(z,"headerColumn")}else{c(z,"column")}z.style.textAlign=B.align;if(B.hidden===true){z.style.visibility="hidden";z.style.display="none"}if(B.selecttext===true){}else{z.style.userSelect="none";z.style.webkitUserSelect="none";z.style.MozUserSelect="none";z.setAttribute("unselectable","on")}var D=document.createElement("div");D.style.position="relative";D.style.height="100%";z.appendChild(D);var C=document.createElement("div");C.style.position="absolute";C.style.width="100%";C.style.height="100%";C.style.overflow="hidden";D.appendChild(C);if(B.resizable===true){if(F&&A<v.columns.length-1){var E=document.createElement("div");c(E,"resizeHandle");E.style.position="absolute";E.style.right=0;E.style.top=0;E.style.height="100%";D.appendChild(E)}}z.innerDiv=C;z.setContent=j;z.getContent=y;return z};this.addRows=function(C){if(!m(C)){C=parseInt(C);if(isNaN(C)){return}else{var D=C;C=[];var B=[];for(var A=0;A<v.columns.length;A++){B.push("")}for(var A=0;A<D;A++){C.push(B)}}}q=true;var z=[];for(var A=0;A<C.length;A++){z.push(x.addRow(C[A]))}q=false;x.update();return z};this.addRow=function(){var D=arguments;if(m(D[0])){D=D[0]}var E=document.createElement("tr");E.selected=false;c(E,"row");E.get=a;E.set=r;E.onclick=u;if(!w){w=[];for(var B=0;B<v.columns.length;B++){var A=v.columns[B];var C={};e(C,A);var z=k(C);w.push(z)}}for(var B=0;B<v.columns.length;B++){var z=w[B].cloneNode(true);z.innerDiv=z.firstChild.firstChild;z.setContent=j;z.getContent=y;z.setContent(D[B]);E.appendChild(z)}n.appendChild(E);if(!q){x.update()}return E};var j=function(z){if(z==null||typeof z==="undefined"){this.innerDiv.innerHTML=""}else{if(typeof z==="string"||!isNaN(parseFloat(z))){this.innerDiv.innerHTML=z}else{this.innerDiv.innerHTML="";try{this.innerDiv.appendChild(z)}catch(A){}}}};var y=function(){if(this.innerDiv.childNodes){if(this.innerDiv.childNodes.length>0){var z=this.innerDiv.childNodes[0];if(z.nodeType===1){return z}else{return this.innerDiv.innerHTML}}}return null};var a=function(C){var D=parseInt(C);if(isNaN(D)){for(var B=0;B<v.columns.length;B++){var z=v.columns[B];var A=z.label;if(A===C){return this.childNodes[B].getContent()}}}else{return this.childNodes[D].getContent()}};var r=function(C,D){var E=parseInt(C);if(isNaN(E)){for(var B=0;B<v.columns.length;B++){var z=v.columns[B];var A=z.label;if(A===C){this.childNodes[B].setContent(D);return}}}else{this.childNodes[E].setContent(D)}};var u=function(A){var H=this;x.onRowClick(H,A);var I=[];if(v.multiselect===true){var E;if(A){E=A}if(window.event){E=window.event}if(!E.ctrlKey){var z=f;x.deselectAll();f=z}if(H.selected){x.deselect(H)}else{x.select(H)}I.push(H);if(E.shiftKey){var D=H.parentNode;var B,G;for(var C=0;C<D.childNodes.length;C++){var F=D.childNodes[C];if(F===f){B=C}if(F===H){G=C}}for(var C=Math.min(G,B);C<=Math.max(G,B);C++){var F=D.childNodes[C];x.select(F);I.push(F)}}x.onSelectionChange(I)}else{if(!H.selected){for(var C=1;C<n.childNodes.length;C++){var F=n.childNodes[C];if(F.selected){x.deselect(F);I.push(F)}}x.select(H);I.push(H);x.onSelectionChange(I)}}f=H};this.select=function(z){z.selected=true;c(z,"selectedRow")};this.deselect=function(z){z.selected=false;c(z,"row")};this.selectAll=function(){var B=[];if(v.multiselect===true){for(var z=1;z<n.childNodes.length;z++){var A=n.childNodes[z];if(!A.selected){x.select(A);B.push(A)}}f=null;if(B.length){x.onSelectionChange(B)}}};this.deselectAll=function(){var B=[];for(var z=1;z<n.childNodes.length;z++){var A=n.childNodes[z];if(A.selected){x.deselect(A);B.push(A)}}f=null;if(B.length>0){x.onSelectionChange(B)}};this.onSelectionChange=function(z){};this.onRowClick=function(A,z){};this.onHeaderClick=function(A,C,z,B){};this.clear=function(){x.deselectAll();while(n.childNodes.length>1){var z=n.childNodes[1];n.removeChild(z)}x.update()};this.update=function(){x.onOverflow(x.hasOverflow());if(x.iScroll){x.iScroll.refresh()}};this.hasOverflow=function(){return(h.offsetHeight<h.scrollHeight||h.offsetWidth<h.scrollWidth)};this.onOverflow=function(z){};this.onScroll=function(B,A,z){};this.scrollTo=function(z,B){h.scrollTop=B;var A=h.scrollHeight-h.clientHeight;x.onScroll(B,A,h.offsetHeight)};this.getScrollInfo=function(){return{y:h.scrollTop,h:h.offsetHeight,maxY:h.scrollHeight-h.clientHeight}};this.getRowCount=function(){return n.childNodes.length-1};this.forEachRow=function(F){if(F==null){return}for(var C=1;C<n.childNodes.length;C++){var E=n.childNodes[C];var D=[];for(var B=0;B<E.childNodes.length;B++){var A=E.childNodes[B];D.push(A.getContent())}var z=F.apply(x,[E,D]);if(z===true){return}}};this.updateRow=function(C,B){for(var A=0;A<C.childNodes.length;A++){var z=C.childNodes[A];z.setContent(B[A])}};this.getColumnWidth=function(z){return n.childNodes[0].childNodes[z].offsetWidth};this.showColumn=function(z){var B=t.childNodes[0].childNodes.length;if(z>=B){return}var C=b(t.childNodes);C=C.concat(b(n.childNodes));for(var A=0;A<C.length;A++){var D=C[A].childNodes;D[z].style.visibility="";D[z].style.display=""}};this.hideColumn=function(z){var B=t.childNodes[0].childNodes.length;if(z>=B){return}if(t.childNodes[0].childNodes[z].style.display=="none"){return}var C=b(t.childNodes);C=C.concat(b(n.childNodes));for(var A=0;A<C.length;A++){var D=C[A].childNodes;D[z].style.visibility="hidden";D[z].style.display="none"}};var b=function(A){var z=[];for(var B=0;B<A.length;B++){z.push(A[B])}return z};var o=function(A){var B=A+"";var z=B.substring(B.length-1).toLowerCase();if(z=="x"||z=="%"){return B}z=parseFloat(A);if(isNaN(z)){return A}else{return z+"px"}};var d=function(){var z=javaxt.dhtml.utils.createTable();return z.firstChild};var e=javaxt.dhtml.utils.merge;var g=javaxt.dhtml.utils.addResizeListener;var m=javaxt.dhtml.utils.isArray;var c=function(A,z){javaxt.dhtml.utils.setStyle(A,v.style[z])};s()};
javaxt.dhtml.TabPanel=function(parent,config){this.className="javaxt.dhtml.TabPanel";var me=this;var tabList;var tabContent;var defaultConfig={closable:false,style:{tabBar:{border:"1px solid #ccc",backgroundColor:"#eaeaea",height:"30px",borderBottom:"0px"},activeTab:{lineHeight:"30px",padding:"0 7px",backgroundColor:"#fafafa",cursor:"default",borderRight:"1px solid #ccc",borderBottom:"1px solid #fafafa"},inactiveTab:{lineHeight:"30px",padding:"0 7px",cursor:"pointer",borderRight:"1px solid #ccc",borderBottom:"0px"},tabBody:{border:"1px solid #ccc",verticalAlign:"top"},closeIcon:{}}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;var table=createTable();table.setAttribute("desc",me.className);var tbody=table.firstChild;var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');setStyle(td,"tabBar");td.style.width="100%";tr.appendChild(td);tabList=document.createElement('ul');tabList.style.listStyle="none outside none";tabList.style.padding=0;tabList.style.margin=0;tabList.style.height="100%";td.appendChild(tabList);tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');setStyle(td,"tabBody");td.style.width="100%";td.style.height="100%";tr.appendChild(td);tabContent=document.createElement('div');tabContent.style.width="100%";tabContent.style.height="100%";tabContent.style.position="relative";td.appendChild(tabContent);parent.appendChild(table);me.el=table;};this.addTab=function(name,_el){var el=document.createElement('div');el.style.width="100%";el.style.height="100%";el.style.position="absolute";el.appendChild(_el);var tab=document.createElement('li');setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.innerHTML=name;tab.el=el;tab.onclick=function(){raiseTab(this);};tab.onselectstart=function(){return false;};tab.onmousedown=function(){return false;};tabList.appendChild(tab);for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){setStyle(t,"inactiveTab");t.style.position="relative";t.style.float="left";t.style.height="100%";t.el.style.display='none';}}
el.style.display='none';tabContent.appendChild(el);raiseTab(tab);};this.getTabs=function(){var tabs=[];for(var i=0;i<tabList.childNodes.length;i++){var tab=tabList.childNodes[i];tabs.push(getTabInfo(tab));}
return tabs;};this.raiseTab=function(id){var tab=findTab(id);if(tab)raiseTab(tab);};var raiseTab=function(tab){if(tab.style.display==='none')return;if(tab.el.style.display==='none'){var currTab=null;for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.el.style.display==='block'){currTab=t;break;}}
setStyle(tab,"activeTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='';for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){if(t.style.display!=='none'){setInactive(t);}}}
tab.el.style.display='block';me.onTabChange(getTabInfo(tab),getTabInfo(currTab));}};var getTabInfo=function(tab){if(tab==null)return null;var hidden=(tab.style.display==='none');var active=(tab.el.style.display!=='none');return{name:tab.innerText,el:tab.el,hidden:hidden,active:active};};this.setActiveTab=this.raiseTab;this.onTabChange=function(currTab,prevTab){};this.removeTab=function(id){var tab=findTab(id);if(tab){var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;tabContent.removeChild(tab.el);tabList.removeChild(tab);if(nextTab)raiseTab(nextTab);}};this.hideTab=function(id){var tab=findTab(id);if(tab){if(tab.style.display==='none')return;var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;setInactive(tab);tab.style.display='none';tab.el.style.display='none';if(nextTab)raiseTab(nextTab);}};this.showTab=function(id){var tab=findTab(id);if(tab)tab.style.display='';};var findTab=function(id){if(isNaN(id)){if(typeof id==="string"){for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.innerHTML===id){return t;}}}}
else{if(id<tabList.childNodes.length){return tabList.childNodes[id];}}
return null;};var setInactive=function(tab){setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='none';};var merge=javaxt.dhtml.utils.merge;var createTable=javaxt.dhtml.utils.createTable;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};init();};
javaxt.dhtml.Tree=function(l,a){this.className="javaxt.dhtml.Tree";var j=this;var e={style:{rowHeight:"20px",colWidth:"21px",backgroundColor:"white",cursor:"default",padding:0,li:"",label:{},leaf:"leaf",node:{open:"node_open",closed:"node"},root:{open:"root",closed:"root"},path:{node:{open:{middle:"join_node_middle_open",last:"join_node_bottom_open"},closed:{middle:"join_node_middle",last:"join_node_bottom"}},leaf:{middle:"join_leaf_middle",last:"join_leaf_bottom"},line:"join_line"}}};var p=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var s={};k(s,a);k(s,e);a=s;var r=b();r.style.cursor=a.style.cursor;r.style.padding=a.style.padding;r.onselectstart=function(){return false};r.onmousedown=function(){return false};l.appendChild(r);r.setAttribute("desc",j.className);j.el=r;if(a.nodes){j.addNodes(a.nodes)}};this.addNodes=function(r){var t=[];d(r,j.el,t);for(var s=0;s<t.length;s++){h(t[s])}};this.onClick=function(r){};this.onExpand=function(r){};this.onCollapse=function(r){};this.getItem=function(y){if(!g(y)){if(typeof y==="string"){y=y.split("/")}else{return null}}var u=function(C,A){if(A){for(var B=0;B<A.length;B++){if(A[B].tagName.toLowerCase()==="li"){var z=A[B];if(C===z.getText()){return z}}}}return null};var x;var r=j.el.childNodes;for(var t=0;t<y.length;t++){var s=y[t];var v=u(s,r);if(v){if(t==y.length-1){x=v}else{var w=v.nextSibling;if(w){r=w.childNodes}}}else{return null}}if(x){return o(x)}else{return null}};this.show=function(u){if(u){var s=u.el;var t=s.parentNode;m(t);if(n(s)!="leaf"){var r=s.nextSibling;if(r.tagName.toLowerCase()=="ul"){m(r)}}if(s.offsetParent===null&&t!==j.el){while(s.offsetParent===null){t=t.parentNode;m(t);if(j.el===t){break}}}}else{j.el.style.visibility="";j.el.style.display=""}};this.hide=function(r){if(r){}else{j.el.style.visibility="hidden";j.el.style.display="node"}};this.getPath=function(u){var s=[];if(u){var r=u.el;if(r){var t=r.parentNode;while(t!==j.el){r=t.previousSibling;if(r){s.push(o(r));t=r.parentNode}else{break}}}}return s};var o=function(r){return{type:n(r),name:r.getText(),el:r}};var d=function(u,D,z){for(var y=0;y<u.length;y++){var w=u[y];var v=w.nodes;var E=document.createElement("li");E.className=a.style.li;E.onclick=function(){if(this.nextSibling){var F=this.nextSibling;var H=F.tagName.toLowerCase();if(H==="ul"){var G=F;if(G.style.visibility==="hidden"){m(G)}else{h(G)}}}j.onClick(o(this))};D.appendChild(E);if(v){var A=b();A.style.width="100%";A.style.height="100%";D.appendChild(A);var r=A.previousSibling;while(r){if(r.tagName.toLowerCase()==="ul"){c(r,a.style.path.line);break}r=r.previousSibling}}var x=n(E);if(x!=="root"){var t=q(x,true,(y===u.length-1));if(t){E.className=t;E.style.paddingLeft=a.style.colWidth}}else{E.style.padding=0;E.style.background="none"}var B;if(x=="leaf"){B=a.style.leaf}else{B=a.style[x].open}E.style.width="100%";if(typeof w==="string"){i(w,B,E)}else{var s=w.name;i(s,B,E)}if(v){var A=E.nextSibling;if(x!=="root"){A.style.paddingLeft=a.style.colWidth}var C=false;if(w.expand===true){C=true}if(!C){z.push(A)}d(v,A,z)}}};var m=function(t){if(t===j.el){return}t.style.visibility="";t.style.display="";var r=t.previousSibling;if(r){var s=n(r);var u=q(s,true,f(r));if(u){r.className=u}if(s!=="leaf"){r.setIcon(a.style[s].open)}j.onExpand(o(r))}};var h=function(t){if(t===j.el){return}t.style.visibility="hidden";t.style.display="none";var r=t.previousSibling;if(r){var s=n(r);var u=q(s,false,f(r));if(u){r.className=u}if(s!=="leaf"){r.setIcon(a.style[s].closed)}j.onCollapse(o(r))}};var i=function(t,u,r){var v=document.createElement("div");v.style.width="100%";v.style.backgroundColor=a.style.backgroundColor;v.style.position="relative";v.style.overflow="hidden";v.style.height=a.style.rowHeight;r.appendChild(v);var s;if(u){s=document.createElement("div");s.className=u;s.style.display="inline-block";s.style.position="absolute";v.appendChild(s)}var w;if(t){var w=document.createElement("div");c(w,a.style.label);w.style.display="inline-block";w.style.position="absolute";w.style.paddingLeft=a.style.colWidth;w.style.lineHeight=a.style.rowHeight;w.innerHTML=t.replace(/^\s*/,"").replace(/\s*$/,"");v.appendChild(w)}r.setIcon=function(x){if(s){s.className=x}};r.getText=function(){return w.innerText}};var n=function(r){if(r.parentNode===j.el){return"root"}else{var s=false;if(r.nextSibling){if(r.nextSibling.tagName.toLowerCase()==="ul"){s=true}}if(s){return"node"}else{return"leaf"}}};var f=function(r){var v=r.parentNode.childNodes;for(var t=0;t<v.length;t++){if(v[t]===r){var u=false;for(var s=t+1;s<v.length;s++){if(v[s].tagName.toLowerCase()==="li"){u=true;break}}if(u){return false}}}return true};var q=function(r,s,u){if(r!=="root"){var v=u?"last":"middle";var t=a.style.path[r];if(r!=="leaf"){if(s){t=t.open}else{t=t.closed}}t=t[v];if(typeof t==="string"){return t}else{}}return null};var b=function(){var r=document.createElement("ul");r.style.listStyleType="none";r.style.padding=0;r.style.margin=0;r.style.backgroundColor=a.style.backgroundColor;return r};var k=javaxt.dhtml.utils.merge;var c=javaxt.dhtml.utils.addStyle;var g=javaxt.dhtml.utils.isArray;p()};
javaxt.dhtml.Effects=function(){var d=this;this.fadeIn=function(g,f,h,i){g.style.opacity=0;g.style.display="";d.setTransition(g,f,h);setTimeout(function(){g.style.opacity="";if(i){setTimeout(function(){i.apply(g,[])},h+50)}},50)};this.fadeOut=function(g,f,h,i){d.setTransition(g,f,h);setTimeout(function(){g.style.opacity=0;if(i){setTimeout(function(){g.style.display="none";i.apply(g,[])},h+50)}},50)};this.setTransition=function(h,f,i){if(isNaN(i)||i<=0){return}var g=b(f);if(i){i=500}e(h,i,g)};var b=function(f){if(a(f)){return f}else{var g=javaxt.dhtml.Transitions[f];if(!g){g=javaxt.dhtml.Transitions.ease}return g}};var a=function(f){return(Object.prototype.toString.call(f)==="[object Array]")};var e=function(h,n,i){var g=i[0];var m=i[1];var f=i[2];var l=i[3];h.style.WebkitTransition=h.style.MozTransition=h.style.MsTransition=h.style.OTransition=h.style.transition="all "+n+"ms cubic-bezier("+g+", "+m+", "+f+", "+l+")";if(!c){var k,j;if(m>1){k=1}if(m<0){k=0}if(l>1){j=1}if(l<0){j=0}h.style.WebkitTransition="all "+n+"ms cubic-bezier("+g+", "+k+", "+f+", "+j+")"}};var c=(function(){var f=document.createElement("div");f.style.WebkitTransitionTimingFunction="cubic-bezier(1,0,0,1.1)";return !!f.style.WebkitTransitionTimingFunction.length})()};javaxt.dhtml.Transitions={linear:[0.25,0.25,0.75,0.75],ease:[0.25,0.1,0.25,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1],easeInQuad:[0.55,0.085,0.68,0.53],easeInCubic:[0.55,0.055,0.675,0.19],easeInQuart:[0.895,0.03,0.685,0.22],easeInQuint:[0.755,0.05,0.855,0.06],easeInSine:[0.47,0,0.745,0.715],easeInExpo:[0.95,0.05,0.795,0.035],easeInCirc:[0.6,0.04,0.98,0.335],easeInBack:[0.6,-0.28,0.735,0.045],easeOutQuad:[0.25,0.46,0.45,0.94],easeOutCubic:[0.215,0.61,0.355,1],easeOutQuart:[0.165,0.84,0.44,1],easeOutQuint:[0.23,1,0.32,1],easeOutSine:[0.39,0.575,0.565,1],easeOutExpo:[0.19,1,0.22,1],easeOutCirc:[0.075,0.82,0.165,1],easeOutBack:[0.175,0.885,0.32,1.275],easeInOutQuad:[0.455,0.03,0.515,0.955],easeInOutCubic:[0.645,0.045,0.355,1],easeInOutQuart:[0.77,0,0.175,1],easeInOutQuint:[0.86,0,0.07,1],easeInOutSine:[0.445,0.05,0.55,0.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[0.785,0.135,0.15,0.86],easeInOutBack:[0.68,-0.55,0.265,1.55]};
javaxt.dhtml.PageLoader=function(config){var me=this;var head=document.getElementsByTagName("head")[0];var debug=false;var includes;var init=function(){if(config){if(config.debug===true){debug=true}}};this.loadPage=function(url,callback){me.load(url,function(html,title,inlineScripts){document.title=title;var body=document.getElementsByTagName("body")[0];body.innerHTML=html;for(var i=0;i<inlineScripts.length;i++){var script=inlineScripts[i].firstChild.nodeValue;var type=inlineScripts[i].getAttribute("type");if(type=="module"){script=script.replace("//<![CDATA[","").replace("//]]>","");var s=document.createElement("script");s.setAttribute("type",type);s.innerHTML=script;body.appendChild(s)}else{eval(script)}}dispatchEvent("load");if(callback){callback.apply(me,[])}})};this.load=function(url,callback){if(url.indexOf("?")==-1){url+="?"}url+="&_="+new Date().getTime();get(url,function(html){var div=document.createElement("div");div.innerHTML=html;var title;var titles=div.getElementsByTagName("title");if(titles.length>0){title=titles[0].innerHTML}var inlineScripts=[];var externalScripts=[];var scripts=div.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){externalScripts.push(scripts[i].src)}else{inlineScripts.push(scripts[i])}}var css=[];var cssNodes=[];var links=div.getElementsByTagName("link");for(var i=0;i<links.length;i++){if(links[i].rel=="stylesheet"){if(links[i].href.length>0){css.push(links[i].href);cssNodes.push(links[i])}}}removeNodes(titles);removeNodes(div.getElementsByTagName("description"));removeNodes(div.getElementsByTagName("keywords"));removeNodes(div.getElementsByTagName("meta"));removeNodes(scripts);removeNodes(links);removeNodes(cssNodes);var comments=[];for(var i=0;i<div.childNodes.length;i++){var node=div.childNodes[i];if(node.nodeType==8){comments.push(node)}}while(comments.length>0){div.removeChild(comments[0]);comments.shift()}html=div.innerHTML;div=null;loadIncludes(css,externalScripts,function(){if(callback){callback.apply(me,[html,title,inlineScripts])}})})};this.loadApp=function(url,callback){if(url.indexOf("?")==-1){url+="?"}url+="&_="+new Date().getTime();get(url,function(text,xml){var appInfo={};var application=xml.getElementsByTagName("application")[0];if(application){appInfo.name=application.getAttribute("name");appInfo.main=application.getAttribute("main")}var scripts=[];var css=[];var includes=xml.getElementsByTagName("includes")[0].childNodes;for(var i=0;i<includes.length;i++){var include=includes[i];if(include.nodeType==1){var type=include.getAttribute("type");if(type==="text/javascript"){scripts.push(include.getAttribute("src"))}else{if(type==="text/css"){css.push(include.getAttribute("href"))}}}}loadIncludes(css,scripts,function(){if(callback){appInfo.init=function(){var cls=stringToFunction(this.main);return newInstance(cls).apply(arguments)};callback.apply(me,[appInfo,xml])}})})};var loadIncludes=function(css,scripts,callback){parseIncludes();var addInclude=function(category,key){if(category=="css"){return true}var obj=includes[category];for(var k in obj){if(obj.hasOwnProperty(k)){if(k==key){return false}}}return true};var arr=[];for(var i=0;i<css.length;i++){if(addInclude("css",css[i])){var link=document.createElement("link");link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");link.setAttribute("href",css[i]);arr.push(link);includes.css[css[i]]=true}else{log("Skipping "+css[i]+"...")}}for(var i=0;i<scripts.length;i++){if(addInclude("scripts",scripts[i])){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",scripts[i]);arr.push(script);includes.scripts[scripts[i]]=true}else{log("Skipping "+scripts[i]+"...")}}if(arr.length>0){var t=arr.length;var loadResource=function(obj){obj.onload=function(){log(Math.round((1-(arr.length/t))*100)+"%");if(arr.length>0){loadResource(arr.shift())}else{if(callback!=null){callback.apply(me,[])}}};head.appendChild(obj)};loadResource(arr.shift())}else{if(callback!=null){callback.apply(me,[])}}};var parseIncludes=function(){if(includes){return}includes={css:{},scripts:{}};var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){includes.scripts[scripts[i].src]=true}}var css=document.getElementsByTagName("link");for(var i=0;i<css.length;i++){if(css[i].rel=="stylesheet"){if(css[i].href.length>0){includes.css[css[i].href]=true}}}};var removeNodes=function(nodes){while(nodes.length>0){var node=nodes[0];var parent=node.parentNode;if(!parent){break}parent.removeChild(node)}};var stringToFunction=function(str){var arr=str.split(".");var fn=(window||this);for(var i=0,len=arr.length;i<len;i++){fn=fn[arr[i]]}if(typeof fn!=="function"){throw new Error("function not found")}return fn};var newInstance=function(cls){var fn=(new Function("return function () { };"))();fn.prototype=cls.prototype;var self=new fn();return{apply:function(args){cls.apply(self,args);return self}}};var dispatchEvent=function(name){var evt;try{evt=new Event(name)}catch(e){evt=document.createEvent("Event");evt.initEvent(name,false,false)}window.dispatchEvent(evt)};var log=function(str){if(debug){console.log(str)}};var get=function(url,success){var request=null;if(window.XMLHttpRequest){request=new XMLHttpRequest()}else{request=new ActiveXObject("Microsoft.XMLHTTP")}request.open("GET",url,true);request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200){if(success){success.apply(me,[request.responseText,request.responseXML])}}}};request.send()};init()};
javaxt.dhtml.utils={get:function(url,config){if(config.payload!=null){var payload=config.payload;delete config.payload;return javaxt.dhtml.utils.post(url,payload,config);}
var settings={method:"GET",payload:null};javaxt.dhtml.utils.merge(settings,config);return javaxt.dhtml.utils.http(url,settings);},post:function(url,payload,config){var settings={method:"POST",payload:payload};javaxt.dhtml.utils.merge(settings,config);return javaxt.dhtml.utils.http(url,settings);},delete:function(url,config){var settings={method:"DELETE",payload:null};javaxt.dhtml.utils.merge(settings,config);return javaxt.dhtml.utils.http(url,settings);},http:function(url,config){var cache=false;if(config.cache){if(config.cache==true)cache=true;}
if(!cache){if(url.indexOf("?")==-1)url+="?";url+="&_="+new Date().getTime();}
var method=config.method;var success=config.success;var scope=config.scope;var async=true;if(config.async){if(config.async!=false)async=true;}
var failure=config.failure;if(typeof failure==="undefined")failure=function(request){if(request.status!==0){alert(request);}};var request=new XMLHttpRequest();if(config.username&&config.password){request.open(method,url,async,config.username,config.password);request.setRequestHeader("Authorization","Basic "+btoa(config.username+":"+config.password));}
else{request.open(method,url,async);}
request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200){if(success)success.apply(scope,[request.responseText,request.responseXML,request.responseURL]);}
else{if(failure)failure.apply(scope,[request]);}}};if(config.payload)request.send(config.payload);else request.send();return request;},merge:function(settings,defaults){var merge=function(settings,defaults){if(settings==null)return;for(var p in defaults){if(defaults.hasOwnProperty(p)&&typeof settings[p]!=="undefined"){if(p!=0)
merge(settings[p],defaults[p]);}
else{settings[p]=defaults[p];}}};merge(settings,defaults);return settings;},clone:function(obj){var clone={};javaxt.dhtml.utils.merge(clone,obj);return clone;},isDirty:function(obj,org){var isEmpty=javaxt.dhtml.utils.isEmpty;var a=isEmpty(obj);var b=isEmpty(org);if((a==true&&b==false)||(b==true&&a==false))return true;var d=javaxt.dhtml.utils.diff(obj,org);return!isEmpty(d);},diff:function(obj1,obj2){var isEmpty=javaxt.dhtml.utils.isEmpty;var merge=javaxt.dhtml.utils.merge;var diff=function(obj1,obj2){var ret={},rett;for(var i in obj2){rett={};if(typeof obj2[i]==='object'){if(obj1.hasOwnProperty(i)){rett=diff(obj1[i],obj2[i]);if(!isEmpty(rett)){ret[i]=rett;}}
else{ret[i]=obj2[i];}}
else{if(!obj1||!obj1.hasOwnProperty(i)||obj2[i]!==obj1[i]){ret[i]=obj2[i];}}}
return ret;};var d1=diff(obj1,obj2);var d2=diff(obj2,obj1);return merge(d1,d2);},isEmpty:function(obj){return JSON.stringify(obj)==="{}";},isArray:function(obj){return(Object.prototype.toString.call(obj)==='[object Array]');},isNumber:function(n){return!isNaN(parseFloat(n))&&!isNaN(n-0);},setStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(typeof IScroll!=='undefined'){if(el instanceof IScroll){var indicators=el.indicators;if(indicators){var indicatorClass="iScrollIndicator";if(style.indicator)indicatorClass=style.indicator;for(var i=0;i<indicators.length;i++){var indicator=indicators[i].indicator;indicator.className=indicatorClass;var scrollbar=indicator.parentNode;if(scrollbar.className.indexOf("iScrollVerticalScrollbar")){if(style.verticalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollVerticalScrollbar",style.verticalScrollbar);}}
else{if(style.horizontalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollHorizontalScrollbar",style.horizontalScrollbar);}}}}
return;}}
el.style='';el.removeAttribute("style");if(typeof style==='string'||style instanceof String){el.className=style;}
else{for(var key in style){var val=style[key];if(key==="content"){el.innerHTML=val;}
else{el.style[key]=val;}}}},addStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(typeof style==='string'||style instanceof String){if(el.className&&el.className!=null)el.className+=" "+style;else el.className=style;}
else{for(var key in style){var val=style[key];el.style[key]=val;if(key==="transform"){el.style["-webkit-"+key]=val;}}}},hasStyleRule:function(selector){var hasRule=function(selector,rules){if(!rules)return false;for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.selectorText){var arr=rule.selectorText.split(',');for(var j=0;j<arr.length;j++){if(arr[j].indexOf(selector)!==-1){var txt=trim(arr[j]);if(txt===selector){return true;}
else{var colIdx=txt.indexOf(":");if(colIdx!==-1){txt=trim(txt.substring(0,colIdx));if(txt===selector){return true;}}}}}}}
return false;};var trim=function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"");};for(var i=0;i<document.styleSheets.length;i++){var rules;try{rules=document.styleSheets[i].rules||document.styleSheets[i].cssRules;if(hasRule(selector,rules)){return true;}}
catch(e){}
var imports=document.styleSheets[i].imports;if(imports){for(var j=0;j<imports.length;j++){rules=imports[j].rules||imports[j].cssRules;if(hasRule(selector,rules))return true;}}}
return false;},addNoSelectRule:function(){var hasStyleRule=javaxt.dhtml.utils.hasStyleRule;if(!hasStyleRule(".javaxt-noselect")){var head=document.head||document.getElementsByTagName('head')[0];var sheet=document.createElement('style');sheet.innerHTML=".javaxt-noselect {\n";var arr=["-webkit-","-moz-","-o-","-ms-","-khtml-",""];for(var i=0;i<arr.length;i++){sheet.innerHTML+=arr[i]+"user-select: none;\n";}
sheet.innerHTML+="}";head.appendChild(sheet);}},createTable:function(){var table=document.createElement('table');table.cellSpacing=0;table.cellPadding=0;table.style.width="100%";table.style.height="100%";table.style.margin=0;table.style.padding=0;table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);return table;},getRect:function(el){if(el.getBoundingClientRect){return el.getBoundingClientRect();}
else{var x=0;var y=0;var w=el.offsetWidth;var h=el.offsetHeight;function isNumber(n){return n===parseFloat(n);}
var org=el;do{x+=el.offsetLeft-el.scrollLeft;y+=el.offsetTop-el.scrollTop;}while(el=el.offsetParent);el=org;do{if(isNumber(el.scrollLeft))x-=el.scrollLeft;if(isNumber(el.scrollTop))y-=el.scrollTop;}while(el=el.parentNode);return{x:x,y:y,left:x,right:x+w,top:y,bottom:y+h,width:w,height:h};}},intersects:function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);},getAreaOfIntersection:function(r1,r2){var minX=r2.left;var maxX=r2.right;var minY=r2.top;var maxY=r2.bottom;var left=r1.left;var right=r1.right;var top=r1.top;var bottom=r1.bottom;if(left<minX)left=minX;if(right>maxX)right=maxX;if(top<minY)top=minY;if(bottom>maxY)bottom=maxY;var w=right-left;var h=bottom-top;return w*h;},addResizeListener:function(element,fn){var attachEvent=document.attachEvent;var isIE=navigator.userAgent.match(/Trident/);var requestFrame=(function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20);};return function(fn){return raf(fn);};})();var cancelFrame=(function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id);};})();function resizeListener(e,fn){var win=e.target||e.srcElement;if(win.__resizeRAF__)cancelFrame(win.__resizeRAF__);win.__resizeRAF__=requestFrame(function(){var trigger=win.__resizeTrigger__;fn.call(trigger,e);});};if(attachEvent){element.__resizeTrigger__=element;element.attachEvent('onresize',function(e){resizeListener(e,fn);});}
else{if(getComputedStyle(element).position=='static')element.style.position='relative';var obj=element.__resizeTrigger__=document.createElement('object');obj.setAttribute('style','display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');obj.__resizeElement__=element;obj.onload=function(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__;this.contentDocument.defaultView.addEventListener('resize',function(e){resizeListener(e,fn);});};obj.type='text/html';if(isIE)element.appendChild(obj);obj.data='about:blank';if(!isIE)element.appendChild(obj);}},getNextHighestZindex:function(obj){var highestIndex=0;var currentIndex=0;var elArray=Array();if(obj){elArray=obj.getElementsByTagName('*');}else{elArray=document.getElementsByTagName('*');}
for(var i=0;i<elArray.length;i++){if(elArray[i].currentStyle){currentIndex=parseFloat(elArray[i].currentStyle['zIndex']);}else if(window.getComputedStyle){currentIndex=parseFloat(document.defaultView.getComputedStyle(elArray[i],null).getPropertyValue('z-index'));}
if(!isNaN(currentIndex)&&currentIndex>highestIndex){highestIndex=currentIndex;}}
return(highestIndex+1);}};
javaxt.dhtml.Window=function(parent,config){this.className="javaxt.dhtml.Window";var me=this;var mainDiv,header,body,footer,mask;var titleDiv;var recenter=true;var visible=false;var noselect;var overflow;var defaultConfig={title:false,body:null,footer:null,width:null,height:null,modal:false,valign:"middle",closable:true,style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",background:"#ffffff",border:"1px solid #b4cbdd",borderRadius:"5px",display:"inline-block",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)"},header:{background:"#d9e7f8",height:"28px",borderRadius:"4px 4px 0 0",border:"1px solid #ecf2fb",borderBottom:"1px solid #b4cbdd"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#04468C",textAlign:"left",cursor:"default",padding:"5px"},icon:{float:"left"},buttonBar:{position:"absolute",right:0,padding:"5px"},button:{width:"16px",height:"16px",border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",color:"#6f6f6f",cursor:"default"},closeIcon:{content:"&#x2715;",lineHeight:"16px",textAlign:"center"},body:{padding:"7px",verticalAlign:"top",color:"#484848"},footer:{},mask:{background:"rgba(0,0,0,0.1)"}},renderers:{headerButtons:createHeaderButtons}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;mainDiv=document.createElement('div');setStyle(mainDiv,"panel");mainDiv.style.position="absolute";mainDiv.style.left="0px";mainDiv.style.top="0px";mainDiv.style.display="none";mainDiv.style.visibility="hidden";me.setWidth(config.width);me.setHeight(config.height);parent.appendChild(mainDiv);me.el=mainDiv;var table=document.createElement('table');table.cellSpacing=0;table.cellPadding=0;table.style.width="100%";table.style.height="100%";table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);mainDiv.appendChild(table);var tr=document.createElement('tr');tbody.appendChild(tr);header=document.createElement("td");tr.appendChild(header);tr=document.createElement('tr');tbody.appendChild(tr);body=document.createElement("td");setStyle(body,"body");body.style.width="100%";body.style.height="100%";tr.appendChild(body);tr=document.createElement('tr');tbody.appendChild(tr);footer=document.createElement("td");setStyle(footer,"footer");tr.appendChild(footer);var headerDiv=document.createElement('div');addStyle(headerDiv,"header");headerDiv.style.position="relative";header.appendChild(headerDiv);var dragHandle=document.createElement('div');dragHandle.style.position="absolute";dragHandle.style.width="100%";dragHandle.style.height="100%";dragHandle.style.zIndex=1;headerDiv.appendChild(dragHandle);titleDiv=document.createElement('div');addStyle(titleDiv,"title");if(config.title)titleDiv.innerHTML=config.title;titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};headerDiv.appendChild(titleDiv);var iconDiv=document.createElement('div');addStyle(iconDiv,"icon");headerDiv.appendChild(iconDiv);var buttonDiv=document.createElement('div');addStyle(buttonDiv,"buttonBar");buttonDiv.style.zIndex=2;headerDiv.appendChild(buttonDiv);if(config.renderers.headerButtons){config.renderers.headerButtons(buttonDiv);}
else{createHeaderButtons(buttonDiv);}
if(config.body){if(config.body instanceof Element){var p=config.body.parentNode;if(p)p.removeChild(config.body);body.appendChild(config.body);}
else{if(typeof config.body==="string"){body.innerHTML=config.body;}}}
if(config.footer){if(config.footer instanceof Element){var p=config.footer.parentNode;if(p)p.removeChild(config.footer);footer.appendChild(config.footer);}
else{if(typeof parent==="string"){footer.innerHTML=config.footer;}}}
if(config.modal===true){mask=document.createElement('div');addStyle(mask,"mask");mask.style.position="absolute";mask.style.left="0px";mask.style.top="0px";mask.style.width="100%";mask.style.height="100%";mask.style.display="none";mask.style.visibility="hidden";parent.appendChild(mask);}
addNoSelectRule();initDrag(mainDiv,dragHandle,50);addResizeListener(parent,function(){if(recenter)me.center();});};var createHeaderButtons=function(buttonDiv){if(config.closable===true){buttonDiv.appendChild(createButton("closeIcon",me.close));}};var createButton=function(icon,onclick){var div=document.createElement('div');setStyle(div,"button");var innerDiv=document.createElement('div');setStyle(innerDiv,icon);div.appendChild(innerDiv);div.onclick=onclick;return div;};this.setTitle=function(title){titleDiv.innerHTML=title;};this.onHeaderClick=function(){};this.show=this.open=function(animation){me.showAt(null,null,animation);};this.showAt=function(x,y){var z=getNextHighestZindex();if(mask){overflow=mask.parentNode.style.overflow;mask.parentNode.style.overflow="hidden";mask.style.zIndex=z;mask.style.display='';mask.style.visibility='';z++;}
mainDiv.style.zIndex=z;mainDiv.style.display='';mainDiv.style.visibility='';if(x!=null&y!=null){mainDiv.style.left=x+"px";mainDiv.style.top=y+"px";recenter=false;}
else{if(recenter)me.center();}
visible=true;me.onOpen();};this.hide=this.close=function(){if(mask){if(overflow)mask.parentNode.style.overflow=overflow;mask.style.display="none";mask.style.visibility="hidden";mask.style.zIndex='';}
mainDiv.style.display="none";mainDiv.style.visibility="hidden";mainDiv.style.zIndex='';visible=false;me.onClose();};this.isOpen=function(){return visible;};this.onOpen=function(){};this.onClose=function(){};this.setWidth=function(width){if(isNaN(width)){if(typeof width==="string"){mainDiv.style.width=width;}}
else{mainDiv.style.width=width+"px";}};this.setHeight=function(height){if(isNaN(height)){if(typeof height==="string"){mainDiv.style.height=height;}}
else{mainDiv.style.height=height+"px";}};this.center=function(){var w=mainDiv.offsetWidth;var h=mainDiv.offsetHeight;var x=document.body.clientWidth;var y=document.body.clientHeight;if(screen.width>(2*screen.height))x=x/2;x=(x/2)-(w/2);switch(config.valign){case"top":y=(y/4)-(h/2);break;default:y=(y/2)-(h/2);}
if(y<0)y=0;if(x<0)x=0;mainDiv.style.left=x+"px";mainDiv.style.top=y+"px";};var initDrag=function(div,dragHandle,holdDelay){var holdStarter=null;var holdActive=false;dragHandle.onmousedown=function(e){holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag(e);if(document.addEventListener){document.addEventListener("mousemove",onMouseMove);document.addEventListener("mouseup",onMouseUp);}
else if(document.attachEvent){document.attachEvent("onmousemove",onMouseMove);document.attachEvent("onmouseup",onMouseUp);}},holdDelay);};var onMouseUp=function(e){if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;if(document.removeEventListener){document.removeEventListener("mousemove",onMouseMove);document.removeEventListener("mouseup",onMouseUp);}else if(document.detachEvent){document.detachEvent("onmousemove",onMouseMove);document.detachEvent("onmouseup",onMouseUp);}
dragHandle.style.cursor='default';var body=document.getElementsByTagName('body')[0];body.className=body.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,'');}};dragHandle.onmouseup=onMouseUp;dragHandle.ontouchstart=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag({clientX:x,clientY:y});if(document.removeEventListener){dragHandle.addEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.attachEvent("ontouchmove",onTouchMove);}},holdDelay);};dragHandle.ontouchend=function(e){if(document.removeEventListener){dragHandle.removeEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.detachEvent("ontouchmove",onTouchMove);}
if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;}};var onMouseMove=function(e){var x=e.clientX;var y=e.clientY;var left=(x-div.xOffset);if(left<0)left=0;if(left+div.width>parent.offsetWidth)left=parent.offsetWidth-div.width;var top=(y-div.yOffset);if(top<0)top=0;if(top+div.height>parent.offsetHeight)top=parent.offsetHeight-div.height;div.style.left=left+'px';div.style.top=top+'px';};var onTouchMove=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;onMouseMove({clientX:x,clientY:y});};var startDrag=function(e){var x=e.clientX;var y=e.clientY;var rect=_getRect(div);var xOffset=x-rect.x;var yOffset=y-rect.y;div.xOffset=xOffset;div.yOffset=yOffset;div.width=rect.width;div.height=rect.height;div.style.left=rect.x+'px';div.style.top=(y-yOffset)+'px';dragHandle.style.cursor='move';var body=document.getElementsByTagName('body')[0];if(!body.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){body.className+=(body.className.length==0?"":" ")+"javaxt-noselect";}};};var _getRect=javaxt.dhtml.utils.getRect;var merge=javaxt.dhtml.utils.merge;var getNextHighestZindex=javaxt.dhtml.utils.getNextHighestZindex;var addResizeListener=javaxt.dhtml.utils.addResizeListener;var addNoSelectRule=function(){if(noselect===true)return;javaxt.dhtml.utils.addNoSelectRule();noselect=true;};var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};