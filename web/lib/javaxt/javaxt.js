if(!javaxt)var javaxt={};if(!javaxt.dhtml)javaxt.dhtml={};
javaxt.dhtml.Accordion=function(h,s){this.className="javaxt.dhtml.Accordion";var t=this;var o={};var b=null;var l;var u;var k={activeOnTop:false,animate:true,animationSteps:250,defaultTab:null,style:{accordion:{width:"100%",height:"100%",border:"1px solid #969696",margin:"0px"},tabHeader:{background:"#F6F6F6",borderBottom:"1px solid #969696",padding:"7px 0 6px 7px",cursor:"pointer",whiteSpace:"nowrap"},tabContent:{borderBottom:"1px solid #969696",padding:"3px 0 0 7px"},activeTab:{}}};var n=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var C={};f(C,s);f(C,k);s=C;var D=[];for(var z=0;z<h.childNodes.length;z++){var x=h.childNodes[z];if(x.nodeType===1){D.push(x)}}for(var z=0;z<D.length;z++){h.removeChild(D[z])}h.innerHTML="";var E=c();E.setAttribute("desc",t.className);a(E,"accordion");E.style.borderCollapse="collapse";var A=E.firstChild;var F=document.createElement("tr");var y=document.createElement("td");y.style.width="100%";y.style.height="100%";y.style.verticalAlign="top";F.appendChild(y);A.appendChild(F);h.appendChild(E);t.el=E;var w=document.createElement("div");w.style.width="100%";w.style.height="100%";w.style.position="relative";y.appendChild(w);var B=document.createElement("div");B.style.width="100%";B.style.height="100%";B.style.position="absolute";B.style.overflow="hidden";w.appendChild(B);u=document.createElement("div");u.style.width="100%";u.style.height="100%";u.style.position="relative";B.appendChild(u);g(h,function(){t.resize()});for(var z=0;z<D.length;z++){t.add(D[z])}if(s.defaultTab){var v=s.animate;s.animate=false;t.open(s.defaultTab);s.animate=v}};this.enableAnimation=function(){s.animate=true};this.disableAnimation=function(){s.animate=false};this.add=function(w,z){var x;if(z){if(typeof z=="string"){x=z;z=i(x)}else{x=z.title}}else{x=w.title;z=i(x)}u.appendChild(z);a(w,"tabContent");w.style.height="0px";w.style.overflow="hidden";w.style.display="none";u.appendChild(w);var y=1;for(var v in o){if(o.hasOwnProperty(v)){y++}}o["tab"+y]={title:x,el:w};z.setAttribute("tabID",y);z.onclick=function(C){var A=parseInt(this.getAttribute("tabID"));var B=o["tab"+A];t.open(A);t.onHeaderClick(B.title,this,B.el,C)}};var i=function(v){var w=document.createElement("div");w.innerHTML=v;w.onselectstart=function(){return false};a(w,"tabHeader");return w};this.getCurrentTab=function(){if(b){var v=o["tab"+b];if(v){return{id:b,el:v.el,title:v.title}}}return null};this.open=function(z){var y=null;if(typeof z=="string"){for(var w in o){if(o.hasOwnProperty(w)){var x=o[w];if(x.title===z){y=x.el;z=parseInt(w.substring(3));break}}}}else{if(typeof z=="number"){var x=o["tab"+z];if(x){y=x.el}}}if(y==null){return}if(z==b){if(s.activeTabClosable==true){}else{return}}var v=null;if(b){var x=o["tab"+b];if(x){v=x.el}}t.beforeChange();b=z;l=q(y);if(s.animate==true){e(new Date().getTime(),s.animationSteps,v,y)}else{j(y,v)}};var j=function(w,z){if(w){m(w.previousSibling,"activeTab");w.style.display="block";w.style.height=l+"px";w.style.filter="alpha(opacity=100)";w.style.MozOpacity=1}if(z){a(z.previousSibling,"tabHeader");z.style.display="none";z.style.height="0px";z.style.filter="alpha(opacity=0)";z.style.MozOpacity=0}if(s.activeOnTop==true){var v=[];var A=[];var B=0;for(var C=0;C<u.childNodes.length;C++){var y=u.childNodes[C];if(y.nodeType===1){var E=y.getAttribute("tabID");if(E){if(E==b){break}var D=y.cloneNode(true);D.onclick=y.onclick;u.appendChild(D);v.push(y);A.push(D);if(y.offsetHeight>0){B+=y.offsetHeight}}}}var x=function(){while(v.length>0){var G=v.shift();var F=G.nextSibling;u.removeChild(G);G=A.shift();u.insertBefore(F,G.nextSibling)}u.style.marginTop="0px";u.style.height="100%"};u.style.height="";if(s.animate==true){p(new Date().getTime(),100,B,x)}else{u.style.marginTop=-B+"px";x()}}t.afterChange()};var e=function(w,z,x,v){var A=new Date().getTime();var C=A-w;if(l==null){l=q(v)}if(z<=C){j(v,x);return}z-=C;var D=d(v);var y=Math.round((z/s.animationSteps)*l-D);var B=(z/s.animationSteps)*100;if(v){if(v.style.display!="block"){v.style.display="block";v.style.filter="alpha(opacity="+(100-B)+")";v.style.MozOpacity=(100-B)/100}v.style.height=(l-y)-D+"px"}if(x){x.style.height=y+"px";x.style.filter="alpha(opacity="+(B)+")";x.style.MozOpacity=B/100}setTimeout(function(){e(A,z,x,v)},33)};var p=function(w,B,z,A){var v=new Date().getTime();var y=v-w;if(B<=y){if(A!=null){A.apply(t,[])}return}B-=y;var x=z-Math.round((B/s.animationSteps)*z);u.style.marginTop=-x+"px";setTimeout(function(){p(v,B,z,A)},33)};this.resize=function(){if(b){var w=o["tab"+b];if(w){var v=q();var x=d(w.el);w.el.style.height=(v-x)+"px"}}};this.onHeaderClick=function(x,y,v,w){};this.beforeChange=function(){};this.afterChange=function(){};var q=function(w){var v=u.offsetHeight;if(v>0){if(document.body.clientHeight<v){v=document.body.clientHeight}for(var y=0;y<u.childNodes.length;y++){var z=u.childNodes[y];if(z.nodeType===1){var x=z.getAttribute("tabID");if(x){if(z.offsetHeight>0){v-=z.offsetHeight}}}}var A=0;if(w){A=d(w)}return v-A}return 0};var d=function(v){var y=parseFloat(r(v,"padding-top").replace("px",""));var z=parseFloat(r(v,"padding-bottom").replace("px",""));var A=parseFloat(r(v,"border-top-width").replace("px",""));var w=parseFloat(r(v,"border-bottom-width").replace("px",""));var x=(y+z+A+w);if(isNaN(x)){return 0}else{return x}};var r=function(w,v){if(w.currentStyle){return w.currentStyle[v]}else{if(window.getComputedStyle){return document.defaultView.getComputedStyle(w,"").getPropertyValue(v)}}};var f=javaxt.dhtml.utils.merge;var c=javaxt.dhtml.utils.createTable;var g=javaxt.dhtml.utils.addResizeListener;var a=function(w,v){javaxt.dhtml.utils.setStyle(w,s.style[v])};var m=function(w,v){javaxt.dhtml.utils.addStyle(w,s.style[v])};n()};
javaxt.dhtml.Authentication=function(c,a){var b=navigator.userAgent.toLowerCase();this.login=function(h,d,g){var f=this.logoff;var e=((window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"));e.open("GET",c,true,h,d);e.setRequestHeader("Cache-Control","no-cache, no-transform");e.onreadystatechange=function(){if(e.readyState===4){if(e.status!==200){if(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){f()}}if(g!=null){g.call(e)}}};e.send(null)};this.logoff=function(e){if(b.indexOf("msie")!=-1){document.execCommand("ClearAuthenticationCache");if(e!=null){e.call()}}else{var d=new XMLHttpRequest();d.open("GET",a+"?prompt=false",true);d.setRequestHeader("Cache-Control","no-cache, no-transform");d.onreadystatechange=function(){if(d.readyState===4){var f=new XMLHttpRequest();f.open("GET",c,true,"logout","logout");f.setRequestHeader("Cache-Control","no-cache, no-transform");f.onreadystatechange=function(){if(f.readyState===4){if(e!=null){e.call()}}};f.send("")}};d.send("")}}};
javaxt.dhtml.BarGraph=function(h,v){this.className="javaxt.dhtml.BarGraph";var x=this;var q,y,m;var t,i,a,u;var o;var b=[];var l=0;var r=0;var w={};var j={animate:false,animationSteps:750,maxHorizonalLabels:3,style:{cell:{borderBottom:"1px solid #ccc",padding:"0 5px"},bar:{backgroundColor:"#7baaf7",borderRadius:"3px 3px 0 0",cursor:"pointer"},tick:{borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",height:"5px"},labelX:{textAlign:"center",color:"#757575",fontSize:"10px",height:"14px"},labelY:{textAlign:"right",color:"#757575",fontSize:"10px",padding:"0 5px 0 0",margin:"-5px 0 0 0"},hline:{borderTop:"1px solid #ccc",opacity:0.5,zIndex:1},select:{backgroundColor:"orange"}}};var p=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var F={};g(F,v);g(F,j);v=F;var A=document.createElement("div");A.style.position="relative";A.style.height="100%";A.setAttribute("desc",x.className);x.el=A;h.appendChild(A);var I=d();A.appendChild(I);var D=I.firstChild;var G=document.createElement("tr");D.appendChild(G);var C=document.createElement("td");C.style.width="100%";C.style.height="100%";C.style.verticalAlign="bottom";G.appendChild(C);t=d();C.appendChild(t);D=t.firstChild;G=document.createElement("tr");D.appendChild(G);C=document.createElement("td");C.style.height="100%";C.style.width="1px";C.style.verticalAlign="top";a=d();a.setAttribute("desc","yAxis");C.appendChild(a);G.appendChild(C);C=document.createElement("td");C.style.height="100%";C.style.width="100%";G.appendChild(C);var H=document.createElement("div");H.style.position="relative";H.style.width="100%";H.style.height="100%";C.appendChild(H);var z=document.createElement("div");z.style.position="absolute";z.style.width="100%";z.style.height="100%";z.style.top=0;z.style.overflow="hidden";z.style.padding="0 1px";H.appendChild(z);var B=document.createElement("div");B.style.position="relative";B.style.width="100%";z.appendChild(B);u=d();B.appendChild(u);var E=document.createElement("div");E.style.position="absolute";E.style.width="100%";E.style.height="100%";E.style.overflow="auto";E.style.overflowY="hidden";E.style.padding="0 1px";H.appendChild(E);i=d();i.setAttribute("desc","dataTable");D=i.firstChild;q=document.createElement("tr");D.appendChild(q);y=document.createElement("tr");D.appendChild(y);m=document.createElement("tr");D.appendChild(m);E.appendChild(i);if(v.animate===true){t.style.height=0}e(H,function(){x.update()})};this.show=function(){x.el.style.display=""};this.hide=function(){x.el.style.display="none"};this.add=function(H,G){if(!k(H)){H=0}b.push(H);if(H>r){r=H}if(H<l){l=H}var C,E;if(!w.cell){C=document.createElement("td");c(C,"cell");C.style.height="100%";C.style.verticalAlign="bottom";var z=document.createElement("div");z.style.position="relative";z.style.height="100%";C.appendChild(z);E=document.createElement("div");c(E,"bar");E.style.position="absolute";E.style.bottom=0;E.style.width="100%";z.appendChild(E);w.cell=C}else{C=w.cell.cloneNode(true);E=C.childNodes[0].childNodes[0]}E.onclick=function(){var K=this.parentNode.parentNode;for(var L=0;L<q.childNodes.length;L++){if(q.childNodes[L]==K){x.onClick(b[L],L,this);break}}};C.onclick=function(){var K=this;for(var L=0;L<q.childNodes.length;L++){if(q.childNodes[L]==K){x.onCellClick(L,K);break}}};q.appendChild(C);if(v.style.cell.width){C.style.width=v.style.bar.width;C.childNodes[0].style.width=v.style.bar.width;o=parseInt(v.style.cell.width)}else{if(typeof v.style.cell==="string"){if(!o){var J=document.createElement("div");c(J,"cell");J.style.position="absolute";J.style.visibility="hidden";J.style.display="block";var D=document.getElementsByTagName("body")[0];D.appendChild(J);var A=J.currentStyle||window.getComputedStyle(J);var F=function(L){if(A.getPropertyValue){var K=A.getPropertyValue(L);if(K&&K.length>0){return K}return A.getPropertyValue(L)}else{return A[L]}};o=parseInt(F("width"));D.removeChild(J);J=null}}}var C=document.createElement("td");c(C,"tick");y.appendChild(C);C=document.createElement("td");c(C,"labelX");if(G!=null){var I=document.createElement("div");I.style.position="relative";I.style.width="100%";I.style.height="100%";C.appendChild(I);var B=document.createElement("div");B.style.position="absolute";B.style.width="100%";B.style.height="100%";I.appendChild(B);if(typeof G==="string"||k(G)){B.innerHTML=G}else{if(G instanceof Function){G.apply(x,[B])}}}m.appendChild(C)};this.setValue=function(z,A){b[z]=A;if(A>r){r=A}if(A<l){l=A}};this.update=function(O){for(var F=0;F<b.length;F++){var A=q.childNodes[F].childNodes[0].childNodes[0];if(A){var C=(b[F]/r)*100;A.style.height=C+"%"}}if(!isNaN(o)){if(o>0){var B=(o*b.length)+"px";i.style.width=B;u.parentNode.style.width=B}}var D=a.firstChild.childNodes.length;var L=v.maxHorizonalLabels;var K=s(b).length;if(K<L){L=K}var z=Math.round((1/L)*100)+"%";if(K===1&&b[0]===0){z="100%";L=0}var H=a.firstChild;var G=u.firstChild;if(D>L){while(H.childNodes.length>0){H.removeChild(H.childNodes[0])}while(G.childNodes.length>0){G.removeChild(G.childNodes[0])}D=0}for(var F=D;F<L;F++){var J=document.createElement("tr");H.appendChild(J);var E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"labelY");E.appendChild(A);E.label=A;var E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"hline");A.style.width="100%";E.appendChild(A);J=document.createElement("tr");G.appendChild(J);E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"hline");A.style.width="100%";A.style.position="absolute";E.appendChild(A)}for(var F=0;F<H.childNodes.length;F++){var E=H.childNodes[F].childNodes[0];E.style.height=z;var I=H.childNodes.length;var N=I-F;var M=r/L;var C=M*N;x.createLabel(C,N,I,E.label)}for(var F=0;F<G.childNodes.length;F++){var E=G.childNodes[F].childNodes[0];E.style.height=z}if(v.animate===true){a.style.display="none";f(new Date().getTime(),v.animationSteps,function(){a.style.display="";a.style.height=q.offsetHeight+"px";u.style.height=q.offsetHeight+"px";if(O!=null){O.apply(x,[])}})}else{a.style.height=q.offsetHeight+"px";u.style.height=q.offsetHeight+"px";if(O!=null){O.apply(x,[])}}};this.clear=function(z){l=0;r=0;x.deselectAll();if(z===true){for(var A=0;A<b.length;A++){b[A]=0}for(var A=0;A<b.length;A++){var B=q.childNodes[A].childNodes[0].childNodes[0];B.style.height="0%"}}else{b=[];while(q.childNodes.length>1){q.removeChild(q.childNodes[1]);y.removeChild(y.childNodes[1]);m.removeChild(m.childNodes[1])}i.style.width="100%";u.parentNode.style.width="100%";x.update()}};this.onClick=function(A,z,B){};this.onCellClick=function(A,z){};this.getCell=function(z){return q.childNodes[z]};this.select=function(z){var B=q.childNodes[z];if(B){B.selected=true;var A=B.childNodes[0].childNodes[0];n(A,"select")}};this.deselect=function(z){var C=q.childNodes[z];if(C){C.selected=false;var B=C.childNodes[0].childNodes[0];var A=B.style.height;c(B,"bar");B.style.position="absolute";B.style.bottom=0;B.style.width="100%";B.style.height=A}};this.selectAll=function(){for(var z=0;z<q.childNodes.length;z++){x.select(z)}};this.deselectAll=function(){for(var z=0;z<q.childNodes.length;z++){x.deselect(z)}};this.getSelectedItems=function(){var z=[];for(var A=0;A<q.childNodes.length;A++){var B=q.childNodes[A];if(B.selected){z.push({idx:A,val:b[A],cell:B})}}return z};this.createLabel=function(B,A,z,C){C.innerHTML=Math.round(B)};this.getValues=function(){var z=[];for(var A=0;A<b.length;A++){z.push(b[A])}return z};var s=function(z){var B=[];for(var C=0,A=z.length;C<A;C++){if(B.indexOf(z[C])===-1&&z[C]!==""){B.push(z[C])}}return B};var k=function(z){return !isNaN(parseFloat(z))&&!isNaN(z-0)};var f=function(A,E,D){var z=new Date().getTime();var C=z-A;if(E<=C){t.style.height="100%";if(D!=null){D.apply(x,[])}return}E-=C;var B=(E/v.animationSteps)*100;t.style.height=(100-B)+"%";setTimeout(function(){f(z,E,D)},33)};var g=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.onRender;var d=javaxt.dhtml.utils.createTable;var c=function(A,z){javaxt.dhtml.utils.setStyle(A,v.style[z])};var n=function(A,z){javaxt.dhtml.utils.addStyle(A,v.style[z])};p()};
javaxt.dhtml.Button=function(j,q){this.className="javaxt.dhtml.Button";var r=this;var k={label:null,selected:false,disabled:false,toggle:false,menu:false,menuAlign:"bottom",display:"inline-block",width:null,height:null,iconAlign:"left",style:{button:{border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",cursor:"pointer",padding:"3px 7px",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap"},icon:{},arrow:{},select:{background:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},hover:{background:"#ededed"},menu:{border:"1px solid #cccccc",background:"#F6F6F6",cursor:"pointer",padding:"3px 3px",zIndex:"1"}},sound:null};var h;var n,b;var p,i,c;var o=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var A={};g(A,q);g(A,k);q=A;var v=q.iconAlign;if(!v){v=q.style.iconAlign}if(v!=="right"){v="left"}var I=q.menuAlign;if(!I){I=q.style.menuAlignment}if(I!=="right"){I="bottom"}if(q.menu===true){var y=false;for(var F in q.style.arrow){if(q.style.arrow.hasOwnProperty(F)){y=true;break}}if(!y){if(I==="bottom"){q.style.arrow={width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #575757",marginLeft:"10px"};q.style.arrowSelect={borderTop:"5px solid #FFFFFF"}}}}var E=l("div",j);E.setAttribute("desc",r.className);E.style.display=q.display;if(q.width){if(typeof q.width==="string"){E.style.width=q.width}else{E.style.width=q.width+"px"}}if(q.height){if(typeof q.height==="string"){E.style.height=q.height}else{E.style.height=q.height+"px"}}E.style.position="relative";if(q.hidden===true){E.style.visibility="hidden";E.style.display="none"}r.el=E;var u=l("div",E);if(E.style.display==="inline-block"){u.style.display="table";if(q.width){u.style.width=E.style.width}}u.style.height="100%";h=l("div",u,q.style.button);h.setAttribute("desc","button");a(h);var H=f(h);H.style.fontFamily="inherit";H.style.textAlign="inherit";H.style.color="inherit";var z=H.addRow();var w;w=z.addColumn();if(v==="left"){p=l("div",w,q.style.icon)}else{c=l("div",w,q.style.arrow)}w=z.addColumn({width:"100%"});i=l("div",w);d(i,"label");if(q.label){i.innerHTML=q.label}w=z.addColumn();if(v==="left"){c=l("div",w,q.style.arrow)}else{p=l("div",w,q.style.icon)}if(q.menu===true){q.toggle=true;b=l("div",E,q.style.menu);b.setAttribute("desc","menu");b.style.position="absolute";b.style.visibility="hidden";var D=function(J){if(!h.contains(J.target)){b.style.visibility="hidden";r.deselect()}};window.addEventListener("click",D);var x,G;var t,s,C,B;window.addEventListener("touchstart",function(J){t=J.changedTouches[0].pageX;C=J.changedTouches[0].pageY;x=new Date().getTime();G=null});window.addEventListener("touchend",function(K){G=new Date().getTime();s=K.changedTouches[0].pageX;B=K.changedTouches[0].pageY;var L=Math.sqrt((s-=t)*s+(B-=C)*B);if(L<0){L=-L}var J=G-x;if((J<=500&&L<=10)||(J>500&&L<=10)){D(K)}})}if(q.disabled===true){r.disable()}if(q.selected===true){r.select()}e(r)};var a=function(s){s.unselectable="on";s.onselectstart=function(){return false};var A=function(){if(q.sound!=null){q.sound.play()}if(q.toggle===true){if(b){if(v){r.toggle()}else{}}else{r.toggle()}}else{d(h,"button");d(p,"icon");d(c,"arrow")}r.onClick()};var w;var z;var u,t,y,x;var v=false;s.ontouchstart=function(B){v=true;B.preventDefault();u=B.changedTouches[0].pageX;y=B.changedTouches[0].pageY;w=new Date().getTime();z=null;if(s.selected!==true){m(s,"hover");m(p,"iconHover");m(c,"arrowHover")}};s.ontouchend=function(C){z=new Date().getTime();t=C.changedTouches[0].pageX;x=C.changedTouches[0].pageY;var D=Math.sqrt((t-=u)*t+(x-=y)*x);if(D<0){D=-D}var B=z-w;if((B<=500&&D<=10)||(B>500&&D<=10)){A()}else{d(s,"button");d(p,"icon");d(c,"arrow")}};if(!v){s.onmousedown=function(){m(s,"select");m(p,"iconSelect");m(c,"arrowSelect");if(b){r.toggle()}};s.onclick=function(){A()};s.onmouseover=function(){if(s.selected!==true){m(s,"hover");m(p,"iconHover");m(c,"arrowHover")}};s.onmouseout=function(){if(s.selected!==true){d(s,"button");d(p,"icon");d(c,"arrow")}}}};this.onClick=function(){};this.getText=function(){return i.innerHTML};this.enable=function(){var s=r.el;s.style.opacity="";if(n){n.style.visibility="hidden"}};this.disable=function(){var s=r.el;s.style.opacity="0.5";if(n){n.style.visibility="visible"}else{n=l("div",{position:"absolute",zIndex:"1",width:"100%",height:"100%"});n.setAttribute("desc","mask");s.insertBefore(n,s.firstChild)}};this.isEnabled=function(){return !r.isDisabled()};this.isDisabled=function(){if(n){if(n.style.visibility!=="hidden"){return true}}return false};this.select=function(){if(h.selected===true){return}h.selected=true;d(h,"button");d(p,"icon");d(c,"arrow");m(h,"select");m(p,"iconSelect");m(c,"arrowSelect")};this.deselect=function(){if(h.selected===true){h.selected=false;d(h,"button");d(p,"icon");d(c,"arrow")}};this.isSelected=function(){return(h.selected===true)};this.toggle=function(){if(q.toggle===true){if(h.selected===true){r.deselect();if(b){b.style.visibility="hidden"}}else{r.select();if(b){b.style.visibility="visible"}}}};this.getMenuPanel=function(){return b};var g=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.createTable;var l=javaxt.dhtml.utils.createElement;var e=javaxt.dhtml.utils.addShowHide;var d=function(t,s){javaxt.dhtml.utils.setStyle(t,q.style[s])};var m=function(t,s){javaxt.dhtml.utils.addStyle(t,q.style[s])};o()};
javaxt.dhtml.Calendar=function(k,c){this.className="javaxt.dhtml.Calendar";var h=this;var j=null;var n={};var m;var d=false;var a=[];var g={};var l={day:javaxt.dhtml.calendar.Day,week:javaxt.dhtml.calendar.Week,month:javaxt.dhtml.calendar.Month};var o=function(){var u={};i(u,c);c=u;if(c.eventStore==null){c.eventStore=new javaxt.dhtml.calendar.EventStore()}var r=c.listeners;var q=null;var p=null;if(r!=null){for(var s in r){if(r.hasOwnProperty(s)){var t=r[s];if(s=="beforerender"){q=t;delete r[s]}else{if(s=="afterrender"){p=t;delete r[s]}else{g[s]=t;(function(v){r[v]=function(){var z=[];for(var A=0;A<arguments.length;A++){var w=arguments[A];for(var y in l){if(l.hasOwnProperty(y)){var x=l[y];if(w instanceof x){w=h;break}}}z.push(w)}if(!d){a.push({name:v,args:z});return}var B=g[v];if(B!=null){B.apply(h,z)}}})(s)}}}}}e();new javaxt.dhtml.calendar.View(h,c);if(q!=null){q.apply(h,[h])}h.setView(c.view);if(p!=null){p.apply(h,[h])}f()};var e=function(){a=[];d=false};var f=function(){d=true;for(var q=0;q<a.length;q++){var r=a[q];var s=g[r.name];var p=r.args;if(s!=null){s.apply(h,p)}}a=[]};var b=function(){for(var p in j){if(j.hasOwnProperty(p)&&p!=="className"){h[p]=j[p]}}};this.setView=function(s){if(s!=null){s=s.toLowerCase()}if(s==m){return}var u=n[s];if(u!=null){m=s;var q=j.getDate();j.hide();j=u;j.setDate(q);b();j.show();j.refresh();var r=h.getListener("update");if(r!=null){r.callback.apply(r.scope,[h])}}else{var t=null;for(var p in l){if(l.hasOwnProperty(p)){if(s==p){t=l[p];break}}}if(t){e();var q=null;if(j!=null){q=j.getDate();j.hide()}j=new t(k,c);if(q!=null){j.setDate(q)}b();n[s]=j;m=s;f()}}};this.getView=function(){return j};var i=function(q,s){for(var r in s){if(s.hasOwnProperty(r)&&typeof q[r]!=="undefined"){if(r!=0){i(q[r],s[r])}}else{q[r]=s[r]}}};o()};
if(!javaxt.dhtml.calendar)javaxt.dhtml.calendar={};javaxt.dhtml.calendar.Day=function(parent,config){this.className="javaxt.dhtml.calendar.Day";var me=this;var el;var bodyDiv;var footerRow;var multidayRow,multidayEventsTable;var currTimeDiv,getCurrentDate;var rendered;var startDate,endDate;var cells={};var widths={};var rowHeights=[];var scrollWidth;var scrollable=true;var days=1;var date;var store;var eventHeight=17;var eventPadding=2;var holdDelay=500;var debug=false;var isFirefox=navigator.userAgent.toLowerCase().indexOf('firefox')>-1;var isIE=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1;var init=function(){new javaxt.dhtml.calendar.View(me,config);store=config.eventStore==null?new javaxt.dhtml.calendar.EventStore():config.eventStore;if(config.days!=null)days=config.days;function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n);}
if(isNumeric(config.eventHeight))eventHeight=parseInt(config.eventHeight);if(isNumeric(config.eventPadding))eventPadding=parseInt(config.eventPadding);getCurrentDate=config.getCurrentDate==null?getCurrentDate=function(){return new Date();}:config.getCurrentDate;if(config.renderers){for(var rendererName in config.renderers){if(config.renderers.hasOwnProperty(rendererName)){if(me[rendererName]){(function(rendererName){me[rendererName]=function(){var renderer=config.renderers[rendererName];return renderer.apply(me,arguments);};})(rendererName);}}}}
rendered=false;var listener=me.getListener('beforerender');if(listener!=null)listener.callback.apply(listener.scope,[me]);me.setDate(config.date);listener=me.getListener('afterrender');if(listener!=null)listener.callback.apply(listener.scope,[me]);rendered=true;listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);};this.hasHours=function(){return true;};this.show=function(){parent.appendChild(el);};this.hide=function(){parent.removeChild(el);};this.showFooter=function(){footerRow.style.display='';};this.hideFooter=function(){footerRow.style.display="none";};this.enableTouch=function(){scrollable=true;};this.disableTouch=function(){scrollable=false;};var renderTable=function(){if(el!=null){for(var i=0;i<parent.childNodes.length;i++){if(parent.childNodes[i]==el){parent.removeChild(el);break;}}}
cells={};widths={};rowHeights=[];var div,tbody,tr,td;tbody=createTable();var table=el=tbody.parentNode;table.className="javaxt-noselect";table.style.cursor="default";parent.appendChild(table);tr=document.createElement("tr");tr.setAttribute("desc","header");tr.className="javaxt-cal-header";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var header=td;tr=document.createElement("tr");tr.setAttribute("desc","multiday events");tr.className="javaxt-cal-multiday-header";tr.style.display="none";tr.style.visibility="hidden";multidayRow=tr;tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var multidayDiv=document.createElement('div');multidayDiv.setAttribute("desc","multiday-div");multidayDiv.style.width="100%";multidayDiv.style.height="inherit";multidayDiv.style.position="relative";td.appendChild(multidayDiv);tr=document.createElement("tr");tr.setAttribute("desc","body");tr.className="javaxt-cal-body";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="100%";tr.appendChild(td);bodyDiv=document.createElement('div');bodyDiv.setAttribute("desc","body-div");bodyDiv.style.width="100%";bodyDiv.style.height="100%";bodyDiv.style.position="relative";td.appendChild(bodyDiv);div=document.createElement('div');div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';bodyDiv.appendChild(div);bodyDiv=div;bodyDiv.addEventListener('touchstart',function(e){if(!scrollable)e.preventDefault();},false);bodyDiv.addEventListener('touchmove',function(e){if(!scrollable)e.preventDefault();},false);var listener=me.getListener('scroll');if(listener){div.addEventListener('scroll',function(e){listener.callback.apply(listener.scope,[me]);},false);}
tr=document.createElement("tr");tr.setAttribute("desc","footer");tr.className="javaxt-cal-footer";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);footerRow=tr;var footer=td;currTimeDiv=document.createElement("div");currTimeDiv.className="javaxt-cal-current-time-indicator";currTimeDiv.style.position="absolute";currTimeDiv.style.width="100%";currTimeDiv.style.display="none";bodyDiv.appendChild(currTimeDiv);tbody=createTable();header.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerUL=document.createElement('div');td.appendChild(spacerUL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-header-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnHeader(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerUR=document.createElement('div');td.appendChild(spacerUR);tbody=createTable();footer.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerLL=document.createElement('div');td.appendChild(spacerLL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-footer-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnFooter(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerLR=document.createElement('div');td.appendChild(spacerLR);var multidayContent=document.createElement('div');multidayContent.setAttribute("desc","multiday-content");multidayContent.style.width="100%";multidayContent.style.height="100%";multidayContent.style.position="relative";multidayDiv.appendChild(multidayContent);div=document.createElement('div');multidayContent.appendChild(div);div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';tbody=createTable();div.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerML=document.createElement('div');td.appendChild(spacerML);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";td.style.width=(100/days)+'%';td.style.height="1px";tr.appendChild(td);}
multidayEventsTable=tbody;tbody=createTable();bodyDiv.appendChild(tbody.parentNode);var row=document.createElement('tr');tbody.appendChild(row);var leftCol=document.createElement('td');leftCol.style.verticalAlign="top";row.appendChild(leftCol);var hours=document.createElement('table');hours.style.borderCollapse="collapse";hours.cellSpacing=0;hours.cellPadding=0;leftCol.appendChild(hours);tbody=document.createElement('tbody');hours.appendChild(tbody);for(var i=0;i<24;i++){var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-hour"+(i==23?" javaxt-cal-hour-last":"");if(i==0)td.style.borderTop="0px";td.appendChild(me.createHourLabel(i));tr.appendChild(td);}
var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className='javaxt-cal-cell';td.style.width=(100/days)+'%';td.style.height="100%";td.style.verticalAlign="top";td.valign="top";row.appendChild(td);var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";outerDiv.appendChild(innerDiv);var cell=innerDiv;var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();cell.date=new Date(d);cells[cellID]=cell;td.appendChild(outerDiv);var innerTable=document.createElement('table');innerTable.cellSpacing=0;innerTable.cellPadding=0;innerTable.style.width="100%";innerTable.style.borderCollapse="collapse";tbody=document.createElement('tbody');innerTable.appendChild(tbody);cell.appendChild(innerTable);for(var j=0;j<24*2;j++){var tr=document.createElement('tr');tbody.appendChild(tr);var col=document.createElement('td');col.className="javaxt-cal-half-hour"+(j%2==0?"":" javaxt-cal-half-hour-sep")+(j==47?" javaxt-cal-hour-last":"");if(j==0)col.style.borderTop="0px";tr.appendChild(col);addListeners(tr,holdDelay);}
d.setDate(d.getDate()+1);}
var lt=_getRect(leftCol.childNodes[0]).width;spacerUL.style.width=spacerML.style.width=spacerLL.style.width=lt+'px';var bodyWidth=_getRect(bodyDiv).width;var tableWidth=_getRect(leftCol.parentNode.parentNode.parentNode).width;scrollWidth=Math.abs(bodyWidth-tableWidth);spacerUR.style.width=spacerLR.style.width=scrollWidth+'px';currTimeDiv.style.left=lt+'px';updateCurrTime();var epoch=getCurrentDate().getTime()/1000;var secondsSinceLastTimerTrigger=epoch%60;var secondsUntilNextTimerTrigger=60-secondsSinceLastTimerTrigger;setTimeout(function(){setInterval(updateCurrTime,60*1000);updateCurrTime();},secondsUntilNextTimerTrigger*1000);me.scrollTo(6.5);if(rendered){var listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);}};var addListeners=function(cell,holdDelay){var holdStarter=null;var holdActive=false;var onMouseDown=function(e){var tr=this;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;var listener=me.getListener('cellhold');if(listener){var callback=listener.callback;var scope=listener.scope;var date=getDate();callback.apply(scope,[date,tr,me,e]);}},holdDelay);};var onMouseUp=function(e){var tr=this;var date=getDate();if(holdStarter){clearTimeout(holdStarter);var listener=me.getListener('cellclick');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}
else if(holdActive){holdActive=false;var listener=me.getListener('cellrelease');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}};cell.onmousedown=onMouseDown;cell.onmouseup=onMouseUp;cell.ontouchstart=function(e){var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;this.onmousedown.apply(this,[{clientX:x,clientY:y}]);};cell.ontouchend=function(e){var touch=e.changedTouches[0];var x=touch.pageX;var y=touch.pageY;this.onmouseup.apply(this,[{clientX:x,clientY:y}]);};var getDate=function(){var tbody=cell.parentNode;var _cell=tbody.parentNode.parentNode;var date=new Date(_cell.date);var hour=0;for(var i=0;i<tbody.childNodes.length;i++){var tr=tbody.childNodes[i];if(tr===cell){hour=(i/2);break;}}
date.setTime(date.getTime()+((hour*60)*60*1000));return date;};};this.createColumnHeader=function(i){var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";var text=javaxt.dhtml.calendar.Utils.dayNames[i];if(days>1)text=text.substring(0,3);innerDiv.innerHTML=text;outerDiv.appendChild(innerDiv);return outerDiv;};this.createColumnFooter=function(i){return document.createElement('div');};this.createHourLabel=function(hour){var div=document.createElement('div');div.style.float="right";div.style.padding="0px 7px 0px 7px";var meridian='AM';if(hour==0)hour=12;else if(hour==12)meridian='PM';else if(hour>12){hour=(hour-12);meridian='PM';}
var hdr=document.createElement('table');hdr.cellSpacing=0;hdr.cellPadding=0;div.appendChild(hdr);var t=document.createElement('tbody');hdr.appendChild(t);var tr=document.createElement('tr');t.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-label-hour";td.innerHTML=hour;tr.appendChild(td);td=document.createElement('td');td.className="javaxt-cal-label-meridian";td.innerHTML=meridian;tr.appendChild(td);return div;};var updateCurrTime=function(){var date=getCurrentDate();var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];if(cell){var hours=date.getHours();var h1=getVerticalOffset(hours,cell);var h2=getVerticalOffset(hours+1,cell);var pixelsPerMinute=(h2-h1)/60;var h=h1+(date.getMinutes()*pixelsPerMinute);currTimeDiv.style.display='';currTimeDiv.style.top=h+"px";}
else{currTimeDiv.style.display="none";}};this.scrollTo=function(hour){var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];var offset=getVerticalOffset(hour,cell);bodyDiv.scrollTop=offset+1;};this.getScrollDiv=function(){return bodyDiv;};var getVerticalOffset=function(hour,cell){if(rowHeights.length==0){var tbody=cell.childNodes[0].childNodes[0];var rows=tbody.childNodes;for(var i=0;i<rows.length;i++){var tr=rows[i];var rect=_getRect(tr);rowHeights.push(rect.height);}}
var offset=0;for(var i=0;i<rowHeights.length;i++){var rowHeight=rowHeights[i];offset+=rowHeight;var h=i*0.5;if(h>=hour){return(offset-rowHeight);}}
return 0;};this.getEventStore=function(){return store;};this.addEvent=function(event){addEvent(event);};var addEvent=function(event,deferUpdates){log("Adding "+event.getSubject()+"...");var numDays=event.numDays();if(numDays>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){return;}}}
if(numDays>=1){addMultiDayEvent(event);}
else{addSingleDayEvent(event,deferUpdates);}
store.add(event);};this.addEvents=function(events){for(var i=0;i<events.length;i++){addEvent(events[i],true);}
var singleDayEvents=[];events=me.getEvents();for(var i=0;i<events.length;i++){var event=events[i];if(event.numDays()<1){var div=getDiv(event);if(div!=null)singleDayEvents.push(event);}}
var processedEvents=[];var isProcessed=function(event){for(var i=0;i<processedEvents.length;i++){if(processedEvents[i].equals(event)){return true;}}
return false;};for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var updateWidth=!isProcessed(event);if(updateWidth){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){var numColumns=2;if(overlappingEvents.length>1){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _startDate=_event.getStartDate();var _endDate=_event.getEndDate();var numIntersects=0;for(var k=0;k<overlappingEvents.length;k++){if(!overlappingEvents[k].equals(_event)){var a=overlappingEvents[k].getStartDate();var b=overlappingEvents[k].getEndDate();if(_startDate.getTime()<b.getTime()&&a.getTime()<_endDate.getTime()){numIntersects++;}}}
if(numIntersects>0){var _numColumns=1+1+numIntersects;if(_numColumns>numColumns)numColumns=_numColumns;}}}
var width=(Math.floor((1/(numColumns))*100));log("Update "+event.getSubject()+" width to "+width+"%");var outerDiv=getDiv(event);outerDiv.style.width=width+"%";for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;_outerDiv.style.width=width+"%";processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=[];for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];if(!isProcessed(event)){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];updatePosition(_outerDiv,_event,_width);processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=null;for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var outerDiv=getDiv(event);var width=parseInt(outerDiv.style.width);if(widths["_"+width]!=null)width=widths["_"+width];var numColumns=Math.floor(100/width);if(numColumns>1){var left=parseInt(outerDiv.style.left);var colIndex=Math.floor(left/width)+1;log(event.getSubject()+" is in column "+colIndex+"/"+numColumns);if(colIndex===(numColumns-1)){var overlappingEvents=getOverlappingEvents(event);var nextEvent=overlappingEvents[overlappingEvents.length-1];var nextDiv=getDiv(nextEvent);var orgWidth=parseInt(outerDiv.style.width);var newWidth=parseInt(nextDiv.style.left)-left;if(newWidth>orgWidth){log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+orgWidth+"%)");outerDiv.style.width=newWidth+"%";}}}}};this.removeEvent=function(event){store.remove(event);if(event.numDays()>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){td.removeChild(div);var colSpan=td.colSpan;if(colSpan>=2){td.colSpan=1;var nextSibling=td.nextSibling;var clone=td.cloneNode(true);for(var k=0;k<colSpan;k++){if(nextSibling){tr.insertBefore(clone,nextSibling);}
else{tr.appendChild(clone);}}}
if(multidayEventsTable.childNodes.length>1){var hasEvents=false;for(var k=1;k<tr.childNodes.length;k++){if(tr.childNodes[k].childNodes.length>0){hasEvents=true;break;}}
if(!hasEvents){multidayEventsTable.removeChild(tr);}}
var maxHeight=(multidayEventsTable.childNodes.length-1)*(eventHeight+eventPadding);if(maxHeight==0){multidayRow.style.display="none";multidayRow.style.visibility="hidden";}
else{multidayEventsTable.parentNode.parentNode.parentNode.style.height=(maxHeight+(eventPadding))+"px";}
return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}
var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var i=0;i<overlappingEvents.length;i++){for(var j=0;j<divs.length;j++){var div=divs[j];if(div.event.equals(overlappingEvents[i])){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}}
me.addEvents(overlappingEvents);}}};this.getEvents=function(){var events=[];var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;events.push(event);}
d.setDate(d.getDate()+1);}
for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;var addEvent=true;for(var k=0;k<events.length;k++){if(events[k].equals(event)){addEvent=false;break;}}
if(addEvent)events.push(event);}}}
return events;};this.clear=function(){var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;store.remove(event);var parentNode=div.parentNode;parentNode.removeChild(div);}
d.setDate(d.getDate()+1);}
var row=multidayEventsTable.childNodes[0];while(row.nextSibling){var tr=row.nextSibling;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;store.remove(event);}}
multidayEventsTable.removeChild(tr);}
multidayRow.style.display="none";multidayRow.style.visibility="hidden";};this.refresh=function(){var events=me.getEvents();me.clear();me.addEvents(events);me.scrollTo(6.5);};var addSingleDayEvent=function(event,deferUpdates){if(deferUpdates!=true)deferUpdates=false;var d=event.getStartDate();var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell==null)return;var width=100;var overlappingEvents,rects,leftCoords;if(!deferUpdates){rects=[];var overlappingEvents=getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){rects.push(_getRect(_outerDiv));}}
leftCoords=[];for(var i=0;i<rects.length;i++){var x=rects[i].left;var addCoord=true;for(j=0;j<leftCoords.length;j++){if(leftCoords[j]==x){addCoord=false;break;}}
if(addCoord)leftCoords.push(x);}
leftCoords.sort(function(a,b){return a-b;});var numColumns=leftCoords.length;width=(Math.floor((1/(numColumns+1))*100));for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;}}
for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(width<_width)_width=width;log(event.getSubject()+" intersects "+_event.getSubject());log("   Moving "+_event.getSubject()+" to 0 and setting width to "+_width+"% (was "+_outerDiv.style.width+")");_outerDiv.style.width=_width+"%";_outerDiv.style.left="0px";updatePadding(_outerDiv);if(!deferUpdates)updatePosition(_outerDiv,_event,_width);}}}
var outerDiv=document.createElement('div');outerDiv.style.width=width+"%";outerDiv.style.left="0px";updatePadding(outerDiv);outerDiv.style.position="absolute";var startTime=event.getStartDate().getHours()+(event.getStartDate().getMinutes()/60);var endTime=event.getEndDate().getHours()+(event.getEndDate().getMinutes()/60);var y=getVerticalOffset(startTime,cell);var h=getVerticalOffset(endTime,cell)-y;outerDiv.style.top=y+"px";outerDiv.style.height=h+'px';outerDiv.event=event;cell.appendChild(outerDiv);var div=event.createDiv();var tbody=createTable();outerDiv.appendChild(tbody.parentNode);var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');tr.appendChild(td);td.style.verticalAlign="top";td.style.width="100%";td.style.height="100%";td.style.padding=((eventPadding/2)+1)+"px "+eventPadding+"px "+(eventPadding/2)+"px";td.appendChild(div);if(isIE){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(eventPadding+1)+"px";}
if(isFirefox){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(((eventPadding/2)+1)*2)+"px";}
if(event.isEditable())initDrag(outerDiv,me,holdDelay);else{outerDiv.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};}
if(!deferUpdates){if(overlappingEvents.length>0){log("Update "+event.getSubject()+"?");updatePosition(outerDiv,event,width);var rightDiv;var r1=_getRect(outerDiv);var _right=r1.right;for(var i=0;i<leftCoords.length;i++){if(leftCoords[i]>=_right){for(var j=0;j<rects.length;j++){var x=rects[j].left;if(x==leftCoords[i]){rightDiv=getDiv(overlappingEvents[j]);break;}}
break;}
if(rightDiv!=null)break;}
if(rightDiv!=null){var _left=parseInt(outerDiv.style.left);var newWidth=parseInt(rightDiv.style.left)-_left;log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");outerDiv.style.width=newWidth+"%";}}}};var addMultiDayEvent=function(event){if(event.getEndDate()<startDate||event.getStartDate()>endDate)return;var startColID,endColID;var continueLeft=false;var continueRight=false;var a=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getStartDate());var b=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getEndDate());startColID=a;if(a<0){startColID=0;continueLeft=true;}
startColID=Math.floor(startColID);endColID=startColID+b;if(endColID>days-1){endColID=days-1;continueRight=true;}
endColID=Math.floor(endColID);var startCol,endCol;for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];var idx=0;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(idx==startColID){if(td.childNodes.length==0){startCol=td;}
else{i=multidayEventsTable.childNodes.length;break;}}
if(idx==endColID){if(td.childNodes.length==0){endCol=td;if(startCol!=endCol){var previousCol=td.previousSibling;while(previousCol!=startCol){if(previousCol.childNodes.length>0){startCol=endCol=null;break;}
previousCol=previousCol.previousSibling;}}}
i=multidayEventsTable.childNodes.length;break;}
var colSpan=td.colSpan;if(colSpan>=2)idx+=colSpan;else idx++;}}
if(!startCol||!endCol){var tr=document.createElement("tr");multidayEventsTable.appendChild(tr);var td=document.createElement("td");td.className="javaxt-cal-multiday-col-spacer";tr.appendChild(td);if(multidayEventsTable.childNodes.length>1){tr.previousSibling.childNodes[0].style.height='';}
td.style.height="100%";for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";tr.appendChild(td);if(i==startColID)startCol=td;if(i==endColID)endCol=td;}}
var colSpan=(endColID-startColID)+1;if(colSpan>=2){javaxt.dhtml.calendar.Utils.addColSpan(startCol,colSpan);}
var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="absolute";var innerDiv=document.createElement('div');innerDiv.style.height="100%";var paddingLeft=continueLeft?"0px":eventPadding+"px";var paddingRight=continueRight?"0px":eventPadding+"px";innerDiv.style.padding="0px "+paddingRight+" 0px "+paddingLeft;innerDiv.style.position="relative";outerDiv.appendChild(innerDiv);var div=event.createDiv(continueLeft,continueRight);div.style.height="100%";innerDiv.appendChild(div);var wrapper=document.createElement('div');wrapper.style.width="100%";wrapper.style.height=eventHeight+"px";wrapper.style.position="relative";wrapper.style.marginTop=(multidayEventsTable.childNodes.length>2?(eventPadding*2):0)+"px";wrapper.appendChild(outerDiv);wrapper.event=event;wrapper.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};startCol.appendChild(wrapper);multidayRow.style.display='';multidayRow.style.visibility="visible";var numMultiDayEvents=multidayEventsTable.childNodes.length-1;var h=numMultiDayEvents*(eventHeight+eventPadding);h=(h+(eventPadding*2));var multidayEventsDiv=multidayEventsTable.parentNode.parentNode.parentNode;multidayEventsDiv.style.height=h+"px";var h1=multidayEventsTable.childNodes[0].childNodes[1];var c1;for(var id in cells){if(cells.hasOwnProperty(id)){c1=cells[id].parentNode.parentNode;break;}}
var orgHeight=h;while(h1.offsetWidth>c1.offsetWidth){if(h<scrollWidth*2)h=scrollWidth*2;else h++;multidayEventsDiv.style.height=h+"px";if(h===100){multidayEventsDiv.style.height=orgHeight+"px";break;}}};this.getDOM=function(){return el;};this.next=function(){var d=new Date(startDate);d.setDate(d.getDate()+days);me.setDate(d);};this.back=function(){var d=new Date(startDate);d.setDate(d.getDate()-days);me.setDate(d);};this.setDate=function(d){if(d==null)d=getCurrentDate();if(date!=null){if(d.getFullYear()==date.getFullYear()&&d.getMonth()==date.getMonth()&&d.getDate()==date.getDate()){date=d;return;}}
date=d;startDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(days>1&&startDate.getDay()>0)startDate.setDate(startDate.getDate()-startDate.getDay());endDate=new Date(startDate);endDate.setDate(endDate.getDate()+days);renderTable();loadEvents();};this.getDate=function(){return date;};this.getDateRange=function(){return{startDate:new Date(startDate),endDate:new Date(endDate)};};this.getTitle=function(){if(days==1){var month=javaxt.dhtml.calendar.Utils.monthNames[date.getMonth()];return(month+" "+date.getDate()+", "+date.getFullYear());}
else{var range=me.getDateRange();var startDate=range.startDate;var endDate=range.endDate;endDate.setDate(endDate.getDate()-1);var startMonth=javaxt.dhtml.calendar.Utils.monthNames[startDate.getMonth()];var endMonth=javaxt.dhtml.calendar.Utils.monthNames[endDate.getMonth()];var a=startMonth+" "+startDate.getDate();var b=endDate.getDate()+", "+endDate.getFullYear();if(startDate.getMonth()==endDate.getMonth()&&startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+b);}
else{if(startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+endMonth+" "+b);}
else{return(a+", "+startDate.getFullYear()+" - "+endMonth+" "+b);}}}};var loadEvents=function(){var events=store.getEvents();for(var i=0;i<events.length;i++){if(events[i].getStartDate().getTime()<endDate.getTime()&&events[i].getEndDate().getTime()>=startDate.getTime()){me.addEvent(events[i]);}}};var updatePosition=function(div,_event,width){var r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};var divs=getDivs(_event.getStartDate());var x=0;while(x<=100){var shiftRight=false;for(var j=0;j<divs.length;j++){if(div==divs[j]){}
else{var r2=_getRect(divs[j]);r2={left:r2.left+1,right:r2.right-1,top:r2.top+1,bottom:r2.bottom-1};if(intersects(r1,r2)){log("   -- "+_event.getSubject()+" intersects "+divs[j].innerHTML);log(r1.left+" vs "+r2.left);log(r1.right+" vs "+r2.right);shiftRight=true;break;}}}
if(shiftRight){x++;div.style.left=(x*width)+"%";updatePadding(div);r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};log("   -- "+_event.getSubject()+" is now here: "+div.style.left+" (column "+(x+1)+")");}
else{break;}}
log("   -- "+_event.getSubject()+" is in column "+(x+1)+"/"+Math.floor(100/width));var _colIndex=x+1;var _numColumns=Math.floor(100/width);var _left=(x*width);if(_colIndex==_numColumns){if(_left+width<100){var newWidth=(width+(100-(_left+width)));log("   -- Updating "+_event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");div.style.width=newWidth+"%";widths["_"+newWidth]=width;}}};var updatePadding=function(outerDiv){var td;var el=outerDiv;while(el.childNodes.length>0){el=el.childNodes[0];if(el.tagName.toUpperCase()==="TD"){td=el;break;}}
if(td){var left=parseInt(outerDiv.style.left);if(left===0){td.style.paddingLeft=eventPadding+"px";}
else{td.style.paddingLeft="0px";}}};var sortEvents=function(events){var _events=[];for(var i=0;i<events.length;i++){_events.push(events[i]);}
var divs=[];for(var id in cells){if(cells.hasOwnProperty(id)){var cell=cells[id];for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}}
var getRow=function(event){var startRow=event.getStartDate().getHours()*2;if(event.getStartDate().getMinutes()>=30)startRow+=1;return startRow;};events.sort(function(event1,event2){var y1=getRow(event1);var y2=getRow(event2);var div1,div2;for(var i=0;i<_events.length;i++){if(_events[i].equals(event1)){div1=divs[i];}
if(_events[i].equals(event2)){div2=divs[i];}
if(div1!=null&&div2!=null)break;}
var x1=parseInt(div1.style.left);var x2=parseInt(div2.style.left);var a=x1+(y1*1000);var b=x2+(y2*1000);return a-b;});return events;};var getOverlappingEvents=function(event){var arr=[];var overlappingEvents=store.getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];if(_event.numDays()<1){var _div=getDiv(_event);if(_div!=null){arr.push(_event);}}}
return sortEvents(arr);};var getDivs=function(date){var divs=[];var d=new Date(date);var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell!=null){for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}
return divs;};var getDiv=function(event){if(event.numDays()>=1){}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event))return div;}}
return null;};this.getCells=function(){var arr=[];for(var id in cells){if(cells.hasOwnProperty(id)){var div=cells[id];var rect=_getRect(div);arr.push({id:id,rect:rect});}}
return arr;};var intersects=function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);};var createTable=function(){var table=document.createElement('table');table.style.width="100%";table.style.height="100%";table.cellSpacing=0;table.cellPadding=0;table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);return tbody;};var _getRect=javaxt.dhtml.calendar.Utils.getRect;var initDrag=javaxt.dhtml.calendar.Utils.initDrag;var log=function(str){if(debug)console.log(str);};init();};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Event=function(d){var h=this;var a;var i;var b,e;var c;var g;var j=function(){a=d.id;i=d.subject;b=new Date(d.startDate);e=new Date(d.endDate);c=d.editable;if(c==true){c=true}else{c=false}g={};for(var k in d){if(d.hasOwnProperty(k)){switch(k){case"subject","startDate","endDate","editable":break;default:g[k]=d[k]}}}};this.getID=function(){return a};this.getSubject=function(){return i};this.getStartDate=function(){return new Date(b)};this.setStartDate=function(k){b=new Date(k)};this.getEndDate=function(){return new Date(e)};this.setEndDate=function(k){e=new Date(k)};this.numDays=function(){return Math.floor(javaxt.dhtml.calendar.Utils.getDaysBetween(b,e))};this.isEditable=function(){return c};this.setEditable=function(k){c=k};this.get=function(k){switch(k){case"subject":return getSubject();break;case"startDate":return getStartDate();break;case"endDate":return getEndDate();break;case"editable":return isEditable();break;default:return g[k]}};this.toJson=function(){var l={};for(var k in g){if(g.hasOwnProperty(k)){l[k]=g[k]}}for(var k in h){if(h.hasOwnProperty(k)){if(k.indexOf("get")==0&&k!="get"){var m=h[k];k=k.substring(3,4).toLowerCase()+k.substring(4);if(k=="iD"){k="id"}var n=m.apply(h,[]);if(n instanceof Date){n=f(n)}l[k]=n}else{if(k.indexOf("is")==0){var m=h[k];k=k.substring(2,3).toLowerCase()+k.substring(3);l[k]=m.apply(h,[])}}}}return l};this.equals=function(o){var m=h.toJson();var l=o.toJson();for(var n in m){if(m.hasOwnProperty(n)){var k=m[n];var p=l[n];if(k==null&&p!=null){return false}if(k!=null&&p==null){return false}if(k!=null){if(k instanceof Date){if(!(p instanceof Date)){return false}else{k=k.getTime();p=p.getTime()}}if(k!=p){return false}}}}return true};this.createDiv=function(k,n){var m=document.createElement("div");m.className="javaxt-cal-event"+(k==true?" javaxt-cal-event-continue-left":"")+(n==true?" javaxt-cal-event-continue-right":"");m.style.height="100%";m.style.position="relative";m.style.overflow="hidden";var l=document.createElement("div");l.style.width="100%";l.style.height="100%";l.style.position="absolute";l.style.overflow="hidden";l.innerHTML=h.getSubject();m.appendChild(l);return m};var f=function(k){function l(m){return m<10?"0"+m:m}return k.getUTCFullYear()+"-"+l(k.getUTCMonth()+1)+"-"+l(k.getUTCDate())+"T"+l(k.getUTCHours())+":"+l(k.getUTCMinutes())+":"+l(k.getUTCSeconds())+"Z"};j()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.EventStore=function(a){this.className="javaxt.dhtml.calendar.EventStore";var b=this;var c=function(){if(a==null||!(a instanceof Array)){a=[]}};this.add=function(d){if(b.contains(d)){return}a.push(d)};this.remove=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){a.splice(d,1);break}}};this.contains=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){return true}}return false};this.clear=function(){a.length=0};this.getEvents=function(){return a};this.getOverlappingEvents=function(j){var e=j.getStartDate();var l=j.getEndDate();var k=[];var h=b.getEvents();for(var g=0;g<h.length;g++){if(!h[g].equals(j)){var f=h[g].getStartDate();var d=h[g].getEndDate();if(e.getTime()<d.getTime()&&f.getTime()<l.getTime()){k.push(h[g])}}}return k};c()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Month=function(m,D){this.className="javaxt.dhtml.calendar.Month";var E=this;var x;var c,v;var i;var d={};var w={};var A={};var e=[];var a=true;var F;var z;var g=javaxt.dhtml.calendar.Utils.dayNames;var h;var j=17;var r=2;var B=2;var y=500;var q=false;var t=function(){new javaxt.dhtml.calendar.View(E,D);h=D.eventStore==null?new javaxt.dhtml.calendar.EventStore():D.eventStore;function H(J){return !isNaN(parseFloat(J))&&isFinite(J)}if(H(D.eventHeight)){j=parseInt(D.eventHeight)}if(H(D.eventPadding)){r=parseInt(D.eventPadding)}if(H(D.eventSpacing)){B=parseInt(D.eventSpacing)}if(D.renderers){for(var G in D.renderers){if(D.renderers.hasOwnProperty(G)){if(E[G]){(function(J){E[J]=function(){var K=D.renderers[J];return K.apply(E,arguments)}})(G)}}}}F=false;var I=E.getListener("beforerender");if(I!=null){I.callback.apply(I.scope,[E])}E.setDate(D.date);I=E.getListener("afterrender");if(I!=null){I.callback.apply(I.scope,[E])}F=true;I=E.getListener("update");if(I!=null){I.callback.apply(I.scope,[E])}};this.hasHours=function(){return false};this.show=function(){var G=E.getDOM();m.appendChild(G)};this.hide=function(){var G=E.getDOM();m.removeChild(G)};this.enableTouch=function(){a=true};this.disableTouch=function(){a=false};var o=function(){if(x!=null){for(var W=0;W<m.childNodes.length;W++){if(m.childNodes[W]==x){m.removeChild(x);break}}}var G=f();x=G.parentNode;x.className="javaxt-noselect";x.style.cursor="default";var H=document.createElement("tr");H.setAttribute("desc","header-row");H.className="javaxt-cal-header";G.appendChild(H);var V=document.createElement("td");V.style.width="100%";H.appendChild(V);H=document.createElement("tr");H.setAttribute("desc","body-row");H.className="javaxt-cal-body";G.appendChild(H);var O=document.createElement("td");O.style.width="100%";O.style.height="100%";H.appendChild(O);G=f();var K=document.createElement("tr");G.appendChild(K);for(var W=0;W<g.length;W++){var M=document.createElement("td");M.className="javaxt-cal-header-col";M.style.width=(100/g.length)+"%";if(W==0){M.style.borderLeft="0px"}if(W==g.length-1){M.style.borderRight="0px"}M.appendChild(E.createColumnHeader(W));K.appendChild(M)}V.appendChild(G.parentNode);G=f();for(var W=0;W<i;W++){H=document.createElement("tr");M=document.createElement("td");M.style.width="100%";H.appendChild(M);G.appendChild(H);var S=f();M.appendChild(S.parentNode);for(var N=0;N<3;N++){H=document.createElement("tr");S.appendChild(H);M=document.createElement("td");M.style.width="100%";H.appendChild(M);var Y=f();if(N==1){var P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="absolute";P.style.whiteSpace="nowrap";P.style.overflow="hidden";P.appendChild(Y.parentNode);var L=document.createElement("div");L.style.width="100%";L.style.height="100%";L.style.position="relative";L.appendChild(P);M.style.height="100%";M.appendChild(L)}else{M.appendChild(Y.parentNode)}var R=1;if(N==1){R=2}for(var T=0;T<R;T++){var X=new Date(c);X.setDate(X.getDate()+(W*g.length));H=document.createElement("tr");Y.appendChild(H);for(var U=0;U<g.length;U++){M=document.createElement("td");M.style.width=(100/g.length)+"%";M.className="javaxt-cal-cell";if(X.getMonth()<z.getMonth()){M.className+="-prev-month"}else{if(X.getMonth()>z.getMonth()){M.className+="-next-month"}}var Q=(X.getMonth()+1)+"-"+X.getDate()+"-"+X.getFullYear();var I=d[Q];if(I==null){d[Q]=[M]}else{d[Q].push(M)}M.date=new Date(X);if(N==1){M.onclick=function(ae){var ab=this;var ad=false;var aa=ab.childNodes[0];if(aa.childNodes.length>0){var af=n(aa.childNodes[0]);var Z=aa.childNodes.length==1?af:n(aa.childNodes[aa.childNodes.length-1]);var ag=ae.clientY;if(ag<af.top||ag>Z.bottom){}else{ad=true}}if(!ad){var aj=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ah=ac.callback;var ai=ac.scope;ah.apply(ai,[aj,ab,E,ae])}}}}else{M.onclick=function(ad){var ab=this;var Z=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ae=ac.callback;var aa=ac.scope;ae.apply(aa,[Z,ab,E,ad])}}}M.ontouchstart=function(aa){aa.preventDefault();if(a){var ac=aa.touches[0];var Z=ac.pageX;var ab=ac.pageY;this.onclick.apply(this,[{clientX:Z,clientY:ab}])}};if(N==0){M.className+=" javaxt-cal-cell-header";M.appendChild(E.createCellHeader(new Date(X),W,U))}else{if(N==1){if(T==0){w[Q]=[M];M.style.height="1px"}else{P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="relative";M.appendChild(P);A[Q]=M}}else{if(N==2){M.className+=" javaxt-cal-cell-footer";M.style.height="1px";M.appendChild(E.createCellFooter(new Date(X),W,U))}}}X.setDate(X.getDate()+1);if(U==0){M.style.borderLeft="0px"}if(U==g.length-1){M.style.borderRight="0px"}if(W==0){M.style.borderTop="0px"}if(W==i-1){M.style.borderBottom="0px"}H.appendChild(M)}}}}O.appendChild(G.parentNode);m.appendChild(x);if(F){var J=E.getListener("update");if(J!=null){J.callback.apply(J.scope,[E])}}};this.createColumnHeader=function(G){var I=document.createElement("div");I.style.width="100%";I.style.height="100%";I.style.position="relative";var H=document.createElement("div");H.style.width="100%";H.style.height="100%";H.style.position="absolute";H.style.whiteSpace="nowrap";H.style.overflow="hidden";H.innerHTML=g[G];I.appendChild(H);return I};this.createCellHeader=function(I,J,H){var K=I.getDate();var G=javaxt.dhtml.calendar.Utils.monthNames[I.getMonth()].substring(0,3)+" ";if(J==0&&H==0){K=G+K}else{if(K==1){K=G+K}}var L=document.createElement("div");L.innerHTML=K;return L};this.createCellFooter=function(H,I,G){var J=document.createElement("div");return J};this.getCells=function(){var L=[];for(var H in d){if(d.hasOwnProperty(H)){var O=d[H];var K=n(O[0]);var J=n(O[O.length-1]);var I=K.left;var G=K.right;var P=K.top;var N=J.bottom;var M={left:I,right:G,top:P,bottom:N,width:G-I,height:N-P};L.push({id:H,rect:M})}}return L};this.getEventStore=function(){return h};this.addEvent=function(H){k("Adding "+H.getSubject()+"...");var N=H.numDays();if(N>=1){for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];if(O!=null){for(var M=1;M<O.length;M++){var L=O[M];var J=L.firstChild;if(J!=null){var K=J.event;if(K.equals(H)){return}}}}}}}else{var P=H.getStartDate();var I=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var L=A[I];if(L!=null){var G=L.childNodes[0];for(var M=0;M<G.childNodes.length;M++){if(G.childNodes[M].event.equals(H)){return}}}}if(N>=1){b(H)}else{C(H)}h.add(H)};this.removeEvent=function(aa){h.remove(aa);if(aa.numDays()>=1){var S=[];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var ac=1;ac<H.length;ac++){var Q=H[ac];var L=Q.firstChild;if(L!=null){var P=L.event;if(P.equals(aa)){Q.removeChild(L);var K=Q.parentNode;if(K!=null){var J=true;for(var Z=0;Z<S.length;Z++){if(S[Z]==K){J=false;break}}if(J){S.push(K)}}}}}}}for(var ac=0;ac<S.length;ac++){var K=S[ac];var O=0;var T=[];for(Z=0;Z<K.childNodes.length;Z++){var Q=K.childNodes[Z];T.push(Q);var L=Q.firstChild;if(L!=null){O++}}if(O==0){var I=K.parentNode;I.removeChild(K);for(Z=0;Z<T.length;Z++){var Q=T[Z];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var Y=1;Y<H.length;Y++){var ag=H[Y];if(Q==ag){H.splice(Y,1);if(Q.colSpan>=2){var X=W.split("-");var af=parseInt(X[0]);var ab=parseInt(X[1]);var U=parseInt(X[2]);var ae=new Date(U,af-1,ab);for(var R=1;R<Q.colSpan;R++){ae.setDate(ae.getDate()+1);var M=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();var N=w[M];N.splice(Y,1)}}break}}}}}var G=I.childNodes[0];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];if(H.length>1){var Q=H[1];if(Q.parentNode!=null){if(Q.parentNode.previousSibling==G){var L=Q.firstChild;if(L!=null){L.style.marginTop="0px"}}}}}}}}u()}else{var ad=aa.getStartDate();var W=(ad.getMonth()+1)+"-"+ad.getDate()+"-"+ad.getFullYear();var Q=A[W];var V=Q.childNodes[0];for(var ac=0;ac<V.childNodes.length;ac++){if(V.childNodes[ac].event.equals(aa)){V.removeChild(V.childNodes[ac]);break}}}};this.getEvents=function(){var P=[];for(var I in A){if(A.hasOwnProperty(I)){var K=A[I];var G=K.childNodes[0];for(var N=0;N<G.childNodes.length;N++){var J=G.childNodes[N];var H=J.event;P.push(H)}}}for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];for(var N=1;N<O.length;N++){var K=O[N];var J=K.firstChild;if(J!=null){var H=J.event;var M=true;for(var L=0;L<P.length;L++){if(P[L].equals(H)){M=false;break}}if(M){P.push(H)}}}}}return P};this.clear=function(){for(var J in A){if(A.hasOwnProperty(J)){var L=A[J];var H=L.childNodes[0];H.style.marginTop="0px";while(H.firstChild){var K=H.firstChild;var I=K.event;h.remove(I);H.removeChild(K)}}}var R=[];for(var J in w){if(w.hasOwnProperty(J)){var P=w[J];for(var O=1;O<P.length;O++){var L=P[O];var K=L.firstChild;if(K!=null){var I=K.event;h.remove(I)}var Q=L.parentNode;if(Q!=null){var G=true;for(var M=0;M<R.length;M++){if(R[M]==Q){G=false;break}}if(G){R.push(Q)}}}w[J]=[P[0]]}}for(var O=0;O<R.length;O++){var Q=R[O];var N=Q.parentNode;N.removeChild(Q)}};this.refresh=function(){var H=E.getEvents();E.clear();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var C=function(I){var P=I.getStartDate();var J=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var M=A[J];if(M==null){return}var G=I.createDiv(E);var H=document.createElement("div");H.style.width="100%";H.style.height=j+"px";H.style.marginTop=(B*2)+"px";H.style.position="relative";H.style.cursor="pointer";H.event=I;var Q=document.createElement("div");Q.style.width="100%";Q.style.height="100%";Q.style.position="absolute";H.appendChild(Q);var L=document.createElement("div");L.style.height="100%";L.style.padding="0px "+r+"px";L.style.position="relative";Q.appendChild(L);L.appendChild(G);if(I.isEditable()){s(H,E,y)}else{H.onclick=function(T){var S=E.getListener("eventclick");if(S!=null){var U=S.callback;var R=S.scope;U.apply(R,[this.event,this,E,T])}}}var G=M.childNodes[0];var O=false;for(var N=0;N<G.childNodes.length;N++){var K=G.childNodes[N].event;if(!I.equals(K)){if(K.getStartDate().getTime()>=I.getStartDate().getTime()){G.insertBefore(H,G.childNodes[N]);O=true;break}}}if(!O){G.appendChild(H)}};var b=function(aa){var T=[];for(var S=0;S<aa.numDays()+1;S++){var ae=new Date(aa.getStartDate());ae.setDate(ae.getDate()+S);var W=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();if(w[W]!=null){T.push(w[W])}}if(T.length==0){return}var N=[];var ab=[];for(var ac=0;ac<T.length;ac++){var L=T[ac][0];ab.push(T[ac]);if(L.nextSibling==null){N.push(ab);ab=[]}}if(ab.length>0){N.push(ab)}for(var ac=0;ac<N.length;ac++){var T=N[ac];var Y;var L=null;if(T[0].length>1){for(Y=1;Y<T[0].length;Y++){var Q=false;for(var Z=0;Z<T.length;Z++){var P=T[Z][Y];if(P.childNodes.length>0||P.parentNode==null){Q=true;break}}if(!Q){L=T[0][Y];break}}}if(L==null){var R=T[0][T[0].length-1].parentNode;var X=R.nextSibling;var J=T[0][0].parentNode.cloneNode(true);R.parentNode.insertBefore(J,X);for(var Z=0;Z<T[0][0].parentNode.childNodes.length;Z++){var O=T[0][0].parentNode.childNodes[Z];for(var ag in w){if(w.hasOwnProperty(ag)){var I=w[ag];if(I[0]==O){I.push(J.childNodes[Z])}}}}Y=T[0].length-1;L=T[0][Y]}javaxt.dhtml.calendar.Utils.addColSpan(L,T.length);var H=ac>0&&L.previousSibling==null;var U=L.nextSibling==null&&(N.length>1&&ac<N.length-1);var V=aa.createDiv(H,U);var K=document.createElement("div");K.style.width="100%";K.style.height="100%";K.style.position="absolute";var af=document.createElement("div");af.style.height="100%";var ad=H?"0px":r+"px";var G=U?"0px":r+"px";af.style.padding="0px "+G+" 0px "+ad;af.style.position="relative";K.appendChild(af);V.style.height="100%";af.appendChild(V);var M=document.createElement("div");M.style.width="100%";M.style.height=j+"px";M.style.position="relative";if(Y>1){M.style.marginTop=(B*2)+"px"}M.appendChild(K);M.event=aa;M.onclick=function(aj){var ai=E.getListener("eventclick");if(ai!=null){var ak=ai.callback;var ah=ai.scope;ak.apply(ah,[this.event,this,E,aj])}};L.appendChild(M);L.style.height=j+"px";e.push(M)}u()};var u=function(){for(var H in A){if(A.hasOwnProperty(H)){var J=A[H];var G=J.childNodes[0];var O=w[H];var K=0;var Q=0;var I=null;for(var L=1;L<O.length;L++){if(O[L].childNodes.length>0||O[L].parentNode==null){Q++;I=L}}var M=J.parentNode;var N=n(M).top;var P;if(I!=null){var R=M.parentNode.childNodes[I];P=n(R).bottom;K=N-P}else{P=n(M.parentNode.childNodes[0]).top;K=((N-P)+((B*2)-1))}G.style.marginTop=-K+"px"}}};var f=function(){var H=document.createElement("table");H.style.width="100%";H.style.height="100%";H.cellSpacing=0;H.cellPadding=0;H.style.borderCollapse="collapse";var G=document.createElement("tbody");H.appendChild(G);return G};this.getDOM=function(){return x};this.next=function(){z.setMonth(z.getMonth()+1);l(z);o();p()};this.back=function(){z.setMonth(z.getMonth()-1);l(z);o();p()};this.setDate=function(G){if(G==null){G=new Date()}if(z!=null){if(G.getFullYear()==z.getFullYear()&&G.getMonth()==z.getMonth()){z=G;return}}z=G;l(z);o();p()};this.getDate=function(){return z};var l=function(K){var H=K.getFullYear();var I=K.getMonth()+1;var J=new Date(H,I-1,1);var G=new Date(H,I,0);i=Math.ceil((J.getDay()+G.getDate())/7);c=new Date(J);c.setDate(c.getDate()-J.getDay());v=new Date(G);v.setDate(v.getDate()+(6-G.getDay()))};this.getDateRange=function(){return{startDate:new Date(c),endDate:new Date(v)}};this.getTitle=function(){return(javaxt.dhtml.calendar.Utils.monthNames[z.getMonth()]+" "+z.getFullYear())};var p=function(){var H=h.getEvents();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var n=javaxt.dhtml.calendar.Utils.getRect;var s=javaxt.dhtml.calendar.Utils.initDrag;var k=function(G){if(q){console.log(G)}};t()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Utils={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],getDaysBetween:function(c,d){function b(f){var e=new Date(f);e.setMinutes(e.getMinutes()-e.getTimezoneOffset());return e}var a=24*60*60*1000;return(b(d)-b(c))/a},addColSpan:function(c,b){if(b<2){return}c.colSpan=b;var a=function(k,g){if(k==null){return}var l=k;var j=l.parentNode;var d=0;var e=[];while(d<g){var h=l.colSpan;if(h==null||h<2){h=1}d=d+h;e.push(l);l=l.nextSibling;if(l==null){break}}for(var f=0;f<e.length;f++){j.removeChild(e[f])}};a(c.nextSibling,b-1)},getRect:function(e){if(e.getBoundingClientRect){return e.getBoundingClientRect()}else{var a=0;var g=0;var b=e.offsetWidth;var d=e.offsetHeight;function c(h){return h===parseFloat(h)}var f=e;do{a+=e.offsetLeft-e.scrollLeft;g+=e.offsetTop-e.scrollTop}while(e=e.offsetParent);e=f;do{if(c(e.scrollLeft)){a-=e.scrollLeft}if(c(e.scrollTop)){g-=e.scrollTop}}while(e=e.parentNode);return{left:a,right:a+b,top:g,bottom:g+d,width:b,height:d}}},initDrag:function(o,l,A){var u=null;var t=false;o.onmousedown=function(C){u=setTimeout(function(){u=null;t=true;b(C);if(document.addEventListener){document.addEventListener("mousemove",n);document.addEventListener("mouseup",h)}else{if(document.attachEvent){document.attachEvent("onmousemove",n);document.attachEvent("onmouseup",h)}}},A)};var h=function(G){var E=B(o);E.className=E.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var H=F.callback;var D=F.scope;H.apply(D,[o.event,o,l,G])}}else{if(t){t=false;if(document.removeEventListener){document.removeEventListener("mousemove",n);document.removeEventListener("mouseup",h)}else{if(document.detachEvent){document.detachEvent("onmousemove",n);document.detachEvent("onmouseup",h)}}o.style.cursor="pointer";v(o);var C=document.getElementsByTagName("body")[0];C.className=C.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};o.onmouseup=h;var x,w,g,f;var y,m;var c=function(C){w=C.changedTouches[0].pageX;f=C.changedTouches[0].pageY;if(y&&t===false){y.scrollTop=m+(g-f)}};var d=function(){if(document.removeEventListener){document.removeEventListener("touchmove",c);document.removeEventListener("touchend",d)}else{if(document.detachEvent){document.detachEvent("ontouchmove",c);document.detachEvent("ontouchend",d)}}};o.ontouchstart=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;x=D.changedTouches[0].pageX;g=D.changedTouches[0].pageY;y=l.getScrollDiv();if(y){m=y.scrollTop;if(document.addEventListener){document.addEventListener("touchmove",c);document.addEventListener("touchend",d)}else{if(document.attachEvent){document.attachEvent("ontouchmove",c);document.attachEvent("ontouchend",d)}}}l.disableTouch();u=setTimeout(function(){u=null;var G=Math.sqrt((w-=x)*w+(f-=g)*f);if(G<0){G=-G}if(G>10){t=false;return}t=true;b({clientX:C,clientY:E});if(document.addEventListener){o.addEventListener("touchmove",i)}else{if(document.attachEvent){o.attachEvent("ontouchmove",i)}}},A)};o.ontouchend=function(G){l.enableTouch();if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var J=F.callback;var E=F.scope;var I=G.changedTouches[0];var C=I.pageX;var H=I.pageY;J.apply(E,[o.event,o,l,{clientX:C,clientY:H}])}}else{if(t){t=false;v(o);var D=B(o);D.className=D.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(document.removeEventListener){o.removeEventListener("touchmove",i)}else{if(document.detachEvent){o.detachEvent("ontouchmove",i)}}}}};var n=function(D){var C=D.clientX;var E=D.clientY;o.style.left=(C-o.xOffset)+"px";o.style.top=(E-o.yOffset)+"px"};var i=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;n({clientX:C,clientY:E})};var b=function(J){var O=J.clientX;var L=J.clientY;var N=k(o);var M=N.top-parseInt(o.style.marginTop);var K=O-N.left;var E=l.hasHours()?(N.height/2):L-M;var H=o.parentNode;var F={width:o.style.width,left:o.style.left,top:o.style.top,rect:N};o.orgStyle=F;o.orgParent=H;o.xOffset=K;o.yOffset=E;var I=document.getElementsByTagName("body")[0];if(!I.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){I.className+=(I.className.length==0?"":" ")+"javaxt-noselect"}var G=o.nextSibling;H.removeChild(o);I.appendChild(o);if(l.hasHours()==false&&G!=null){var C=document.createElement("div");C.style.width="100%";C.style.height=N.height+"px";C.style.marginTop=o.style.marginTop;H.insertBefore(C,G);C.event=o.event}o.style.position="absolute";o.style.width=N.width+"px";o.style.left=N.left+"px";o.style.top=(L-E)+"px";o.style.cursor="move";o.style.zIndex=a();var D=B(o);D.className+=" javaxt-cal-event-drag"};var v=function(J){var E=k(J);var Q=E.top;var H=r(E);if(H.length==0){j(J);return}var D;if(H.length==1){D=H[0]}else{var T={};var I=[];for(var M=0;M<H.length;M++){var D=H[M];var O=s(E,D);I.push(O);T[O]=D}I.sort(function(V,U){return U-V});D=T[I[0]]}var L=J.event;var P=L.getStartDate();var K=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();if(D.id==K){if(l.hasHours()){var S=1;var R=Q-J.orgStyle.rect.top;var P=Math.sqrt(S*S+R*R);if(P<15){j(J);return}var G=L.getStartDate();var N=L.getEndDate();p(z(Q+5,J),G,N);e(L,G,N)}else{j(J)}}else{var C=D.id.split("-");var G=L.getStartDate();G.setFullYear(parseInt(C[2]));G.setMonth(parseInt(C[0])-1);G.setDate(parseInt(C[1]));var F=Math.round((G.getTime()-L.getStartDate().getTime())/(24*60*60*1000));var N=L.getEndDate();N.setDate(N.getDate()+F);if(l.hasHours()){p(z(Q+5,J),G,N)}e(L,G,N)}};var e=function(E,C,G){var D=function(I){if(I==true){var H=o.parentNode;H.removeChild(o);l.removeEvent(E);E.setStartDate(C);E.setEndDate(G);l.addEvent(E);F=l.getListener("aftermove");if(F!=null){F.callback.apply(F.scope,[E,l])}}else{j(o)}};var F=l.getListener("beforemove");if(F!=null){F.callback.apply(F.scope,[E,new Date(C),new Date(G),D])}else{D(true)}};var j=function(I){var C=I.parentNode;C.removeChild(I);var E=I.orgStyle;I.style.left=E.left;I.style.top=E.top;I.style.width=E.width;if(l.hasHours()){I.orgParent.appendChild(I)}else{I.style.position="relative";var D=null;var H=I.event;for(var F=0;F<I.orgParent.childNodes.length;F++){if(I.orgParent.childNodes[F].event.equals(H)){D=I.orgParent.childNodes[F];break}}if(D==null){I.orgParent.appendChild(I)}else{var G=D.nextSibling;if(G==null){I.orgParent.removeChild(D);I.orgParent.appendChild(I)}else{I.orgParent.insertBefore(I,D);I.orgParent.removeChild(D)}}}I.orgParent=null;I.orgStyle=null};var B=function(E){var C=E;while(C.childNodes.length>0){var D=C.childNodes[0];if(D.className.match(/(?:^|\s)javaxt-cal-event(?!\S)/)){return D}else{C=D}}};var r=function(F){var C=F.left;var H=F.right;var I=F.top;var G=F.bottom;var E=[];var D=function(J){if(J==null){return}for(var K=0;K<E.length;K++){if(E[K].id==J.id){return}}E.push(J)};D(q(C,I));D(q(C,G));D(q(H,G));D(q(H,I));return E};var q=function(J,H){var L=l.getCells();for(var G=0;G<L.length;G++){var K=L[G];var I=K.rect;var F=I.left;var D=I.right;if(J>=F&&J<=D){var E=I.top;var C=I.bottom;if(H>=E&&H<=C){return K}}}return null};var s=function(F,O){var L=O.rect;var I=L.left;var E=L.right;var G=L.top;var D=L.bottom;var H=F.left;var N=F.right;var K=F.top;var C=F.bottom;if(H<I){H=I}if(N>E){N=E}if(K<G){K=G}if(C>D){C=D}var M=N-H;var J=C-K;return M*J};var z=function(M,D){var N=[];var K=D.orgParent;for(var I=0;I<K.childNodes.length;I++){var E=K.childNodes[I];var F=E.tagName.toLowerCase();if(F=="table"){var J=E.childNodes[0];for(var H=0;H<J.childNodes.length;H++){N.push(J.childNodes[H])}}}for(var I=0;I<N.length;I++){var L=k(N[I]);var G=L.top;var C=L.bottom;if(M>=G&&M<=C){return(I/2)}}return null};var p=function(H,D,G){var F=H-(D.getHours()+(D.getMinutes()/60));var E=Math.floor(F);var C=Math.abs((F%1)*60);D.setHours(D.getHours()+E);D.setMinutes(D.getMinutes()+C);G.setHours(G.getHours()+E);G.setMinutes(G.getMinutes()+C)};var k=javaxt.dhtml.calendar.Utils.getRect;var a=function(F){var E=0;var C=0;var G=Array();if(F){G=F.getElementsByTagName("*")}else{G=document.getElementsByTagName("*")}for(var D=0;D<G.length;D++){if(G[D].currentStyle){C=parseFloat(G[D].currentStyle.zIndex)}else{if(window.getComputedStyle){C=parseFloat(document.defaultView.getComputedStyle(G[D],null).getPropertyValue("z-index"))}}if(!isNaN(C)&&C>E){E=C}}return(E+1)}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.View=function(a,b){this.next=function(){};this.back=function(){};this.getDate=function(){};this.setDate=function(){};this.getDateRange=function(){};this.hasHours=function(){};this.getTitle=function(){};this.addEvent=function(e){};this.removeEvent=function(e){};this.getEvents=function(){};this.getEventStore=function(){};this.refresh=function(){};this.clear=function(){};this.show=function(){};this.hide=function(){};this.showFooter=function(){};this.hideFooter=function(){};this.getDOM=function(){};this.enableTouch=function(){};this.disableTouch=function(){};this.getScrollDiv=function(){};this.addEvents=function(f){for(var e=0;e<f.length;e++){a.addEvent(f[e])}};this.getCells=function(){};this.getListener=function(e){var g=b.listeners;if(g!=null){var f=g.scope;if(f==null){f=a}var h=g[e];if(h!=null){return{callback:h,scope:f}}}return null};this.addListener=function(e,h,g){var f=b.listeners;if(f==null){f={}}f[e]={callback:h,scope:g==null?a:g}};this.removeListener=function(e){var f=b.listeners;if(f!=null){delete f[e]}};var d=this;for(var c in d){if(d.hasOwnProperty(c)){if(a[c]==null){a[c]=d[c]}}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Week=function(c,a){this.className="javaxt.dhtml.calendar.Week";var d=this;var b;var e=function(){var i=a;a={};for(var g in i){if(i.hasOwnProperty(g)){a[g]=i[g]}}a.days=7;b=a.listeners;if(b!=null){a.listeners={beforerender:function(j){for(var k in j){if(j.hasOwnProperty(k)){if(d[k]==null){d[k]=j[k]}}}var l=d.getListener("beforerender");if(l!=null){l.callback.apply(l.scope,arguments)}}};for(var h in b){if(b.hasOwnProperty(h)){if(h!="beforerender"){(function(j){a.listeners[j]=function(){var k=d.getListener(j);if(k!=null){k.callback.apply(k.scope,arguments)}}})(h)}}}}var f=new javaxt.dhtml.calendar.Day(c,a);f.getListener=d.getListener};this.getListener=function(f){if(b!=null){var g=b.scope;if(g==null){g=d}var h=b[f];if(h!=null){return{callback:function(){for(var j=0;j<arguments.length;j++){if(arguments[j] instanceof javaxt.dhtml.calendar.Day){arguments[j]=d}}h.apply(g,arguments)},scope:g}}}return null};e()};
javaxt.dhtml.Callout=function(n,e){this.className="javaxt.dhtml.Callout";var j=this;var b,g,h,l,c;var d=false;var i={position:"absolute",style:{panel:{border:"1px solid #c5d9e8",backgroundColor:"#eef4f9",borderRadius:"6px",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)"},arrow:{borderColor:"#c5d9e8",backgroundColor:"#eef4f9",width:"10px",height:"10px",padding:"10px"}}};var o=function(){var w={};k(w,e);k(w,i);e=w;b=f("div",n);b.setAttribute("desc",j.className);if(e.position==="absolute"){b.style.display="none";b.style.position="absolute";b.style.top=b.style.left=0}j.el=b;h=f("div",b,e.style.panel);h.style.position="relative";h.style.margin=0;h.style.padding=0;h.style.borderWidth="1px";g=f("div",h,{width:"100%",height:"100%"});var r=f("div",e.style.arrow);r.style.position="absolute";r.style.visibility="hidden";r.style.display="block";var q=document.getElementsByTagName("body")[0];q.appendChild(r);var t=r.currentStyle||window.getComputedStyle(r);var p=function(B){var y=function(D){if(t.getPropertyValue){var C=t.getPropertyValue(D);if(C&&C.length>0){return C}D=D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return t.getPropertyValue(D)}else{return t[D]}};if(B instanceof Array){var x=B;for(var z=0;z<x.length;z++){var A=y(x[z]);if(A&&A.length>0){return A}}}else{return y(B)}};e.arrow={backgroundColor:p("backgroundColor"),borderColor:p(["borderColor","borderLeftColor","borderRightColor","borderTopColor","borderBottomColor"]),paddingTop:parseInt(p("paddingTop")),paddingBottom:parseInt(p("paddingBottom")),paddingLeft:parseInt(p("paddingLeft")),paddingRight:parseInt(p("paddingRight"))};r.style.border=0;r.style.padding=0;r.style.margin=0;e.arrow.width=r.offsetWidth;e.arrow.height=r.offsetHeight;q.removeChild(r);r=null;l=f("b");l.setAttribute("desc","notch");l.style.position="absolute";l.style.top=0;l.style.left=0;l.style.margin=0;l.style.padding=0;l.style.width=0;l.style.height=0;l.style.fontSize=0;l.style.lineHeight=0;c=f("b",b);c.setAttribute("desc","notchBorder");c.style.position="absolute";c.style.top=0;c.style.left=0;c.style.margin=0;c.style.padding=0;c.style.width=0;c.style.height=0;c.style.fontSize=0;c.style.lineHeight=0;b.appendChild(l);if(e.position==="absolute"){var v=function(){j.hide()};var s=function(A){var z=A.clientX;var B=A.clientY;m(z,B)};var u=function(A){var z=A.changedTouches[0].pageX;var B=A.changedTouches[0].pageY;m(z,B)};if(document.addEventListener){document.addEventListener("click",s);document.addEventListener("touchstart",u);window.addEventListener("resize",v)}else{if(document.attachEvent){document.attachEvent("onclick",s);document.attachEvent("ontouchstart",u);window.attachEvent("onresize",v)}}}};var m=function(p,u){if(d){return}if(b.style.display==="block"){var r=parseInt(b.style.left);var q=r+b.offsetWidth;var t=parseInt(b.style.top);var s=t+b.offsetHeight;if(p<r||p>q){j.hide()}else{if(u<t||u>s){j.hide()}}}};this.getInnerDiv=function(){return g};this.getSize=function(){var p;if(b.style.display==="none"){b.style.visibility="hidden";b.style.display="block";p={width:b.offsetWidth,height:b.offsetHeight};b.style.visibility="";b.style.display="none"}else{p={width:b.offsetWidth,height:b.offsetHeight}}return p};this.show=function(){d=true;b.style.zIndex=a();b.style.display="block";j.onShow();setTimeout(function(){d=false},500)};this.showAt=function(A,w,s,u){d=true;b.style.visibility="hidden";b.style.display="block";var C=e.arrow.backgroundColor;var r=e.arrow.borderColor;var q=Math.max(e.arrow.width,e.arrow.height);var p=0;var B=q;var v=q;var t=function(){if(u==="left"){p=e.arrow.paddingLeft;b.style.left=(A-(p+B))+"px";l.style.left=c.style.left=p+"px"}else{if(u==="right"){p=e.arrow.paddingRight;b.style.left=((A-b.offsetWidth)+(p+B))+"px";l.style.left=c.style.left=(b.offsetWidth-(p+(B*2)))+"px"}else{if(u==="center"||u==="middle"){var x=b.offsetWidth/2;b.style.left=(A-x)+"px";l.style.left=c.style.left=(x-B)+"px"}else{return}}}};var z=function(){h.style.top="0px";if(u==="top"){p=e.arrow.paddingTop;b.style.top=(w-(p+B))+"px";l.style.top=c.style.top=p+"px"}else{if(u==="bottom"){p=e.arrow.paddingBottom;b.style.top=((w-b.offsetWidth)+(p+B))+"px";l.style.top=c.style.top=(b.offsetHeight-(p+(B*2)))+"px"}else{if(u==="middle"||u==="center"){var x=b.offsetHeight/2;b.style.top=(w-x)+"px";l.style.top=c.style.top=(x-B)+"px"}else{return}}}};if(s==="above"){l.style.borderTop=c.style.borderTop=q+"px solid "+C;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=0;c.style.borderTopColor=r;b.style.left=A+"px";b.style.top=((w-b.offsetHeight)-v)+"px";h.style.top="0px";l.style.top=(b.offsetHeight-1)+"px";c.style.top=b.offsetHeight+"px";t()}else{if(s==="below"){l.style.borderTop=c.style.borderTop=0;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=q+"px solid "+C;c.style.borderBottomColor=r;b.style.left=A+"px";b.style.top=w+"px";h.style.top=v+"px";l.style.top="1px";c.style.top="0px";t()}else{if(s==="left"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=q+"px solid "+C;l.style.borderRight=c.style.borderRight=0;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderLeftColor=r;b.style.left=(A-(b.offsetWidth+v))+"px";h.style.left="0px";l.style.left=(b.offsetWidth-1)+"px";c.style.left=b.offsetWidth+"px";z()}else{if(s==="right"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=0;l.style.borderRight=c.style.borderRight=q+"px solid "+C;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderRightColor=r;b.style.left=A+"px";h.style.left=v+"px";l.style.left="1px";c.style.left="0px";z()}else{return}}}}b.style.visibility="";j.show()};this.hide=function(){b.style.display="none";d=false;j.onHide()};this.isVisible=function(){return(b.style.display!=="none")};this.onShow=function(){};this.onHide=function(){};var k=javaxt.dhtml.utils.merge;var a=javaxt.dhtml.utils.getNextHighestZindex;var f=javaxt.dhtml.utils.createElement;o()};
javaxt.dhtml.Carousel=function(j,u){this.className="javaxt.dhtml.Carousel";var v=this;var f,w;var r;var p=false;var s;var g;var l={animate:true,animationSteps:250,transitionEffect:"linear",fx:null,loop:false,slideOver:false,drag:true,visiblePanels:1,padding:0};var n=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var D={};h(D,u);h(D,l);u=D;for(var A in u){if(u.hasOwnProperty(A)){if(typeof u[A]=="function"){if(v[A]&&typeof v[A]=="function"){v[A]=u[A]}}}}var x=[];if(u.items){x=u.items}else{for(var z=0;z<j.childNodes.length;z++){var B=j.childNodes[z];if(B.nodeType===1){x.push(B)}}for(var z=0;z<x.length;z++){j.removeChild(x[z])}j.innerHTML=""}f=document.createElement("div");f.setAttribute("desc",v.className);f.style.position="relative";f.style.width="100%";f.style.height="100%";j.appendChild(f);v.el=f;var y=document.createElement("div");y.style.position="absolute";y.style.overflow="hidden";y.style.width="100%";y.style.height="100%";var C=u.padding;if(C>0){y.style.padding="0 "+C+"px";y.style.left=-C+"px"}f.appendChild(y);w=document.createElement("div");w.style.position="absolute";w.style.left="0px";w.style.height="100%";y.appendChild(w);if(u.drag===true){c();o(w)}for(var z=0;z<x.length;z++){v.add(x[z])}d(v);g=i(j,function(){v.resize()});e(f,function(){v.resize();v.onRender()})};this.destroy=function(){if(g){g.destroy()}v.disableAnimation();p=true;q(v);v=null;return v};this.onRender=function(){};this.onResize=function(){};this.add=function(z){var x=parseInt(w.style.width);if(isNaN(x)){x=0}var B=document.createElement("div");B.style.width=f.offsetWidth+"px";B.style.height="100%";B.style.position="relative";B.style.display="inline-block";var A=u.padding;if(A>0){B.style.width=(f.offsetWidth+(A*2))+"px"}w.appendChild(B);var y=document.createElement("div");y.style.width="100%";y.style.height="100%";y.style.position="absolute";y.style.overflow="hidden";if(A>0){y.style.padding="0 "+A+"px";y.style.width=f.offsetWidth+"px"}B.appendChild(y);y.appendChild(z);w.style.width=(x+B.offsetWidth)+"px";if(!r){r=B}v.resize()};this.clear=function(){r=null;w.innerHTML="";w.style.left="0px";p=false;t()};this.resize=function(){var x=f.offsetWidth;if(x===0||isNaN(x)){var z;var y=function(){var A=f.offsetWidth;if(A===0||isNaN(A)){z=setTimeout(y,100)}else{clearTimeout(z);t()}};z=setTimeout(y,100)}else{t()}};var t=function(){var A=f.offsetWidth;var C=u.padding;if(C>0){A+=(C*2)}var x=w.childNodes.length;w.style.width=(A*x)+"px";var B=0;for(var z=0;z<x;z++){w.childNodes[z].style.width=A+"px";if(C>0){var y=w.childNodes[z].childNodes[0];y.style.width=f.offsetWidth+"px"}if(w.childNodes[z]==r){B=z}}v.onResize();if(p){return}w.style.left=-(B*A)+"px"};var a=function(y,x,A,z,C,H){if(u.fx){setTimeout(function(){u.fx.setTransition(y,u.transitionEffect,u.animationSteps);y.style.left=A+"px";setTimeout(function(){y.style.WebkitTransition=y.style.MozTransition=y.style.MsTransition=y.style.OTransition=y.style.transition="";if(H){H.apply(v,[])}},u.animationSteps+50)},50)}else{var D=new Date().getTime();var G=D-z;if(C<=G){y.style.left=A+"px";if(H){H.apply(v,[])}return}C-=G;var E=x-A;var F=1-(C/u.animationSteps);var B=Math.round(F*E);y.style.left=x-B+"px";setTimeout(function(){a(y,x,A,D,C,H)},33)}};this.next=function(){if(u.animate===true){if(p){return}p=true}var z=parseInt(w.style.left);var F;var y=r.childNodes[0].childNodes[0];var I;var C=function(K){var J=z-F;if(u.animate===true){a(w,z,J,new Date().getTime(),u.animationSteps,K)}else{w.style.left=J+"px";if(K){K.apply(v,[])}}};var A=function(M){var K=0;for(var J=0;J<w.childNodes.length;J++){var L=w.childNodes[J];K+=L.offsetWidth;if(L===r){break}}M.style.display="none";r.style.marginRight=F+"px";M.style.position="absolute";M.style.zIndex=2;M.style.left=K+"px";M.style.top="0px";M.style.display="";return K};var x=function(J){J.style.display="inline-block";J.style.position="relative";J.style.zIndex="";J.style.left="";J.style.top=""};var G=r.nextSibling;if(G){I=G.childNodes[0].childNodes[0];v.beforeChange(y,I);var D=function(){v.onChange(I,y);r=G;p=false};F=G.offsetWidth;if(u.slideOver===true&&u.animate===true){var H=A(G);a(G,H,H-F,new Date().getTime(),u.animationSteps,function(){var J=z-F;w.style.left=J+"px";r.style.marginRight="0px";x(G);D()})}else{C(D)}}else{if(u.loop===true){var B=w.childNodes[0];F=B.offsetWidth;var E=B.cloneNode(true);w.style.width=(w.offsetWidth+F)+"px";w.appendChild(E);I=E.childNodes[0].childNodes[0];v.beforeChange(y,I);var D=function(){w.style.left=z+"px";w.removeChild(B);w.style.width=(w.offsetWidth-F)+"px";v.onChange(I,y);r=E;p=false};if(u.slideOver===true&&u.animate===true){var H=A(E);a(E,H,H-F,new Date().getTime(),u.animationSteps,function(){r.style.marginRight="0px";x(E);D()})}else{C(D)}}else{p=false}}};this.back=function(){if(u.animate===true){if(p){return}p=true}var A,C,G;var z=r.childNodes[0].childNodes[0];var J;var D=function(K){if(u.animate===true){a(w,A,C,new Date().getTime(),u.animationSteps,K)}else{w.style.left=C+"px";if(K){K.apply(v,[])}}};var B=function(N){var L=0;for(var K=0;K<w.childNodes.length;K++){var M=w.childNodes[K];if(M===N){break}L+=M.offsetWidth}N.style.display="none";r.style.marginLeft=G+"px";N.style.position="absolute";N.style.zIndex=2;N.style.left=L+"px";N.style.top="0px";N.style.display="";return L};var x=function(K){K.style.display="inline-block";K.style.position="relative";K.style.zIndex="";K.style.left="";K.style.top=""};var H=r.previousSibling;if(H){J=H.childNodes[0].childNodes[0];v.beforeChange(z,J);var E=function(){v.onChange(J,z);r=H;p=false};G=H.offsetWidth;A=parseFloat(w.style.left);C=A+G;if(u.slideOver===true&&u.animate===true){var I=B(H);a(H,I,I+G,new Date().getTime(),u.animationSteps,function(){w.style.left=C+"px";r.style.marginLeft="0px";x(H);E()})}else{D(E)}}else{if(u.loop===true){var y=w.childNodes[w.childNodes.length-1];G=y.offsetWidth;var F=y.cloneNode(true);w.style.width=(w.offsetWidth+G)+"px";w.insertBefore(F,w.firstChild);J=F.childNodes[0].childNodes[0];v.beforeChange(z,J);var E=function(){v.onChange(J,z);r=F;p=false};A=-G;C=0;if(u.slideOver===true&&u.animate===true){B(F);var I=-G;F.style.left=I+"px";w.style.width=(w.offsetWidth-G)+"px";r.style.marginLeft="0px";a(F,I,I+G,new Date().getTime(),u.animationSteps,function(){w.removeChild(y);x(F);E()})}else{w.style.left=A+"px";D(function(){w.removeChild(y);w.style.width=(w.offsetWidth-G)+"px";E()})}}else{p=false}}};this.onChange=function(y,x){};this.beforeChange=function(x,y){};this.getPanels=function(){var D=[];var A=k(f);var z=parseInt(u.padding);if(isNaN(z)){z=0}for(var C=0;C<w.childNodes.length;C++){var x=w.childNodes[C];var y=k(x);var E=false;var F=0;var B=0;if(y.right>A.left&&y.left<A.right){E=true;if(y.right<A.right){F=y.right-A.left}else{B=A.right-y.left}}if(E){if((F-z>0&&F-z<1)||(B-z>0&&B-z<1)){E=false}}D.push({div:x.childNodes[0].childNodes[0],isVisible:E,visibleArea:m(A,y)})}return D};this.enableAnimation=function(){u.animate=true};this.disableAnimation=function(){u.animate=false};var o=function(){var D=50;var A,B;var F;var x=function(I){A=I.clientX;B=parseInt(w.style.left);var H=document.getElementsByTagName("body")[0];if(!H.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){H.className+=(H.className.length==0?"":" ")+"javaxt-noselect"}F=r;w.style.cursor="move"};var z=function(M){var P=M.clientX;var N=A-P;var I=B-N;w.style.left=I+"px";if(I>0){if(u.loop===true){var R=r.previousSibling;if(R){}else{var H=w.childNodes[w.childNodes.length-1];var Q=H.offsetWidth;var O=H.cloneNode(true);w.insertBefore(O,w.firstChild);w.removeChild(H);w.style.left=(-Q+parseInt(w.style.left))+"px";A+=Q;r=O}}else{}}else{var P=0;var L=0;for(var K=0;K<w.childNodes.length;K++){var Q=w.childNodes[K].offsetWidth;P=P-Q;L=Q}if((I-L)<P){if(u.loop===true){var J=w.childNodes[0];var Q=J.offsetWidth;var O=J.cloneNode(true);w.appendChild(O);w.removeChild(J);w.style.left=(parseInt(w.style.left)+Q)+"px";A=A-Q;r=O}else{}}}};var y=function(){var H=k(f);var aa=H.x;var Y=aa+H.width;var X=H.y;var W=X+H.height;var M=0;var P=0;for(var S=0;S<w.childNodes.length;S++){var O=w.childNodes[S];var T=k(O);var J=T.x;var Z=J+T.width;var Q=T.y;var L=Q+T.height;if(J<aa){J=aa}if(Z>Y){Z=Y}if(Q<X){Q=X}if(L>W){L=W}var N=Z-J;var U=L-Q;var V=N*U;if(V>M){M=V;P=S}}var R="Snap to panel "+w.childNodes[P].innerText;if(R.length>60){R=R.substring(0,60)}var K=parseInt(w.style.left);var I=0;for(var S=0;S<P;S++){I+=w.childNodes[S].offsetWidth}I=-I;var ab=((K-I)/u.animationSteps);if(ab<0){ab=-ab}a(w,K,I,new Date().getTime(),100,function(){r=w.childNodes[P];if(r!=F){v.onChange(r.childNodes[0].childNodes[0],F.childNodes[0].childNodes[0])}})};var E=null;var G=false;w.onmousedown=function(H){if(p){return}E=setTimeout(function(){E=null;G=true;x(H);if(document.addEventListener){document.addEventListener("mousemove",z);document.addEventListener("mouseup",C)}else{if(document.attachEvent){document.attachEvent("onmousemove",z);document.addEventListener("onmouseup",C)}}},D)};var C=function(I){if(p){return}if(E){clearTimeout(E)}else{if(G){G=false;if(document.removeEventListener){document.removeEventListener("mousemove",z);document.removeEventListener("mouseup",C)}else{if(document.detachEvent){document.detachEvent("onmousemove",z);document.detachEvent("onmouseup",C)}}w.style.cursor="pointer";y();var H=document.getElementsByTagName("body")[0];H.className=H.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};w.onmouseup=C};var h=javaxt.dhtml.utils.merge;var q=javaxt.dhtml.utils.destroy;var e=javaxt.dhtml.utils.onRender;var k=javaxt.dhtml.utils.getRect;var b=javaxt.dhtml.utils.intersects;var m=javaxt.dhtml.utils.getAreaOfIntersection;var i=javaxt.dhtml.utils.addResizeListener;var d=javaxt.dhtml.utils.addShowHide;var c=function(){if(s===true){return}javaxt.dhtml.utils.addNoSelectRule();s=true};n()};
javaxt.dhtml.Checkbox=function(h,q){this.className="javaxt.dhtml.Checkbox";var r=this;var e;var i,p,n,g;var j={label:null,value:null,checked:false,disabled:false,style:{panel:{display:"inline-block",position:"relative"},box:{width:"13px",height:"13px",border:"1px solid #cccccc",borderRadius:"3px",backgroundColor:"#F6F6F6",cursor:"pointer",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap",cursor:"pointer",padding:"1px 0 0 5px"},check:{content:"",display:"block",width:"3px",height:"6px",border:"solid #ffffff",borderWidth:"0 2px 2px 0",transform:"rotate(45deg)",margin:"1px 0 0 4px"},select:{backgroundColor:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},disable:{backgroundColor:"#ffffff",border:"1px solid #ffffff",borderRadius:"3px",cursor:"pointer",opacity:"0.5"},hover:{backgroundColor:"#ededed"}}};var o=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var u={};f(u,q);f(u,j);q=u;e=l("div",h,q.style.panel);if(q.display){console.warn("The 'display' config in the javaxt.dhtml.Checkbox class has been deprecated. Use panel style instead");e.style.display=q.display}r.el=e;c(r);if(q.label){var s=d(e);s.style.fontFamily="inherit";s.style.textAlign="inherit";s.style.color="inherit";var t=s.addRow();i=l("div",t.addColumn(),q.style.box);g=l("div",t.addColumn(),q.style.label);if(k(q.label)){g.appendChild(q.label)}else{g.innerHTML=q.label}a(s)}else{i=l("div",e,q.style.box);a(i)}if(q.disabled===true){r.disable()}if(q.checked===true){r.select()}};var a=function(s){s.unselectable="on";s.onselectstart=function(){return false};s.onmousedown=function(){m(i,"select");return false};var A=function(){if(q.sound!=null){q.sound.play()}r.toggle();r.onClick(i.checked)};var w;var z;var u,t,y,x;var v=false;s.ontouchstart=function(B){v=true;B.preventDefault();u=B.changedTouches[0].pageX;y=B.changedTouches[0].pageY;w=new Date().getTime();z=null;if(i.checked!==true){m(i,"hover")}};s.ontouchend=function(C){z=new Date().getTime();t=C.changedTouches[0].pageX;x=C.changedTouches[0].pageY;var D=Math.sqrt((t-=u)*t+(x-=y)*x);if(D<0){D=-D}var B=z-w;if((B<=500&&D<=10)||(B>500&&D<=10)){A()}};s.onclick=function(){if(!v){A()}};s.onmouseover=function(){if(i.checked!==true){m(i,"hover")}};s.onmouseout=function(){if(i.checked!==true){b(i,"box")}}};this.onClick=function(s){};this.onChange=function(s){};this.enable=function(){n.style.visibility="hidden"};this.disable=function(){if(n){n.style.visibility="visible"}else{n=l("div",q.style.disable);n.style.position="absolute";n.style.zIndex="1";n.style.width="100%";n.style.height="100%";var s=r.el;s.insertBefore(n,s.firstChild)}};this.select=function(s){if(i.checked===true){return}i.checked=true;m(i,"select");if(p){p.style.visibility="visible"}else{p=l("div",i,q.style.check)}if(s===true){return}r.onChange(true)};this.deselect=function(s){if(i.checked===true){i.checked=false;b(i,"box");p.style.visibility="hidden";if(s===true){return}r.onChange(false)}};this.toggle=function(){if(i.checked===true){r.deselect()}else{r.select()}};this.getValue=function(){if(q.value==null){return r.isChecked()}return q.value};this.isChecked=function(){return i.checked};var l=javaxt.dhtml.utils.createElement;var d=javaxt.dhtml.utils.createTable;var c=javaxt.dhtml.utils.addShowHide;var k=javaxt.dhtml.utils.isElement;var f=javaxt.dhtml.utils.merge;var b=function(t,s){javaxt.dhtml.utils.setStyle(t,q.style[s])};var m=function(t,s){javaxt.dhtml.utils.addStyle(t,q.style[s])};o()};
javaxt.dhtml.ComboBox=function(l,A){this.className="javaxt.dhtml.ComboBox";var B=this;var q,b,x;var C,k,u;var z,o;var r={placeholder:false,spellcheck:false,maxVisibleRows:5,scrollbar:true,showMenuOnFocus:true,typeAhead:true,readOnly:false,options:[],addNewOption:false,addNewOptionText:"Add New...",style:{width:"100%",input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},menu:{backgroundColor:"#ffffff",border:"1px solid #ccc",marginTop:"-1px",overflow:"hidden",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.15)"},option:{color:"#363636",whiteSpace:"nowrap",height:"22px",lineHeight:"22px",padding:"0px 4px",cursor:"default"},newOption:{borderTop:"1px solid #ccc",color:"#363636",whiteSpace:"nowrap",height:"24px",lineHeight:"24px",padding:"0px 4px",cursor:"default"},iscroll:null}};var y=function(){if(p(l)){l=document.getElementById(l)}if(!l){return}var K={};i(K,A);i(K,r);A=K;javaxt.dhtml.utils.addNoSelectRule();var F=v("div",l);F.setAttribute("desc",B.className);F.style.width=A.style.width;F.style.position="relative";B.el=F;var O=h(F);O.style.height="";var L=O.addRow();var G=L.addColumn();G.style.width="100%";q=v("input",G);q.type="text";f(q,"input");if(A.readOnly===true){A.spellcheck=false;A.typeAhead=false;q.setAttribute("readonly","true")}if(A.spellcheck===true){}else{q.setAttribute("spellcheck","false")}if(A.placeholder){q.setAttribute("placeholder",A.placeholder)}q.onkeydown=function(P){if(P.keyCode===9){P.preventDefault()}};q.onkeyup=function(P){if(A.readOnly===true){return}if(P.keyCode===9){var Q;if(C.style.visibility!=="hidden"){Q=m()}if(Q){t(Q,true)}else{j()}}else{if(P.keyCode===40){B.showMenu();var Q=m();if(Q){Q.focus()}}else{if(A.typeAhead===true){B.filter()}}}};q.oninput=function(){if(B.isDisabled()===true){return}var P=q.value;var S=q.data;var V=false;var R=q.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();for(var Q=0;Q<k.childNodes.length;Q++){var U=k.childNodes[Q];var T=U.text;if(!T){T=U.innerText}if(p(T)){T=T.toLowerCase()}if(T===R){V=true;q.data=U.value;break}}if(!V){q.data=null}B.onChange(q.value,q.data,P,S)};q.onpaste=q.oninput;q.onpropertychange=q.oninput;g(q);if(A.showMenuOnFocus){q.onclick=function(){if(B.isDisabled()===true){return}B.showMenu(true);d();this.focus()}}b=v("button",L.addColumn());f(b,"button");b.onclick=function(P){b.blur();P.preventDefault();if(C.style.visibility==="hidden"){B.showMenu(true);d()}else{B.hideMenu()}};var D=v("div",F,{position:"relative",width:"100%"});C=v("div",D);C.setAttribute("desc","menuDiv");f(C,"menu");C.style.position="absolute";C.style.visibility="hidden";C.style.display="block";C.style.width="100%";C.style.zIndex=1;C.style.boxSizing="border-box";o=v("div",{position:"relative",width:"100%",height:"100%"});z=o.cloneNode();z.style.position="absolute";z.style.overflow="hidden";o.appendChild(z);k=v("div",z,{position:"relative",width:"100%"});if(A.options){for(var I=0;I<A.options.length;I++){var E=A.options[I];B.add(E.label,E.value)}}if(A.addNewOption===true){var H=h(C);H.style.height="";L=H.addRow();G=L.addColumn({width:"100%",height:"100%",verticalAlign:"top"});G.appendChild(o);G=H.addRow().addColumn();u=v("div",G);f(u,"newOption");var N=c(A.addNewOptionText);u.text=N;u.innerHTML=N;u.tabIndex=-1;var J=function(){B.hideMenu();B.onAddNewOption()};u.onclick=J;u.onkeydown=function(P){if(P.keyCode===9){P.preventDefault()}};u.onkeyup=function(R){if(R.keyCode===9||R.keyCode===13){J()}else{if(R.keyCode===38){var Q;for(var P=k.childNodes.length-1;P>-1;P--){var S=k.childNodes[P];if(S.style.display!=="none"){Q=S;break}}if(Q){Q.focus()}}}};u.onselectstart=function(){return false};u.onmousedown=function(){return false};u.onmouseover=function(){var P=this;B.onMenuHover(N,P.value,P)}}else{C.appendChild(o)}var M=function(P){if(!F.contains(P.target)){B.hideMenu(false)}};if(document.addEventListener){document.addEventListener("click",M)}else{if(document.attachEvent){document.attachEvent("onclick",M)}}g(B)};this.isDisabled=function(){return B.el.disabled};this.enable=function(){var D=B.el;if(x){D.style.opacity="";x.style.visibility="hidden"}D.disabled=false};this.disable=function(){B.hideMenu();var D=B.el;D.style.opacity="0.6";if(x){x.style.visibility="visible"}else{x=v("div",{width:"100%",height:"100%",position:"absolute",zIndex:1});x.setAttribute("desc","mask");D.insertBefore(x,D.firstChild)}D.disabled=true};this.reset=function(){var D=[];var F=q.parentElement;var G=F.childNodes;for(var E=0;E<G.length;E++){if(G[E]!=q){D.push(G[E])}}for(var E=0;E<D.length;E++){F.removeChild(D[E])}q.value="";q.data=null;q.show()};this.setValue=function(G,D){var I=function(L,K,M){if(s(L)){t(M,false,D)}else{q.value=L;q.data=K;if(D===true){return}q.oninput()}};if(G==null||G===""){I("",null);return}for(var E=0;E<k.childNodes.length;E++){var J=k.childNodes[E];if(J.value===G){var H=J.text;if(!H){H=J.innerText}I(H,J.value,J);return}}var F=c(G).toLowerCase();for(var E=0;E<k.childNodes.length;E++){var J=k.childNodes[E];var H=J.text;if(!H){H=J.innerText}if((p(H)&&H.toLowerCase()===F)||H===F){I(H,J.value,J);return}}};this.getValue=function(){return q.data};this.getText=function(){return q.value};this.getOptions=function(){var D=[];for(var E=0;E<k.childNodes.length;E++){var G=k.childNodes[E];var F=G.text;if(!F){F=G.innerText}D.push({text:F,value:G.value,el:G})}return D};this.getInput=function(){return q};this.getButton=function(){return b};this.onChange=function(D,F,E,G){};this.onAddNewOption=function(){};this.onMenuShow=function(){};this.onMenuHide=function(){};this.onMenuContext=function(D,F,E){};this.onMenuHover=function(D,F,E){};this.filter=function(){B.showMenu();var F=q.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();var G=0;var E=0;for(var D=0;D<k.childNodes.length;D++){var I=k.childNodes[D];var H=I.text;if(!H){H=I.innerText}if(s(H)){if(s(q.text)){I.style.display="none"}else{I.style.display="none"}}else{if(H.toLowerCase().indexOf(F)===0){I.style.display="";G++;E=Math.max(I.offsetHeight,E)}else{I.style.display="none"}}}a(G,E)};this.clear=function(){B.reset();B.hideMenu();w();C.style.height="";k.innerHTML=""};this.showMenu=function(G){if(C.style.visibility==="hidden"){if(G===true){for(var E=0;E<k.childNodes.length;E++){k.childNodes[E].style.display=""}}var H=0;var F=0;for(var E=0;E<k.childNodes.length;E++){var J=k.childNodes[E];if(J.style.display!=="none"){H++;F=Math.max(J.offsetHeight,F)}}if(A.addNewOption===true){H++;F=Math.max(u.offsetHeight,F)}if(H>0){a(H,F);var D=e();var I=D.zIndex;if(!D.contains(C)){I++}C.style.zIndex=I;C.style.visibility="";q.style.borderBottomColor=b.style.borderBottomColor="rgba(0,0,0,0)";if(B.iScroll){setTimeout(function(){B.iScroll.scrollTo(0,0);B.iScroll.refresh()},0)}else{z.scrollTop=0}B.onMenuShow()}}};this.hideMenu=function(){if(C.style.visibility!=="hidden"){var D=!q.isVisible();q.style.borderBottomColor=b.style.borderBottomColor="";f(q,"input");f(b,"button");q.style.width="100%";C.style.visibility="hidden";C.style.zIndex=1;if(D){q.hide()}else{if(arguments[0]!==false){q.focus()}}B.onMenuHide()}};var a=function(F,E){if(F>0){if(F>A.maxVisibleRows){n();var D=A.maxVisibleRows*E;if(u){C.style.height=D+"px";D=D-u.offsetHeight;o.style.height=D+"px"}else{C.style.height=D+"px"}}else{w();o.style.height="100%";C.style.height=""}}else{w();o.style.height="100%";C.style.height=""}if(B.iScroll){B.iScroll.refresh()}};var n=function(){z.style.position="absolute";if(A.scrollbar===true){if(typeof IScroll!=="undefined"){if(!B.iScroll){z.style.overflowY="hidden";B.iScroll=new IScroll(z,{scrollbars:A.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(A.style.iscroll){f(B.iScroll,"iscroll")}}if(B.iScroll){B.iScroll.refresh()}}else{z.style.overflowY="scroll"}}else{z.style.overflowY="hidden"}};var w=function(){z.style.position="relative";if(A.addNewOption===true){if(typeof IScroll!=="undefined"){}else{z.style.overflowY=""}}};var d=function(){var H=function(M){if(true){return}if(B.iScroll){setTimeout(function(){B.iScroll.scrollToElement(M);B.iScroll.refresh();M.focus()},100)}else{z.scrollTop=M.offsetTop;M.focus()}};for(var F=0;F<k.childNodes.length;F++){var D=k.childNodes[F];var L=D.text;if(!L){L=D.innerText}if(L===q.value){H(D);return}}var J=q.value;var G=null;var I=0;for(var F=0;F<k.childNodes.length;F++){var D=k.childNodes[F];var L=D.text;if(!L){L=D.innerText}var K=0;for(var E=0;E<Math.min(J.length,L.length);E++){if(J.charAt(E)!==L.charAt(E)){break}K++}if(K>I){G=D;I=K}}if(G){H(G);return}};this.add=function(D,E){var F=v("div",k);f(F,"option");F.setLabel=function(G){if(s(G)){F.appendChild(G)}else{G=c(G);F.innerHTML=G}F.text=G;return G};F.setText=F.setLabel;D=F.setLabel(D);F.value=(typeof E==="undefined")?D:E;F.tabIndex=-1;F.onclick=function(){t(this)};F.onkeydown=function(G){if(G.keyCode===9){G.preventDefault()}};F.onkeyup=function(I){if(I.keyCode===9||I.keyCode===13){t(this,true)}else{if(I.keyCode===38){var G=this.previousSibling;if(G){G.focus()}}else{if(I.keyCode===40){var H=this.nextSibling;if(H){H.focus()}else{if(u){u.focus()}}}}}};F.onselectstart=function(){return false};F.onmousedown=function(){return false};F.oncontextmenu=function(){var H=this;var G=H.text;if(!G){G=H.innerText}B.onMenuContext(G,H.value,H)};F.onmouseover=function(){var H=this;var G=H.text;if(!G){G=H.innerText}B.onMenuHover(G,H.value,H)};return F};this.remove=function(G){for(var E=0;E<k.childNodes.length;E++){var I=k.childNodes[E];if(I.value===G){k.removeChild(I);if(B.getValue()===G){B.setValue("",true)}return}}var F=c(G).toLowerCase();var D=[];for(var E=0;E<k.childNodes.length;E++){var I=k.childNodes[E];var H=I.text;if(!H){H=I.innerText}if(p(H)){H=H.toLowerCase()}if(H===F){D.push(I);if(B.getValue()===I.value){B.setValue("",true)}}}for(E=0;E<D.length;E++){k.removeChild(D[E])}};this.removeAll=function(){k.innerHTML=""};var c=function(D){if(D){if(p(D)||s(D)){}else{D+=""}}else{D=""}return D};var t=function(F,L,K){if(F){var J=q.data;var I=F.value;var E=q.value;var G=F.text;if(!G){G=F.innerText}q.value=G;q.data=I;B.hideMenu();if(I!==J){if(E!==G){B.reset();q.value=G;q.data=I;if(s(G)){var D=v("div",q.parentElement);D.className=q.className;D.style.width="100%";var H=G.cloneNode(true);D.appendChild(H);if(A.showMenuOnFocus){D.onclick=function(){q.onclick()}}q.hide()}else{q.show()}if(K!==true){B.onChange(q.value,q.data,E,J)}}}if(L===true){j()}}};var j=function(){var E=q.form;if(E){for(var D=0;D<E.elements.length;D++){if(E.elements[D]===q&&D<E.elements.length-2){E.elements[D+2].focus();return}}}};var m=function(){for(var D=0;D<k.childNodes.length;D++){var E=k.childNodes[D];if(E.style.display!=="none"){return E}}return null};var i=javaxt.dhtml.utils.merge;var p=javaxt.dhtml.utils.isString;var s=javaxt.dhtml.utils.isElement;var v=javaxt.dhtml.utils.createElement;var h=javaxt.dhtml.utils.createTable;var g=javaxt.dhtml.utils.addShowHide;var e=javaxt.dhtml.utils.getHighestElements;var f=function(E,D){javaxt.dhtml.utils.setStyle(E,A.style[D]);if(E.type==="text"){E.style.width="100%";if(A.readOnly===true){E.className+=" javaxt-noselect";E.style.cursor="default"}}};y()};
javaxt.dhtml.DataGrid=function(parent,config){this.className="javaxt.dhtml.DataGrid";var me=this;var table;var mask;var currPage=1;var eof=false;var pageRequests={};var loading=false;var checkboxHeader;var columns;var rowHeight;var filterName,filter;var defaultStyle={};if(javaxt.dhtml.style){if(javaxt.dhtml.style.default){var tableStyle=javaxt.dhtml.style.default.table;if(tableStyle){defaultStyle=tableStyle;var checkboxStyle=javaxt.dhtml.style.default.checkbox;defaultStyle.checkbox=checkboxStyle;}}}
var defaultConfig={style:defaultStyle,url:"",params:null,payload:null,post:false,limit:50,count:false,autoload:false,localSort:false,fields:[],getResponse:function(url,payload,callback){if(!payload&&config.post==true){var idx=url.indexOf("?");if(idx>-1){payload=url.substring(idx+1);url=url.substring(0,idx);}}
javaxt.dhtml.utils.get(url,{payload:payload,success:function(text,xml,url,request){callback.apply(me,[request]);},failure:function(request){callback.apply(me,[request]);}});},parseResponse:function(request){return[];},update:function(row,record){for(var i=0;i<record.length;i++){row.set(i,record[i]);}},mask:null};var init=function(){config=merge(config,defaultConfig);filterName=config.filterName;if(config.sort==="local")config.localSort=true;if(config.fields){if(!isArray(config.fields)){config.fields=config.fields.split(",");}}
else{config.fields=[];}
var multiselect=config.multiselect;columns=[];for(var i=0;i<config.columns.length;i++){var column=config.columns[i];if(column.field){var addField=true;for(var j=0;j<config.fields.length;j++){if(config.fields[j]==column.field){addField=false;break;}}
if(addField)config.fields.push(column.field);}
else{if(config.localSort!==true){column.sortable=false;}}
var clone={};for(var p in column){if(column.hasOwnProperty(p)){clone[p]=column[p];}}
var header=column.header;if(header==='x'&&!checkboxHeader){clone.header=createCheckbox();var checkbox=clone.header.checkbox;multiselect=true;checkboxHeader={idx:i,isChecked:checkbox.isChecked,check:checkbox.select,uncheck:checkbox.deselect};}
else{clone.header=createHeader(header,column.sortable);}
columns.push(clone);}
setFilter(config.filter);table=new javaxt.dhtml.Table(parent,{multiselect:multiselect,columns:columns,style:config.style});me.el=table.el;mask=config.mask;if(!mask)mask=table.getMask();table.load=function(records,append){if(!append)me.clear();var rows=table.addRows(records.length);var select=false;if(checkboxHeader){select=checkboxHeader.isChecked();}
var isDataStore=(records instanceof javaxt.dhtml.DataStore);for(var i=0;i<rows.length;i++){rows[i].record=isDataStore?records.get(i):records[i];rows[i].update=function(){config.update(this,this.record);};rows[i]._set=rows[i].set;rows[i].set=function(key,val){if(key==='x'){for(var j=0;j<config.columns.length;j++){if(config.columns[j].header==='x'){var field=config.columns[j].field;var col=this.childNodes[j];var obj=col.getContent();if(obj){}
else{val=field?this.record[field]:this.record;var checkboxDiv=createCheckbox(val,this);var checkbox=checkboxDiv.checkbox;if(select)checkbox.select();this._set(j,checkboxDiv);}
return;}}}
else{for(var j=0;j<config.columns.length;j++){if(config.columns[j].header===key&&config.columns[j].wrap===true){val=wrap(val);break;}}
this._set(key,val);}};rows[i]._onclick=rows[i].onclick;rows[i].onclick=function(e){if(checkboxHeader){var insideCheckbox=false;var checkboxCol=this.childNodes[checkboxHeader.idx];var checkboxDiv=checkboxCol.getContent();var rect=_getRect(checkboxDiv);var clientX=e.clientX;var clientY=e.clientY;if(clientX>=rect.left&&clientX<=rect.right){if(clientY>=rect.top&&clientY<=rect.bottom){insideCheckbox=true;}}
if(insideCheckbox){if(this.selected){table.deselect(this);}
else{table.select(this);}
me.onSelectionChange();return;}
else{if(!e.ctrlKey&&!e.shiftKey){var numSelectedRows=0;table.forEachRow(function(row){if(row.selected){numSelectedRows++;if(numSelectedRows>1){e=new MouseEvent("click",{isTrusted:e.isTrusted,view:e.view,bubbles:e.bubbles,cancelable:e.cancelable,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY,altKey:e.altKey,ctrlKey:true});return true;}}});}}}
this._onclick(e);};rows[i].update();}
if(!append)table.update();};table.onSelectionChange=function(rows){if(checkboxHeader){for(var i=0;i<rows.length;i++){var row=rows[i];var checkboxCol=row.childNodes[checkboxHeader.idx];var checkboxDiv=checkboxCol.getContent();var checkbox=checkboxDiv.checkbox;if(row.selected){checkbox.select();}
else{checkbox.deselect();}}}
me.onSelectionChange();};table.onScroll=function(y,maxY,h){var startRow=Math.ceil(y/rowHeight);if(startRow==0)startRow=1;var endRow=Math.ceil((y+h)/rowHeight);var prevPage=currPage;setPage(Math.ceil(endRow/config.limit));var d=Math.abs(maxY-y);if(d<rowHeight){if(!eof){if(currPage===prevPage)setPage(currPage+1);load(currPage);}}
me.onScroll();};table.onHeaderClick=sort;table.onRowClick=function(row,e){me.onRowClick(row,e);};table.onKeyEvent=function(keyCode,modifiers){me.onKeyEvent(keyCode,modifiers);};if(config.autoload===true)load();};this.setFilter=function(newFilter){console.warn("The filter object in the javaxt.dhtml.DataGrid class is a legacy "+"feature and will be removed in the future.");setFilter(newFilter);};var setFilter=function(newFilter){if(!newFilter)newFilter={};if(!filter)filter=newFilter;removeDuplicateParams(newFilter);for(var key in newFilter){if(newFilter.hasOwnProperty(key)){filter[key]=newFilter[key];}}
var deletions=[];for(var key in filter){if(filter.hasOwnProperty(key)){if(newFilter[key]===null||newFilter[key]==='undefined'){deletions.push(key);}}}
for(var i=0;i<deletions.length;i++){var key=deletions[i];delete filter[key];}
for(var j=0;j<columns.length;j++){columns[j].sort=null;var colHeader=columns[j].header;if(colHeader.setSortIndicator)colHeader.setSortIndicator(null);}
if(filter.orderby){var arr=filter.orderby.split(",");for(var i=0;i<arr.length;i++){var field=arr[i].trim();if(field.length>0){var fieldName,sortDirection;field=field.toUpperCase();if(field.endsWith(" ASC")||field.endsWith(" DESC")){var x=field.lastIndexOf(" ");fieldName=field.substring(0,x).trim();sortDirection=field.substring(x).trim();}
else{fieldName=field;sortDirection="ASC";}
for(var j=0;j<columns.length;j++){if(columns[j].field){if(columns[j].field.toUpperCase()===fieldName){columns[j].sort=sortDirection;var colHeader=columns[j].header;if(colHeader.setSortIndicator){colHeader.setSortIndicator(sortDirection);}
break;}}}}}}};this.getFilter=function(){console.warn("The filter object in the javaxt.dhtml.DataGrid class is a legacy "+"feature and will be removed in the future.");return filter;};this.getParams=function(){return config.params;};var setPage=function(page){if(isNaN(page)||page<1)page=1;if(page!=currPage){var prevPage=currPage;currPage=page;me.onPageChange(currPage,prevPage);}};this.getCurrPage=function(){return currPage;};this.getScrollInfo=function(){return table.getScrollInfo();};this.onScroll=function(){};this.onPageChange=function(currPage,prevPage){};this.onSelectionChange=function(){};this.beforeLoad=function(page){};this.onLoad=function(){};this.onError=function(request){};this.onRowClick=function(row,e){};this.onKeyEvent=function(keyCode,modifiers){};this.onCheckbox=function(value,checked,checkbox){};this.onSort=function(idx,sortDirection){};this.forEachRow=function(callback){table.forEachRow(callback);};this.select=function(row){table.select(row);};this.selectAll=function(){table.selectAll();};this.deselectAll=function(){table.deselectAll();};this.clear=function(){table.clear();currPage=1;pageRequests={};};this.remove=function(row){table.removeRow(row);};this.show=function(){table.show();};this.hide=function(){table.hide();};this.focus=function(){table.focus();};this.refresh=function(callback){me.clear();setPage(1);load(1,callback);};this.load=function(){if(arguments.length>0){var records=arguments[0];var page=1;if(arguments.length>1)page=parseInt(arguments[1]);if(isNaN(page)||page<1)page=1;if(isArray(records)||records instanceof javaxt.dhtml.DataStore){me.beforeLoad(page);table.load(records,page>1);setPage(page);calculateRowHeight();if(arguments.length===1){eof=true;}
else{if(records.length<config.limit)eof=true;}
me.onLoad();}}
else{load();}};this.setLimit=function(limit){config.limit=limit;};this.scrollTo=function(obj){if(isElement(obj)){var y=0;table.forEachRow(function(row){if(row==obj){return true;}
y+=row.offsetHeight;});table.scrollTo(0,y);return;}
if(!isNumber(obj))return;var page=parseInt(obj);var y=((page-1)*config.limit)*rowHeight;if(y<0)y=0;var numPagesInGrid=Math.ceil(table.getRowCount()/config.limit);if(page>numPagesInGrid){if(page==numPagesInGrid+1){load(page,function(){table.scrollTo(0,y);});}
else{console.log("Fetch pages! "+numPagesInGrid+" page loaded. Caller wants page "+page+"...");return;}}
else{table.scrollTo(0,y);}};var calculateRowHeight=function(){if(!rowHeight){table.forEachRow(function(row,content){rowHeight=row.offsetHeight;return;});}};this.getSelectedRecords=function(key,callback){var colID;if(key){if(typeof key==="string"){for(var i=0;i<config.fields.length;i++){if(key===config.fields[i]){colID=i;break;}}
if(!colID){for(var i=0;i<config.columns.length;i++){var column=config.columns[i];if(key===column.header){colID=i;break;}}}}}
if(!colID)colID=0;var useCheckbox=false;var selectAll=false;if(checkboxHeader){if(checkboxHeader.idx===colID){useCheckbox=true;if(checkboxHeader.isChecked()){selectAll=true;}}}
var arr=[];table.forEachRow(function(row,content){if(key){if(useCheckbox){var checkboxDiv=content[colID];var checkbox=checkboxDiv.checkbox;if(checkbox.isChecked())arr.push(checkbox.getValue());}
else{if(row.selected)arr.push(row.record[key]);}}
else{if(row.selected)arr.push(row.record);}});if(callback&&selectAll&&!eof){var url=config.url;if(url.indexOf("?")==-1)url+="?";var fieldNames="";if(key){fieldNames=config.columns[colID].field;}
else{for(var i=0;i<config.fields.length;i++){if(i>0)fieldNames+=",";fieldNames+=config.fields[i];}}
url+="fields="+fieldNames+"&count=false&offset="+(currPage*config.limit);url+=encodeParams(config.params);if(filter){for(var key in filter){if(filter.hasOwnProperty(key)){if(key.toLowerCase()!=='orderby'){var str=filter[key];if(str){str=str.trim();if(str.length>0){url+="&"+key+"="+str;}}}}}}
config.getResponse(url,config.payload,function(request){if(request.status===200){var arr=[];var records=config.parseResponse.apply(me,[request]);for(var i=0;i<records.length;i++){var val=records[i][fieldName];if(val)arr.push(val);}
if(callback)callback.apply(me,arr);}
else{me.onError(request);}});}
return arr;};var createHeader=function(label,sortable){var div=document.createElement("div");if(sortable===false){div.style.cursor="default";}
var span=document.createElement("span");span.innerHTML=label;div.appendChild(span);var iconDiv=document.createElement("div");iconDiv.style.position="relative";iconDiv.style.display="inline-block";div.appendChild(iconDiv);var icon=document.createElement("div");iconDiv.appendChild(icon);div.sortIndicator=icon;div.setSortIndicator=function(sortDirection){var className="";if(sortDirection){if(typeof sortDirection==="string"){sortDirection=sortDirection.toUpperCase().trim();if(sortDirection=="ASC"){className=config.style.ascendingSortIcon;}
else if(sortDirection=="DESC"){className=config.style.descendingSortIcon;}}}
this.sortIndicator.className=className;};return div;};var createCheckbox=function(value,row){var div=document.createElement('div');div.style.display="inline-block";div.style.position="relative";var checkbox=new javaxt.dhtml.Checkbox(div,{value:value,style:config.style.checkbox});if(typeof value!=='undefined'){checkbox.onClick=function(checked){var value=this.getValue();me.onCheckbox(value,checked,this);if(checked){}};}
else{checkbox.onClick=function(checked){table.forEachRow(function(row,content){var checkboxDiv=content[checkboxHeader.idx];var checkbox=checkboxDiv.checkbox;if(checked){checkbox.select();}
else{checkbox.deselect();}});};}
div.checkbox=checkbox;return div;};var load=function(page,callback){if(pageRequests[page+""])return;if(loading)return;loading=true;mask.show();pageRequests[page+""]=page;if(page){page=parseInt(page);if(isNaN(page)||page<1)page=1;}
else{page=1;}
if(page==1)eof=false;var fieldNames="";for(var i=0;i<config.fields.length;i++){if(i>0)fieldNames+=",";fieldNames+=config.fields[i];}
me.beforeLoad(page);var params={page:page,limit:config.limit,fields:fieldNames};if(config.params){for(var key in config.params){if(config.params.hasOwnProperty(key)){if(!hasParam(key,params)){if(key.toLowerCase()!=='orderby'){params[key]=config.params[key];}}}}}
if(config.count==true&&page==1)params.count=true;else params.count=false;var orderby="";if(filter){for(var key in filter){if(filter.hasOwnProperty(key)){if(key.toLowerCase()==='orderby'){if(!hasParam(key,params)){orderby=filter[key];orderby=((orderby!=null&&orderby!="")?"&orderby="+encodeURIComponent(orderby):"");}}
else{var str=filter[key];str=str+"";str=str.trim();if(str.length>0){if(!hasParam(key,params)){params[key]=str;}}}}}}
if(orderby.length===0){if(config.params){for(var key in config.params){if(config.params.hasOwnProperty(key)){if(key.toLowerCase()==='orderby'){orderby=config.params[key];orderby=((orderby!=null&&orderby!="")?"&orderby="+encodeURIComponent(orderby):"");}}}}}
var url=config.url;if(url.indexOf("?")==-1)url+="?";url+=encodeParams(params);url+=orderby;config.getResponse(url,config.payload,function(request){if(request.status===200){var records=config.parseResponse.apply(me,[request]);if(records.length===0){eof=true;}
else{if(records.length<config.limit)eof=true;table.load(records,page>1);setPage(page);calculateRowHeight();}
if(callback)callback.apply(me,[]);loading=false;mask.hide();me.onLoad();}
else{loading=false;mask.hide();me.onError(request);}});};var hasParam=function(key,params){for(var k in params){if(params.hasOwnProperty(k)){if(k.toLowerCase()===key.toLowerCase()){return true;}}}
return false;};var encodeParams=function(params){var url="";if(params){for(var key in params){if(params.hasOwnProperty(key)){var val=params[key];if(isArray(val)){for(var i=0;i<val.length;i++){var v=val[i];if(typeof v==="string")v=v.trim();url+="&"+key+"="+encodeURIComponent(v);}}
else{if(typeof val==="string")val=val.trim();url+="&"+key+"="+encodeURIComponent(val);}}}}
return url;};var removeDuplicateParams=function(params){var uniqueProperties={};for(var key in params){if(params.hasOwnProperty(key)){if(!hasParam(key,uniqueProperties)){uniqueProperties[key]=params[key];}}}
var deletions=[];for(var key in params){if(params.hasOwnProperty(key)){if(!uniqueProperties.hasOwnProperty(key)){deletions.push(key);}}}
for(var i=0;i<deletions.length;i++){var key=deletions[i];delete params[key];}};this.setSortIndicator=function(idx,sortDirection){for(var i=0;i<columns.length;i++){var colHeader=columns[i].header;if(colHeader.setSortIndicator){if(i===idx){colHeader.setSortIndicator(sortDirection);columns[i].sort=sortDirection;}
else{colHeader.setSortIndicator(null);columns[i].sort=null;}}}};var sort=function(idx,colConfig,cell,event){if(colConfig.sortable!==true)return;var sort=colConfig.sort;if(sort=="DESC")sort="";else sort="DESC";colConfig.sort=sort;var sortDirection=sort.length==0?"ASC":"DESC";me.setSortIndicator(idx,sortDirection);if(config.localSort){if(typeof config.localSort==="function"){}
var arr=[];var rows=[];table.forEachRow(function(row){var content=row.get(idx);var data=row.record[idx];if(content){if(content.nodeType===1)content=content.innerText;content=content.trim();}
else{content="";}
arr.push(content);row.sortKey=content;rows.push(row);});if(rows.length===0)return;var dates=0;var numbers=0;var nulls=[];for(var i=0;i<arr.length;i++){var val=arr[i];var f=parseFloat(val.replace(/[^0-9\.]+/g,""));if(!isNaN(f)){numbers++;}
else{if(typeof val==="string"){if(val==""||val=="-"||val=="n/a"){nulls.push(i);}
else{var d=new Date(val).getTime();if(!isNaN(d)){dates++;}}}}}
var numericSort=false;if((numbers+nulls.length)===rows.length){numericSort=true;for(var i=0;i<arr.length;i++){var isNull=false;for(var j=0;j<nulls.length;nulls++){if(nulls[j]===i){isNull=true;break;}}
var val=arr[i];var f=isNull?0:parseFloat(val.replace(/[^0-9\.]+/g,""));arr[i]=f;rows[i].sortKey=f;}}
if((dates+nulls.length)===rows.length){numericSort=true;for(var i=0;i<arr.length;i++){var isNull=false;for(var j=0;j<nulls.length;nulls++){if(nulls[j]===i){isNull=true;break;}}
var val=arr[i];var f=isNull?0:new Date(val).getTime();arr[i]=f;rows[i].sortKey=f;}}
if(numericSort){if(sort=="DESC"){arr.sort(function(a,b){return b-a;});}
else{arr.sort(function(a,b){return a-b;});}}
else{arr.sort();if(sort=="DESC"){arr.reverse();}}
var parent=rows[0].parentNode;for(var i=0;i<rows.length;i++){parent.removeChild(rows[i]);}
for(var i=0;i<arr.length;i++){var key=arr[i];for(var j=0;j<rows.length;j++){var row=rows[j];if(row.sortKey==key){row.sortKey=null;parent.appendChild(row);rows.splice(j,1);break;}}}
for(var i=0;i<rows.length;i++){parent.appendChild(rows[i]);}
me.onSort(idx,sortDirection);}
else{if(colConfig.field!=null){me.clear();if(!filter)filter={};filter.orderby=(colConfig.field+" "+sort).trim();me.onSort(idx,sortDirection);load();}}};var wrap=function(obj){if(obj==null)return;var div=document.createElement("div");div.style.height="100%";var maxWidth=300;var content;if(typeof obj==="string"){content=document.createElement("span");content.innerHTML=obj;}
else{content=document.createElement("div");content.style.display="inline-block";content.appendChild(obj);}
div.onmousemove=function(){var content=this.firstChild;var parent=this.parentNode;if(content.offsetWidth>parent.offsetWidth){if(content.offsetWidth>maxWidth){content.style.width=maxWidth+"px";content.style.minHeight="115px";content.style.maxHeight=maxWidth+"px";content.style.whiteSpace="normal";content.style.lineHeight="18px";content.style.display="block";content.style.overflowY="auto";content.style.overflowX="hidden";}
parent.className="grid-overflow-popup";parent.style.width="";parent.style.height="";parent.onmouseout=function(e){var el=e.toElement||e.relatedTarget;if(el.parentNode==this||el==this){return;}
while(el.parentNode){if(el.parentNode==this.firstChild)return;el=el.parentNode;}
content.style="";content.style.display="inline-block";this.className="";this.style.width="100%";this.style.height="100%";};}};div.appendChild(content);return div;};var merge=javaxt.dhtml.utils.merge;var _getRect=javaxt.dhtml.utils.getRect;var isArray=javaxt.dhtml.utils.isArray;var isNumber=javaxt.dhtml.utils.isNumber;var isElement=javaxt.dhtml.utils.isElement;init();};
javaxt.dhtml.DateInput=function(n,c){this.className="javaxt.dhtml.DateInput";var h=this;var m,b,k,f,q;var p;var e={date:null,showMenuOnFocus:false,style:{input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},menu:{backgroundColor:"#fff",border:"1px solid #ccc",borderTop:"0 none"},datePicker:{}},formatDate:function(r){return(r.getMonth()+1)+"/"+r.getDate()+"/"+r.getFullYear()}};var o=function(){if(typeof n==="string"){n=document.getElementById(n)}if(!n){return}var u={};i(u,c);i(u,e);c=u;p=c.formatDate;var r=d("div",n,{position:"relative",display:"inline-block"});r.setAttribute("desc",h.className);h.el=r;var s=j(r);s.style.height="";var t=s.addRow();k=d("input",t.addColumn({width:"100%"}),c.style.input);k.style.width="100%";k.type="text";k.onkeydown=function(v){if(v.keyCode===9){v.preventDefault()}};k.onkeyup=function(v){if(v.keyCode===9){h.hideMenu();g()}else{if(v.keyCode===40){h.showMenu()}}};if(c.showMenuOnFocus){k.onfocus=function(){h.showMenu()}}h.setDate(c.date,true);k.oninput=function(){if(h.isDisabled()===true){return}var w=this.value;if(l(w)){var v=new Date(w);if(b){if(b.style.visibility==="hidden"){}else{m.setDate(v)}}h.onChange(v)}};k.onpaste=k.oninput;k.onpropertychange=k.oninput;f=d("input",t.addColumn(),c.style.button);f.type="button";f.onclick=function(){if(b){if(b.style.visibility==="hidden"){h.showMenu()}else{b.style.visibility="hidden"}}else{h.showMenu()}};a(h)};this.isDisabled=function(){return h.el.disabled};this.enable=function(){var r=h.el;if(q){r.style.opacity="";q.style.visibility="hidden"}r.disabled=false};this.disable=function(){h.hideMenu();var r=h.el;r.style.opacity="0.6";if(q){q.style.visibility="visible"}else{q=d("div",{width:"100%",height:"100%",position:"absolute",zIndex:1});q.setAttribute("desc","mask");r.insertBefore(q,r.firstChild)}r.disabled=true};this.onChange=function(r,s){};this.showMenu=function(){var t=h.getValue();if(!t){t=new Date()}if(m){m.setDate(t);b.style.visibility=""}else{var s=h.el;b=d("div",s,c.style.menu);b.setAttribute("desc","menu");b.style.width="100%";b.style.position="absolute";b.style.zIndex=1;var r=function(u){if(!s.contains(u.target)){b.style.visibility="hidden"}};if(document.addEventListener){document.addEventListener("click",r)}else{if(document.attachEvent){document.attachEvent("onclick",r)}}m=new javaxt.dhtml.DatePicker(b,{date:t,style:c.style.datePicker});m.select();m.onClick=function(u){h.hideMenu();h.setValue(u)}}};this.hideMenu=function(){if(b){b.style.visibility="hidden"}};this.setValue=function(s,r){var t=h.getValue();if(l(s)){if(!s.getTime){s=new Date(s)}k.value=p(s)}else{s=null;k.value=""}if(r===true){return}h.onChange(s,t)};this.getValue=function(){var r=new Date(k.value);if(isNaN(r.getTime())){r=null}return r};this.setDate=function(s,r){h.setValue(s,r)};this.getDate=function(){h.getValue()};var g=function(){var s=k.form;if(s){for(var r=0;r<s.elements.length;r++){if(s.elements[r]===k&&r<s.elements.length-2){s.elements[r+2].focus();return}}}};var i=javaxt.dhtml.utils.merge;var d=javaxt.dhtml.utils.createElement;var j=javaxt.dhtml.utils.createTable;var a=javaxt.dhtml.utils.addShowHide;var l=javaxt.dhtml.utils.isDate;o()};
javaxt.dhtml.DatePicker=function(parent,config){this.className="javaxt.dhtml.DatePicker";var me=this;var defaultConfig={date:new Date(),selectionMode:"day",daysOfWeek:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],allowDeselect:true,style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",backgroundColor:"#ffffff",border:"1px solid #b4cbdd",display:"inline-block"},header:{backgroundColor:"#d9e7f8",height:"25px",lineHeight:"25px"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#555555",textAlign:"center",cursor:"default"},next:{float:"right",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(-45deg)",margin:"7px 10px 0 0",cursor:"pointer"},back:{float:"left",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(135deg)",margin:"7px 0 0 10px",cursor:"pointer"},cell:{width:"18px",height:"18px",lineHeight:"18px",textAlign:"right",padding:"2px 4px 1px 0px",fontSize:"11px",color:"#000000",cursor:"pointer",border:"1px solid #ffffff",margin:"1px"},cellHeader:{color:"#233d6d",fontSize:"10px",lineHeight:"10px",paddingBottom:"0px",paddingTop:"0px",border:"0px",borderTop:"1px solid #bbccff",borderBottom:"1px solid #bbccff"},previousMonth:{color:"#aaaaaa"},nextMonth:{color:"#aaaaaa"},today:{width:"22px",height:"21px",border:"1px solid #FF7373",top:"-1px",left:"-1px"},selectedRow:{},selectedCell:{color:"#000000",fontWeight:"bold",backgroundColor:"#fff4bf",border:"1px solid #bfa52f"}}};var currDate;var startDate;var mainDiv;var todayHighlightDiv;var cells=[];var selectionMode;var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;if(config.style.selected&&!config.style.selectedCell){config.style.selectedCell=config.style.selected;}
selectionMode=config.selectionMode;mainDiv=createElement('div',parent,config.style.panel);mainDiv.style.display="table";me.el=mainDiv;mainDiv.unselectable="on";mainDiv.onselectstart=function(){return false;};mainDiv.onmousedown=function(){return false;};todayHighlightDiv=createElement('div',config.style.today);todayHighlightDiv.style.position="absolute";me.setDate(config.date);};this.setDate=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());me.render(date);me.deselect();for(var i=0;i<cells.length;i++){var d=cells[i].date;if(d.getTime()===date.getTime()){select(cells[i]);return;}}};this.render=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(currDate&&date.getTime()===currDate.getTime())return;var range=computeRange(date);if(startDate){if(startDate.getTime()===range.startDate.getTime()){if(currDate.getTime()!==date.getTime()){currDate=date;me.onUpdate(new Date(currDate));}
return;}}
currDate=date;startDate=range.startDate;var currMonth=currDate.getMonth();var numWeeks=range.numWeeks;mainDiv.innerHTML="";var headerDiv=createElement('div',mainDiv,config.style.header);headerDiv.style.position="relative";var titleDiv=createElement('div',headerDiv,config.style.title);titleDiv.innerHTML=config.months[currMonth]+" "+currDate.getFullYear();titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};var backDiv=createElement('div',headerDiv,config.style.back);backDiv.onclick=function(e){e.preventDefault();e.stopPropagation();me.back();};var nextDiv=createElement('div',headerDiv,config.style.next);nextDiv.onclick=function(e){e.preventDefault();e.stopPropagation();me.next();};var table=createTable(mainDiv);table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";var tr=table.addRow();for(var i=0;i<7;i++){var td=tr.addColumn();td.style.fontFamily="inherit";td.innerHTML=config.daysOfWeek[i];addStyle(td,"cell");addStyle(td,"cellHeader");}
cells=[];var d=new Date(startDate);for(var i=0;i<numWeeks;i++){tr=table.addRow();for(var j=0;j<7;j++){var td=tr.addColumn();td.style.fontFamily="inherit";var cell=createElement('div',td);cell.style.position="relative";cell.style.fontFamily="inherit";cell.date=new Date(d);cell.selected=false;cells.push(cell);var div1=createElement('div',cell);div1.style.fontFamily="inherit";div1.innerHTML=d.getDate();addStyle(cell,"cell");var month=d.getMonth();var monthOffset=0;if(month!==currMonth){if(i===0){monthOffset=-1;addStyle(cell,"previousMonth");}
else{monthOffset=1;addStyle(cell,"nextMonth");}}
cell.monthOffset=monthOffset;cell.onclick=function(e){var cell=this;var dateRange=select(cell);me.onClick(new Date(cell.date),dateRange);};d.setDate(d.getDate()+1);}}
highlightTodaysDate();function scheduledTask(){var now=new Date();var night=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,0,0,0);var msToMidnight=night.getTime()-now.getTime();setTimeout(function(){highlightTodaysDate();scheduledTask();},msToMidnight);}
scheduledTask();me.onUpdate(new Date(currDate));};var highlightTodaysDate=function(){if(todayHighlightDiv.parentNode){var cell=todayHighlightDiv.parentNode;cell.removeChild(todayHighlightDiv);}
var now=new Date();for(var x=0;x<cells.length;x++){var cell=cells[x];var d=cell.date;if(d.getFullYear()===now.getFullYear()&&d.getMonth()===now.getMonth()&&d.getDate()===now.getDate())
cell.appendChild(todayHighlightDiv);}};this.select=function(date){if(!date)return;var cell;for(var x=0;x<cells.length;x++){var _cell=cells[x];var _date=_cell.date;if(_date.getDate()===date.getDate()&&_date.getMonth()===date.getMonth()&&_date.getFullYear()===date.getFullYear()){cell=_cell;break;}}
if(cell)select(cell);};var select=function(cell){if(selectionMode==="day"){var d=new Date(cell.date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(cell===_cell){if(config.allowDeselect){deselect(_cell);return[];}
else{return[d];}}
else{deselect(_cell);}
break;}}
cell.selected=true;addStyle(cell,"selectedCell");return[d];}
else if(selectionMode==="week"){var parentRow=cell.parentNode.parentNode;addStyle(parentRow,"selectedRow");var d1=new Date(parentRow.childNodes[0].childNodes[0].date);var d2=new Date(parentRow.childNodes[parentRow.childNodes.length-1].childNodes[0].date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.parentNode.parentNode===parentRow){if(_cell.selected){if(config.allowDeselect){for(var y=0;y<cells.length;y++){if(cells[y].selected)deselect(cells[y]);}
return[];}
else{return[d1,d2];}}
_cell.selected=true;addStyle(_cell,"selectedCell");}
else{var row=_cell.parentNode.parentNode;row.style='';row.className='';row.removeAttribute("class");if(_cell.selected)deselect(_cell);}}
return[d1,d2];}
else{return[];}};this.deselect=function(){for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(config.allowDeselect){}
deselect(_cell);}}};var deselect=function(_cell){_cell.selected=false;_cell.style='';_cell.className='';_cell.removeAttribute("class");_cell.style.position="relative";addStyle(_cell,"cell");switch(_cell.monthOffset){case-1:addStyle(_cell,"previousMonth");break;case 1:addStyle(_cell,"nextMonth");break;}};this.getSelectionMode=function(){return selectionMode;};this.setSelectionMode=function(str){selectionMode=str;};this.getSelectedCells=function(){var selectedCells=[];for(var x=0;x<cells.length;x++){var cell=cells[x];if(cell.selected)selectedCells.push(cell);}
return selectedCells;};this.onClick=function(date,dateRange){};this.onHeaderClick=function(headerDiv,e){};this.onUpdate=function(date){};this.back=function(){var m=currDate.getMonth()-1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.next=function(){var m=currDate.getMonth()+1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.getMonth=function(){return currDate.getMonth();};this.getYear=function(){return currDate.getFullYear();};var computeRange=function(d){var year=d.getFullYear();var month=d.getMonth()+1;var firstOfMonth=new Date(year,month-1,1);var lastOfMonth=new Date(year,month,0);var numWeeks=Math.ceil((firstOfMonth.getDay()+lastOfMonth.getDate())/7);var startDate=new Date(firstOfMonth);startDate.setDate(startDate.getDate()-firstOfMonth.getDay());var endDate=new Date(lastOfMonth);endDate.setDate(endDate.getDate()+(6-lastOfMonth.getDay()));return{numWeeks:numWeeks,startDate:startDate,endDate:endDate};};var merge=javaxt.dhtml.utils.merge;var createElement=javaxt.dhtml.utils.createElement;var createTable=javaxt.dhtml.utils.createTable;var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};
javaxt.dhtml.Form=function(p,H){this.className="javaxt.dhtml.Form";var I=this;var t={onsubmit:null,items:[],style:{spacing:"8px",form:{padding:"5px 5px 0 5px"},label:{color:"#363636",whiteSpace:"nowrap",cursor:"default",paddingRight:"8px"},addColon:true,icon:{},input:{borderRadius:"4px",color:"#363636",display:"inline-block",fontSize:"14px",height:"26px",lineHeight:"26px",padding:"4px 6px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset",boxSizing:"border-box"},radio:{margin:0,padding:0},checkbox:{margin:0,padding:0},buttons:{padding:"0px 5px 3px 5px",textAlign:"right"},button:{borderRadius:"3px",color:"#363636",display:"inline-block",fontSize:"14px",width:"80px",height:"26px",lineHeight:"26px",verticalAlign:"middle",textAlign:"center",backgroundColor:"#e4e4e4",border:"1px solid #b4b4b4",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",textShadow:"1px 1px 0px rgb(255, 255, 255)",cursor:"pointer",marginLeft:"7px"},groupbox:{border:"1px solid #ccc",borderRadius:"4px",padding:"16px 8px 12px 13px"},grouplabel:{margin:"8px 0 0 7px",backgroundColor:"white",padding:"0 5px 0 5px",color:"rgb(0, 70, 138)"}}};var b;var e;var v,A;var C;var c=[];var F=[];var B=[];var z=function(){if(typeof p==="string"){p=document.getElementById(p)}if(!p){return}var O={};k(O,H);k(O,t);H=O;C=H.style.spacing;b=w("form",p,{padding:0,margin:0,height:"100%"});b.setAttribute("desc",I.className);if(H.onsubmit){b.onsubmit=H.onsubmit}else{b.onsubmit=function(S){S.preventDefault()}}I.el=b;e=f("100%","100%",I.className);b.appendChild(e);var J=e.addRow();J.setAttribute("desc","formRow");var P=J.addColumn(H.style.form);P.style.width="100%";P.style.height="100%";P.style.verticalAlign="top";v=f("100%");P.appendChild(v);if(H.items){for(var L=0;L<H.items.length;L++){var R=H.items[L];if(R.group){n(R.group,R.items,R.hidden)}else{y(R)}}}if(H.buttons){for(var L=0;L<H.buttons.length;L++){var M=H.buttons[L];var K=M.name;var N=true;var Q=M.onclick;I.addButton(K,N,Q)}}l(p,function(){I.resize()});h(p,I.resize)};this.onChange=function(J,K){};this.onResize=function(){};this.resize=function(){for(var J=0;J<F.length;J++){i(F[J])}I.onResize()};this.getForm=function(){return b};this.reset=function(){b.reset()};this.clear=function(){for(var K=0;K<b.elements.length;K++){var J=b.elements[K];var L=J.type;switch(L){case"text":case"textarea":case"password":case"hidden":J.value="";break;case"radio":case"checkbox":J.checked="";break;case"select-one":J.options[0].selected=true;break;case"select-multiple":for(var M=0;M<J.options.length;M++){J.options[M].selected=false}break}}for(var K=0;K<c.length;K++){var J=c[K];if(J.clear){J.clear()}}};this.getData=function(){var L={};for(var N=0;N<c.length;N++){var K=c[N];var M=K.name;var P=K.getValue();var O=L[M];if(O){var J=[];if(O instanceof Array){J=O}J.push(P);L[M]=J}else{L[M]=P}}return L};this.getFormData=function(){var N=new FormData();var M=I.getData();for(var L in M){if(M.hasOwnProperty(L)){var O=M[L];if(O instanceof Array){var J=O;for(var K=0;K<J.length;K++){N.append(L,O)}}else{N.append(L,O)}}}return N};this.addButton=function(J,N,R){if(!A){A=e.addRow();A.setAttribute("desc","buttonRow");var P=A.addColumn(H.style.buttons);var L=f();var Q=w("div",P);Q.style.display="inline-block";Q.appendChild(L);var M=H.style.buttons.textAlign;if(M===null){M="right"}else{M=M.toLowerCase()}if(M==="fit"){L.style.width="100%"}else{if(M==="right"){L.align="right"}else{if(M==="center"){L.align="center"}}}A=L.addRow()}var K=A.addColumn();if(J.toLowerCase()==="spacer"){K.style.width="100%"}else{var O=w("input",K);O.type="button";O.name=J;O.value=J;O.onclick=R;d(O,"button");B.push(O)}};this.getButton=function(J){for(var K=0;K<B.length;K++){if(B[K].name===J){return B[K]}}return null};this.getButtons=function(){return B};var j=function(K){var N=K.type;var J=K.name;var P=K.label;var O=K.icon;var R=K.value;var Q;if(N=="textarea"){Q=w("textarea");d(Q,"input");Q.style.lineHeight="normal";Q.style.resize="none";Q.style.height="100px";if(K.height){Q.style.height=K.height}if(K.spellcheck===false){Q.setAttribute("spellcheck","false")}}else{Q=w("input");d(Q,"input");Q.type=N;if(K.placeholder){Q.setAttribute("placeholder",K.placeholder)}if(K.spellcheck===true){}else{Q.setAttribute("spellcheck","false")}}Q.name=J;if(R!=null){Q.value=R}Q.style.width="100%";Q.setAttribute("autocomplete","off");var M=function(){return Q.value};var L=function(V,U){if(typeof V==="undefined"){V=""}var T=Q.value!=V;if(!T){if(V===0&&parseInt(Q.value+"")!==0){T=true}}if(T){Q.value=V;if(U===true){return}Q.oninput()}};var S=q(J,P,Q,M,L,O);Q.oninput=function(){I.onChange(S,Q.value)};Q.onpaste=Q.oninput;Q.onpropertychange=Q.oninput};var D=function(M,N){var L=w("textarea",b);L.style.display="none";L.name=M;if(N!=null){L.value=N}var K=function(){return L.value};var O=function(Q,P){if(typeof Q==="undefined"){Q=""}if(L.value!=Q){L.value=Q;if(P===true){return}L.onchange()}};var J={name:M,label:null,row:null,getValue:K,setValue:O};L.onchange=function(){I.onChange(J,L.value)};c.push(J)};var o=function(Q,ab,aa){var O;var N=aa.options;var R=aa.alignment;var Z=f("100%");var K;var J=[];for(var Y=0;Y<N.length;Y++){if(R=="vertical"){K=Z.addRow()}else{if(Y==0){K=Z.addRow()}}var P=K.addColumn();var T=f();var U=T.addRow();var W=U.addColumn();var V=U.addColumn();P.appendChild(T);var S=w("input",W,H.style.radio);S.type="radio";S.name=ab;S.value=N[Y].value;if(N[Y].checked===true||N[Y].selected==true){S.checked=true}S.onchange=function(){I.onChange(O,M())};J.push(S);var X=w("span",V,H.style.label);X.innerHTML=N[Y].label;X.input=S;X.onclick=function(){if(this.input.disabled==true){return}this.input.checked=true;this.input.focus();a(this.input,"change")}}var M=function(){for(var ac=0;ac<J.length;ac++){if(J[ac].checked){return J[ac].value}}return null};var L=function(af,ac){var ae=0;for(var ad=0;ad<J.length;ad++){if((J[ad].value+"")==(af+"")){if(J[ad].checked!==true){ae++}J[ad].checked=true}else{J[ad].checked=false;if(J[ad].checked===true){ae++}}}if(ac===true){return}if(ae>0){I.onChange(O,M())}};O=q(ab,Q,Z,M,L,aa.icon);O.enable=function(){for(var ac=0;ac<J.length;ac++){J[ac].disabled=false}var ad=Z.getRows();for(var ac=0;ac<ad.length;ac++){ad[ac].style.opacity=""}};O.disable=function(){for(var ac=0;ac<J.length;ac++){J[ac].disabled=true}var ad=Z.getRows();for(var ac=0;ac<ad.length;ac++){ad[ac].style.opacity="0.6"}}};var G=function(Q,ab,aa){var O;var N=aa.options;var R=aa.alignment;var Z=f("100%");var K;var J=[];for(var Y=0;Y<N.length;Y++){if(R=="horizontal"){if(Y==0){K=Z.addRow()}}else{K=Z.addRow()}var P=K.addColumn();var T=f();var U=T.addRow();var W=U.addColumn();var V=U.addColumn();P.appendChild(T);var S=w("input",W,H.style.checkbox);S.type="checkbox";S.name=ab;S.value=N[Y].value;if(N[Y].checked===true||N[Y].selected==true){S.checked=true}S.onchange=function(){I.onChange(O,M())};J.push(S);var X=w("span",V,H.style.label);X.innerHTML=N[Y].label;X.input=S;X.onclick=function(){if(this.input.disabled==true){return}this.input.checked=!this.input.checked;a(this.input,"change")}}var M=function(){var ac="";for(var ad=0;ad<J.length;ad++){if(J[ad].checked){if(ac.length>0){ac+=","}ac+=J[ad].value}}return ac.length==0?null:ac};var L=function(ah,ae){if(!ah){ah=[ah]}else{if(!r(ah)){if(typeof ah==="string"){ah=ah.split(",")}else{ah=[ah]}}}var ag=0;for(var af=0;af<J.length;af++){var ad=J[af];var ai=null;for(var ac=0;ac<ah.length;ac++){if((ad.value+"")==(ah[ac]+"")){ai=ah[ac];break}}if((ad.value+"")==(ai+"")){if(ad.checked!==true){ag++}ad.checked=true}else{ad.checked=false;if(ad.checked===true){ag++}}}if(ae===true){return}if(ag>0){I.onChange(O,M())}};O=q(ab,Q,Z,M,L,aa.icon);O.enable=function(){for(var ac=0;ac<J.length;ac++){J[ac].disabled=false}var ad=Z.getRows();for(var ac=0;ac<ad.length;ac++){ad[ac].style.opacity=""}};O.disable=function(){for(var ac=0;ac<J.length;ac++){J[ac].disabled=true}var ad=Z.getRows();for(var ac=0;ac<ad.length;ac++){ad[ac].style.opacity="0.6"}}};var n=function(ae,V,W){var N=v.addRow();N.setAttribute("desc","-- Group Start --");var aa,J,Z,O,ac,T;var Y=m();if(Y){aa=Y.paddingLeft;J=Y.paddingRight;Z=Y.paddingTop;O=Y.paddingBottom;ac=Y.borderLeft+Y.borderRight;T=Y.borderTop+Y.borderBottom}else{aa=parseInt(C);J=aa;Z=aa*2;O=Z;ac=2;T=ac}var P=N.addColumn();P.style.padding=(parseInt(C)*2)+"px "+ac+"px "+Z+"px 0";P.colSpan=3;var U=w("div",P);U.style.position="relative";U.style.width="100%";U.style.visibility="hidden";U.style.display="block";var ad=w("div",U);d(ad,"groupbox");ad.style.padding=0;ad.style.position="absolute";ad.style.width="100%";ad.style.zIndex=-1;var Q=w("div",U);d(Q,"grouplabel");Q.style.position="absolute";Q.style.left=0;Q.style.top=-(Z+T)+"px";Q.innerHTML=ae;Q.style.zIndex=-1;for(var X=0;X<V.length;X++){if(W===true){V[X].hidden=true}y(V[X])}var L=v.addRow();L.setAttribute("desc","-- Group End --");var P=L.addColumn();P.style.padding=(parseInt(C)+O)+"px 0 0 0";P.colSpan=3;var ab=function(){var ai=[];var af=false;var aj=v.getRows();for(var ag=0;ag<aj.length;ag++){var ah=aj[ag];if(ah===N){af=true}if(af){ai.push(ah);if(ah===L){af=false;break}}}return ai};var M=function(af){af=af-parseInt(C);af+=(Z+O);ad.style.height=af+"px";U.style.visibility=""};var R=ab();for(var X=1;X<R.length-1;X++){var K=R[X];var S=K.childNodes;S[0].style.paddingLeft=aa+"px";S[S.length-1].style.paddingRight=(J+ac)+"px"}F.push({name:ae,getRows:ab,setHeight:M});E(ae,W)};this.getGroups=function(){return F};this.showGroup=function(J){E(J,false)};this.hideGroup=function(J){E(J,true)};var E=function(O,K){var N;for(var J=0;J<F.length;J++){if(F[J].name===O){N=F[J];break}}if(N){var M=N.getRows();for(var J=0;J<M.length;J++){var L=M[J];if(K){L.style.visibility="hidden";L.style.display="none"}else{L.style.display="";L.style.visibility=""}}}};var y=function(U){var N=U.type;var J=U.name;var Q=U.label;var O=U.icon;var R=U.value;if(typeof N==="string"){if(N==="text"||N==="password"||N==="textarea"){j(U)}else{if(N==="radio"){o(Q,J,U)}else{if(N==="checkbox"){G(Q,J,U)}else{if(N==="hidden"){D(J,R)}}}}}else{var K;var M,L;var P=N;if(P.tagName){if(P.tagName.toLowerCase()==="input"){K=P;M=function(){return P.value};L=function(W,V){if(typeof W==="undefined"){W=""}if(P.value!=W){P.value=W;if(V===true){return}P.onchange()}};var T=q(J,Q,K,M,L,O);P.onchange=function(){I.onChange(T,P.value)}}}else{if(P.el&&P.getValue){var T=q(J,Q,P.el,P.getValue,P.setValue,O);for(var S in P){if(P.hasOwnProperty(S)){if(typeof P[S]==="function"){T[S]=P[S]}}}P.onChange=function(){I.onChange(T,P.getValue())}}}}};var q=function(J,Q,K,N,M,O){var R=v.addRow();var L=R.addColumn();if(O){d(L,"icon");w("div",L,O)}R.appendChild(x(Q));L=R.addColumn();L.style.width="100%";L.style.paddingBottom=C;L.appendChild(K);var P={name:J,label:Q,row:R,getValue:N,setValue:M};c.push(P);return P};var x=function(J){var K=w("td",H.style.label);K.style.paddingBottom=C;K.onselectstart=function(){return false};K.onmousedown=function(){return false};if(J!=null){J=J.replace(/^\s*/,"").replace(/\s*$/,"");if(J.length>0){if(J.indexOf(":")!=J.length&&H.style.addColon===true){J+=": "}else{J+=" "}}}if(J!=null){K.innerHTML=J}return K};this.enableField=function(L){var N=I.findField(L);if(N){var O=N.row;for(var M=0;M<O.childNodes.length;M++){var J=O.childNodes[M];var K=1;if(M===2){if(N.enable){N.enable();K=""}else{J.childNodes[0].disabled=false}}J.style.opacity=K}return true}return false};this.disableField=function(L){var N=I.findField(L);if(N){var O=N.row;for(var M=0;M<O.childNodes.length;M++){var J=O.childNodes[M];var K="0.6";if(M===2){if(N.disable){N.disable();K=""}else{J.childNodes[0].disabled=true}}J.style.opacity=K}return true}return false};this.hideField=function(J){var L=I.findField(J);if(L){var M=L.row;M.style.visibility="hidden";M.style.display="none";var K=g(M);if(K){i(K)}return true}return false};this.showField=function(J){var L=I.findField(J);if(L){var M=L.row;M.style.visibility="";M.style.display="";var K=g(M);if(K){i(K)}return true}return false};this.getValue=function(J){var K=I.findField(J);if(K){return K.getValue()}return null};this.setValue=function(K,L,J){var M=I.findField(K);if(M){M.setValue(L,J);return true}return false};this.findField=function(J){for(var K=0;K<c.length;K++){if(c[K].name===J){return c[K]}}for(var K=0;K<c.length;K++){if(c[K].label===J){return c[K]}}return null};var g=function(O){for(var K=0;K<F.length;K++){var N=F[K];var M=N.getRows();for(var J=0;J<M.length;J++){var L=M[J];if(L===O){return N}}}return null};var i=function(N){var M=N.getRows();var K=N.setHeight;var J=[];for(var L=1;L<M.length-1;L++){J.push(M[L])}s(J,K)};var m=function(){if(H.groupbox){return H.groupbox}var L=w("div",H.style.groupbox);L.style.position="absolute";L.style.visibility="hidden";L.style.display="block";var K=document.getElementsByTagName("body")[0];K.appendChild(L);var M=L.currentStyle||window.getComputedStyle(L);var J=function(O){if(M.getPropertyValue){var N=M.getPropertyValue(O);if(N&&N.length>0){return N}O=O.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return M.getPropertyValue(O)}else{return M[O]}};H.groupbox={paddingTop:parseInt(J("paddingTop")),paddingBottom:parseInt(J("paddingBottom")),paddingLeft:parseInt(J("paddingLeft")),paddingRight:parseInt(J("paddingRight")),borderLeft:parseInt(J("borderLeftWidth")),borderRight:parseInt(J("borderRightWidth")),borderTop:parseInt(J("borderTopWidth")),borderBottom:parseInt(J("borderBottomWidth"))};K.removeChild(L);L=null;return H.groupbox};var s=function(L,O){var M=function(){var Q=0;for(var P=0;P<L.length;P++){if(L[P].style.display!=="none"){Q+=L[P].offsetHeight}}return Q};var K=M(L);if(K===0||isNaN(K)){var N;var J=function(){var P=M();if(P===0||isNaN(P)){N=setTimeout(J,100)}else{clearTimeout(N);O.apply(I,[P])}};N=setTimeout(J,100)}else{O.apply(I,[K])}};var u=function(N){var K=N.split(".");var M=(window||this);for(var L=0,J=K.length;L<J;L++){M=M[K[L]]}if(typeof M!=="function"){throw new Error("function not found")}return M};var a=function(K,L){if("createEvent" in document){var J=document.createEvent("HTMLEvents");J.initEvent(L,false,true);K.dispatchEvent(J)}else{K.fireEvent("on"+L)}};var f=function(K,J,M){var L=javaxt.dhtml.utils.createTable();if(K){L.style.width=K}else{L.style.width=""}if(J){L.style.height=J}else{L.style.height=""}if(M){L.setAttribute("desc",M)}return L};var d=function(K,J){javaxt.dhtml.utils.setStyle(K,H.style[J])};var k=javaxt.dhtml.utils.merge;var h=javaxt.dhtml.utils.onRender;var w=javaxt.dhtml.utils.createElement;var l=javaxt.dhtml.utils.addResizeListener;var r=javaxt.dhtml.utils.isArray;z()};
javaxt.dhtml.Keypad=function(k,e){this.className="javaxt.dhtml.Keypad";var h=this;var d=0;var b;var f={maxDecimals:2,border:"1px solid #969696",background:"#D2D6DC",buttonWidth:70,buttonHeight:null,buttonSpacing:20,buttonColor:"#FDFDFE",buttonRadius:"5px 5px 5px 5px",buttonBorder:"1px solid #d1d1d1",highlight:"#EDF3FE",fontFamily:"Helvetica,arial,verdana,sans-serif",fontSize:null,fontColor:"#656565",sound:null};var m=function(){var u={};i(u,e);i(u,f);e=u;b=document.createElement("div");b.style.width=(e.buttonWidth*3)+(e.buttonSpacing*4);b.style.display="block";b.style.border=e.border;b.style.backgroundColor=e.background;if(k==null||k.tagName=="INPUT"){b.style.position="absolute";b.style.top=b.style.left=0;b.style.display="none";document.getElementsByTagName("body")[0].appendChild(b)}else{k.appendChild(b)}var r=document.createElement("table");r.style.borderCollapse="separate";r.style.borderSpacing=e.buttonSpacing;r.cellSpacing=e.buttonSpacing;r.cellPadding=0;r.style.border=0;var p=document.createElement("tbody");r.appendChild(p);b.appendChild(r);var n=1;for(var q=0;q<4;q++){var s=document.createElement("tr");p.appendChild(s);for(var o=0;o<3;o++){var t=document.createElement("td");s.appendChild(t);if(q<3){j(t,n,function(w,v){c(v)});n++}else{if(o==0){if(e.maxDecimals>0){j(t,".",function(w,v){c(v)})}}else{if(o==1){j(t,0,function(w,v){c(v)})}else{t=j(t,"",l);g(t)}}}}}};var j=function(q,x,u){var p=parseInt(e.buttonWidth);var y=e.buttonHeight==null?p:parseInt(e.buttonHeight);q.style.background=e.buttonColor;q.style.borderRadius=e.buttonRadius;q.style.border=e.buttonBorder;q.style.width=p;q.style.height=y;q.style.cursor="pointer";q.style.textAlign="center";q.style.verticalAlign="middle";q.style.color=e.fontColor;q.style.fontFamily=e.fontFamily;q.style.fontSize=e.fontSize==null?Math.min(p,y)/2:e.fontSize;q.innerHTML=x;q.unselectable="on";q.onselectstart=function(){return false};q.onmousedown=function(){return false};var A=function(){if(e.sound!=null){e.sound.play()}u.apply(h,[q,x])};var r;var z;var o,n,v,t;var w=true;q.ontouchstart=function(B){w=false;q.style.background=e.highlight;B.preventDefault();o=B.changedTouches[0].pageX;v=B.changedTouches[0].pageY;r=new Date().getTime();z=null};q.ontouchend=function(B){z=new Date().getTime();n=B.changedTouches[0].pageX;t=B.changedTouches[0].pageY;s();setTimeout(function(){q.style.background=e.buttonColor},50)};function s(){var C=Math.sqrt((n-=o)*n+(t-=v)*t);if(C<0){C=-C}var B=z-r;if(B<=500&&C<=10){A()}if(B>500&&C<=10){A()}if(B<=100&&C>10){}if(B>100&&C>10){}}q.onclick=function(){if(w){A()}};q.onmouseover=function(){q.style.background=e.highlight};q.onmouseout=function(){q.style.background=e.buttonColor};return q};var g=function(u){var r=Math.round(parseInt(u.style.fontSize)*0.7);var n=2;var o=Math.round(r/2)-(n/2);var t=parseInt(u.style.width)-(r+o);var s=document.createElement("div");s.style.cssFloat="left";s.style.width=s.style.height=0;s.style.borderTop=s.style.borderBottom=o+"px solid transparent";s.style.borderRight=o+"px solid "+e.fontColor;s.style.paddingLeft=t/2;s.style.paddingTop=(n/2)+1;var q=document.createElement("div");q.style.background=e.fontColor;q.style.color=e.buttonColor;q.style.borderRadius="1px "+n+"px "+n+"px 1px";q.style.cssFloat="left";q.style.width=q.style.height=r;var p=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(p){a("&#10005;",r*0.8,q)}else{a("&#10060;",r*0.6,q)}u.appendChild(s);u.appendChild(q)};var a=function(s,q,o){var p=document.createElement("table");p.style.width="100%";p.style.height="100%";p.style.margin="0 0 0 -1px";p.cellSpacing=0;p.cellPadding=0;p.style.border=0;var n=document.createElement("tbody");p.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var t=document.createElement("td");r.appendChild(t);t.style.cursor="pointer";t.style.textAlign="center";t.style.verticalAlign="middle";t.style.lineHeight=0;t.style.fontSize=q;t.style.color=e.buttonColor;t.innerHTML=s;o.appendChild(p)};var c=function(n){if(isNaN(d)){d=0}var p=d+"";if(n=="."){if((d+"").indexOf(".")==-1){d=d+"."}}else{if(n>=0&&n<=9){if(!isNaN(e.maxDecimals)){var o=(d+"").indexOf(".");if(o>-1){var q=(d+"").substring(o+1);if(q.length>=e.maxDecimals){return}}}if(o>-1&&n==0){d=d+"0"}else{d=parseFloat(d+""+n)}}}if(d+""!=p){h.onchange(d)}};var l=function(){var o=d+"";d=d+"";var n=d.length;if(n==0||n==1){d=0}else{d=d.substring(0,n-1)}if(d+""!=o){h.onchange(d)}};this.clear=function(){var n=d+"";d=0;if(d+""!=n){h.onchange(d)}};this.onchange=function(n){};this.setValue=function(o,n){var p=d+"";if(isNaN(o)){o=0}d=o;if(d+""!=p){if(n==true){}else{h.onchange(d)}}};this.getValue=function(){return d};this.show=function(){b.style.display="block"};this.hide=function(){b.style.display="none"};var i=javaxt.dhtml.utils.merge;m()};
javaxt.dhtml.MenuLayout=function(l,v){this.className="javaxt.dhtml.MenuLayout";var w=this;var o={animationSteps:250,transitionEffect:"linear",fx:null,menuWidth:250,menuPosition:"left",title:"",style:{header:{height:"35px",backgroundColor:"#777777",color:"#FFFFFF"},title:{lineHeight:"35px",position:"absolute",width:"100%",whiteSpace:"nowrap",fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"20px",color:"white",textAlign:"center",cursor:"pointer"},menu:{backgroundColor:"#4BB5EF"},menuIcon:{},body:{}}};var g;var x;var b;var y;var j;var u;var z;var a,m;var c;var s=false;var r=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var H={};h(H,v);o.style.menuIcon=e;h(H,o);v=H;a=v.menuWidth;m=v.menuPosition;if(m==="right"){}else{m="left"}z=v.title;var A=q("div",l,{width:"100%",height:"100%",position:"relative"});A.setAttribute("desc",w.className);w.el=A;var C=d(A);C.setAttribute("desc",w.className);var E=C.addRow();var G=E.addColumn({width:"100%",height:"100%",border:"0px",verticalAlign:"top"});g=q("div",G,{width:"100%",height:"100%",position:"relative"});var B=q("div",g,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});x=q("div",B,{width:(g.offsetWidth+a)+"px",height:"100%",position:"relative",marginLeft:(m==="left"?-a:0)+"px"});if(v.fx){v.fx.setTransition(x,v.transitionEffect,v.animationSteps)}C=d(x);E=C.addRow();var D=E.addColumn({height:"100%",verticalAlign:"top"});if(m==="right"){D.style.width="100%"}var F=E.addColumn({height:"100%",verticalAlign:"top"});if(m==="left"){F.style.width="100%"}y=q("div",v.style.menu);y.style.height="100%";y.style.width=a+"px";if(m==="left"){D.appendChild(y)}else{F.appendChild(y)}C=d();E=C.addRow();b=E.addColumn(v.style.header);b.style.width="100%";E=C.addRow();j=E.addColumn(v.style.body);j.style.width="100%";j.style.height="100%";j.style.verticalAlign="top";if(m==="left"){F.appendChild(C)}else{D.appendChild(C)}f(j,function(){b.appendChild(n());i(g,function(){w.resize();w.onResize()});window.scrollTo(0,1)})};var n=function(){var B=d();var D=B.addRow();var C=D.addColumn();var A=D.addColumn({width:"100%",height:"100%"});A.appendChild(k());var F=D.addColumn();var E=(m==="left")?C:F;E.onclick=function(){var G=parseFloat(x.style.marginLeft);if(G<0){w.showMenu()}else{w.hideMenu()}};if(typeof v.style.menuIcon==="function"){c=v.style.menuIcon()}else{c=q("div",v.style.menuIcon)}E.appendChild(c);return B};var e=function(){var D=b.offsetHeight;var E=q("div",{width:D+"px",height:D+"px",position:"relative",cursor:"pointer"});var B=q("div",E,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});var C=22;var F=3;var G=3;for(var A=0;A<3;A++){q("div",B,{width:C+"px",height:F+"px",background:"#FFFFFF",marginBottom:G+"px"})}B.style.marginLeft=((D-C)/2)+"px";B.style.marginTop=((D-((F+G)*3))/2)+"px";return E};this.getMenuIcon=function(){return c};var k=function(){var B=q("div",{width:"100%",height:"100%",position:"relative"});var A=q("div",B,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});u=q("div",A,v.style.title);w.setTitle(z);return B};this.setTitle=function(A){z=A;if(p(z)){u.innerHTML="";u.appendChild(z)}else{u.innerHTML=z}};this.getTitle=function(){return z};this.isMenuVisible=function(){return s};this.showMenu=function(){if(s){return}w.beforeShow();s=true;if(v.fx){setTimeout(function(){x.style.marginLeft="0px";setTimeout(function(){w.onShow.apply(w,[])},v.animationSteps+50)},50)}else{t(true,new Date().getTime(),v.animationSteps,w.onShow)}};this.hideMenu=function(){if(!s){return}w.beforeHide();var A=function(){s=false;w.onHide.apply(w,[])};if(v.fx){setTimeout(function(){x.style.marginLeft=-a+"px";setTimeout(A,v.animationSteps+50)},50)}else{t(false,new Date().getTime(),v.animationSteps,A)}};this.onShow=function(){};this.onHide=function(){};this.beforeShow=function(){};this.beforeHide=function(){};var t=function(B,C,G,F){var A=new Date().getTime();var E=A-C;if(G<=E){x.style.marginLeft=B?"0px":-a+"px";if(F!=null){F.apply(w,[])}return}G-=E;var D;if(B){D=Math.round((G/v.animationSteps)*a)}else{D=a-Math.round((G/v.animationSteps)*a)}x.style.marginLeft=-D+"px";setTimeout(function(){t(B,A,G,F)},33)};this.resize=function(){x.style.width=(g.offsetWidth+a)+"px"};this.onResize=function(){};this.getMenu=function(){return y};this.getBody=function(){return j};var h=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.onRender;var d=javaxt.dhtml.utils.createTable;var q=javaxt.dhtml.utils.createElement;var i=javaxt.dhtml.utils.addResizeListener;var p=javaxt.dhtml.utils.isElement;r()};
javaxt.dhtml.PlayControl=function(h,b){this.className="javaxt.dhtml.PlayControl";var f=this;var a;var i=false;var c;var e=false;var d={startTime:0,speed:0.2,totalTime:60,style:{groove:"sliderGrove",handle:"sliderHandle"}};var j=function(){var l={};g(l,b);g(l,d);b=l;var k=false;a=new javaxt.dhtml.Slider(h,b);a.onChange=function(){if(k){f.onChange(f.getElapsedTime())}};a.onDrag=function(){var m=i;if(i){f.pause()}if(m){f.play(e)}};a.onRender=function(){f.setElapsedTime(b.startTime);k=true}};this.setRunTime=function(k){if(k===b.totalTime){return}var l=false;if(i){f.pause();l=true}b.totalTime=k;if(l){f.play()}};this.play=function(m){if(i===true){return}if(m===true){e=true}else{e=false}i=true;var k=new Date().getTime();var l=a.getValue();if(l>0){k=k-((l/a.getWidth())*b.totalTime)*1000}c=setInterval(function(){var n=a.getWidth();var o=(new Date().getTime()-k)/1000;var q=o/b.totalTime;var p=n*q;if(p>=n){if(e===true){f.onEnd();a.setValue(0);k=new Date().getTime()}else{a.setValue(n);f.pause();f.onEnd()}}else{a.setValue(p)}},b.speed*1000)};this.pause=function(){clearInterval(c);i=false};this.stop=function(){f.pause();a.setValue(0)};this.isPlaying=function(){return i};this.getElapsedTime=function(){return(a.getValue()/a.getWidth())*b.totalTime};this.setElapsedTime=function(m){if(m==null||m<0){return}var l=a.getWidth();var k=Math.ceil((m/b.totalTime)*l);if(k>l){k=0}a.setValue(k)};this.onChange=function(k){};this.onEnd=function(){};var g=javaxt.dhtml.utils.merge;j()};
javaxt.dhtml.Slider=function(j,t){var u=this;var k={value:0,disabled:false,style:{groove:"sliderGrove",handle:"sliderHandle"}};var s,p,q;var o;var m=0;var h=0;var l=0;var v=0;var i=0;var r=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var w={};f(w,t);f(w,k);t=w;p=n("div",j,t.style.groove);p.style.position="relative";p.style.padding="0px";p.style.width="100%";u.el=p;s=n("div",p,t.style.handle);s.style.position="absolute";e(p,function(){var x=javaxt.dhtml.utils.getRect(s);var y=javaxt.dhtml.utils.getRect(p);h=x.width;l=x.height;var z=b(p);m=y.height;v=-(h/2);i=-(l/2)+(m/2);c(0,true);s.style.left=v+"px";s.style.top=i+"px";var A=i;a.init(s,null,0,z-h,A,A);s.onDrag=function(){c(a.x);u.onDrag(u.getValue())};s.onDragEnd=function(){};s.addEventListener("touchmove",function(C){C.preventDefault();var D=C.touches[0];var B=D.pageX-this.parentNode.offsetLeft;if(B<0){B=0}if(B>(z-(h))){B=(z-(h))}this.style.left=B+"px";c(B);u.onDrag(u.getValue())},false);if(t.disabled===true){u.disable()}u.setValue(t.value,true);u.onRender()})};this.enable=function(){var w=u.el;w.style.opacity="";if(q){q.style.visibility="hidden"}};this.disable=function(){var x=u.el;x.style.opacity="0.5";if(q){q.style.visibility="visible"}else{q=document.createElement("div");q.setAttribute("desc","mask");q.style.position="absolute";q.style.zIndex=1;q.style.width="100%";q.style.height=l+"px";q.style.top=i+"px";q.style.left=-(h/2)+"px";var w=q.cloneNode();w.style.top="";w.style.left="";w.style.right=-(h/2)+"px";q.appendChild(w);x.insertBefore(q,x.firstChild)}};this.isEnabled=function(){return !u.isDisabled()};this.isDisabled=function(){if(q){if(q.style.visibility!=="hidden"){return true}}return false};this.onRender=function(){};this.onDrag=function(w){};this.onChange=function(w){};this.getValue=function(A){var x=u.getWidth();var z=o;if(z>=(x-(h/2))){z=x}if(A===true){var y=Math.round((z/x)*100)/100;if(y>1){y=1}if(y<0){y=0}return y}else{return z}};this.getWidth=function(){return b(p)-(h/2)};this.setValue=function(w,y){if(javaxt.dhtml.utils.isString(w)){if(w.lastIndexOf("%")===w.length-1){w=parseInt(w.substring(0,w.length-1));if(isNaN(w)||w<0||w>100){return}w=u.getWidth()*(w/100)}}if(javaxt.dhtml.utils.isNumber(w)){w=parseFloat(w)}else{return}s.style.left=(w-(h/2))+"px";c(w,y)};var d=function(w){return document.defaultView.getComputedStyle(w,null)};var g=function(w,x){return w.getPropertyValue(x.toLowerCase())};var c=function(w,y){if(w===o){return}o=w;var z=(w+(h/2))+"px "+m+"px, 100% "+m+"px";p.style.MozBackgroundSize=z;p.style.backgroundSize=z;if(y!==true){u.onChange(o)}};var b=function(z){var x=d(z);var y=parseInt(g(x,"width"));var A=parseInt(g(x,"padding-right"));var w=parseInt(g(x,"border-right-width"));y-=A;y-=w;return y};var a={obj:null,init:function(B,z,C,y,A,w,E,D){B.onmousedown=a.start;B.hmode=E?false:true;B.vmode=D?false:true;B.root=z&&z!=null?z:B;var x=d(B.root);if(B.hmode&&isNaN(parseInt(B.root.style.left))){B.root.style.left=g(x,"left")}if(B.vmode&&isNaN(parseInt(B.root.style.top))){B.root.style.top=g(x,"top")}if(!B.hmode&&isNaN(parseInt(B.root.style.right))){B.root.style.right=g(x,"right")}if(!B.vmode&&isNaN(parseInt(B.root.style.bottom))){B.root.style.bottom=g(x,"bottom")}B.minX=typeof C!="undefined"?C:null;B.minY=typeof A!="undefined"?A:null;B.maxX=typeof y!="undefined"?y:null;B.maxY=typeof w!="undefined"?w:null;B.root.onDragStart=new Function();B.root.onDragEnd=new Function();B.root.onDrag=new Function()},start:function(x){var w=a.obj=this;x=a.fixE(x);a.y=parseInt(w.vmode?w.root.style.top:w.root.style.bottom);a.x=parseInt(w.hmode?w.root.style.left:w.root.style.right);w.root.onDragStart(a.x,a.y);w.lastMouseX=x.clientX;w.lastMouseY=x.clientY;if(w.hmode){if(w.minX!=null){w.minMouseX=x.clientX-a.x+w.minX}if(w.maxX!=null){w.maxMouseX=w.minMouseX+w.maxX-w.minX}}else{if(w.minX!=null){w.maxMouseX=-w.minX+x.clientX+a.x}if(w.maxX!=null){w.minMouseX=-w.maxX+x.clientX+a.x}}if(w.vmode){if(w.minY!=null){w.minMouseY=x.clientY-a.y+w.minY}if(w.maxY!=null){w.maxMouseY=w.minMouseY+w.maxY-w.minY}}else{if(w.minY!=null){w.maxMouseY=-w.minY+x.clientY+a.y}if(w.maxY!=null){w.minMouseY=-w.maxY+x.clientY+a.y}}document.onmousemove=a.drag;document.onmouseup=a.end;return false},drag:function(A){A=a.fixE(A);var z=a.obj;var x=A.clientY;var y=A.clientX;a.y=parseInt(z.vmode?z.root.style.top:z.root.style.bottom);a.x=parseInt(z.hmode?z.root.style.left:z.root.style.right);var w,B;if(z.minX!=null){y=z.hmode?Math.max(y,z.minMouseX):Math.min(y,z.maxMouseX)}if(z.maxX!=null){y=z.hmode?Math.min(y,z.maxMouseX):Math.max(y,z.minMouseX)}if(z.minY!=null){x=z.vmode?Math.max(x,z.minMouseY):Math.min(x,z.maxMouseY)}if(z.maxY!=null){x=z.vmode?Math.min(x,z.maxMouseY):Math.max(x,z.minMouseY)}w=a.x+((y-z.lastMouseX)*(z.hmode?1:-1));B=a.y+((x-z.lastMouseY)*(z.vmode?1:-1));a.obj.root.style[z.hmode?"left":"right"]=w+"px";a.obj.root.style[z.vmode?"top":"bottom"]=B+"px";a.obj.lastMouseX=y;a.obj.lastMouseY=x;a.obj.root.onDrag(w,B);return false},end:function(){document.onmousemove=null;document.onmouseup=null;a.obj.root.onDragEnd(parseInt(a.obj.root.style[a.obj.hmode?"left":"right"]),parseInt(a.obj.root.style[a.obj.vmode?"top":"bottom"]));a.obj=null},fixE:function(w){if(typeof w.elemX=="undefined"){w.elemX=w.offsetX}if(typeof w.elemY=="undefined"){w.elemY=w.offsetY}return w}};var f=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.onRender;var n=javaxt.dhtml.utils.createElement;r()};
javaxt.dhtml.Switch=function(k,b){var h=this;var d={value:true,style:{groove:{backgroundColor:"#dcdcdc",width:"40px",height:"24px",borderRadius:"12px",position:"relative"},handle:{width:"20px",height:"20px",backgroundColor:"#fff",borderRadius:"10px",position:"absolute",margin:"2px",boxShadow:"0px 3px 4px rgba(0, 0, 0, 0.2)"},grooveActive:{backgroundColor:"#4bd763",width:"40px",height:"24px",borderRadius:"12px",position:"relative"},handleActive:{width:"20px",height:"20px",backgroundColor:"#fff",borderRadius:"10px",position:"absolute",margin:"2px",boxShadow:"0px 3px 4px rgba(0, 0, 0, 0.2)"}}};var e,g,j;var l=function(){if(typeof k==="string"){k=document.getElementById(k)}if(!k){return}var m={};i(m,b);i(m,d);b=m;e=c("div",k,b.style.groove);e.onclick=function(){h.setValue(!h.getValue())};g=c("div",e,b.style.handle);h.setValue(b.value,true);h.el=e;a(h)};this.getValue=function(){return j};this.setValue=function(m,n){if(m===true||m===false){if(m===j){return}if(m===true){f(e,b.style.grooveActive);f(g,b.style.handleActive);g.style.left="";g.style.right=0}else{f(e,b.style.groove);f(g,b.style.handle);g.style.right="";g.style.left=0}j=m;if(n===true){}else{h.onChange(j)}}};this.onChange=function(m){};var i=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.setStyle;var a=javaxt.dhtml.utils.addShowHide;var c=javaxt.dhtml.utils.createElement;l()};
javaxt.dhtml.Table=function(l,x){this.className="javaxt.dhtml.Table";var n=this;var p=false;var d,q;var r;var B;var i;var f;var o=false;var m=false;var E=false;var J={columns:[],multiselect:false,overflow:true,style:{table:{width:"100%",height:"100%",margin:0,padding:0,borderCollapse:"collapse"},headerRow:{height:"35px",borderBottom:"1px solid #8f8f8f",background:"#eaeaea"},headerColumn:{lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"pointer",whiteSpace:"nowrap"},row:{height:"35px",borderBottom:"1px solid #cccccc"},column:{height:"35px",lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"default",whiteSpace:"nowrap"},selectedRow:{height:"35px",borderBottom:"1px solid #cccccc",backgroundColor:"#FFFFB1"},resizeHandle:{width:"5px",cursor:"col-resize",marginRight:"-2px"},mask:{backgroundColor:"rgba(0,0,0,0.5)"},iscroll:null}};var D=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var P={};A(P,x);A(P,J);x=P;if(!x.columns||x.columns.length===0){return}if(typeof IScroll!=="undefined"){var K=x.style.iscroll?x.style.iscroll.columnWidth:null;if(!K){K="15px"}if(K<=0||K==="0px"||K==="0%"){}else{x.columns.push({header:"",width:K})}}var S,Q,L;S=e(l);S.setAttribute("desc",n.className);w(S,"table");n.el=S;F(n);k(l);Q=S.addRow();Q.setAttribute("desc","Header Row");w(Q,"headerRow");L=Q.addColumn();L.style.width="100%";L.style.height="inherit";d=e(L);Q=S.addRow();Q.setAttribute("desc","Body Row");L=Q.addColumn({width:"100%",height:"100%"});r=u("div",L,{width:"100%",height:"100%",position:"relative"});r.setAttribute("desc","body-div");r.tabIndex=-1;r.onmouseover=function(){this.focus()};r.addEventListener("keydown",function(U){if(U.keyCode===16){m=true}if(U.keyCode===17){o=true}if(U.keyCode===18){E=true}});r.addEventListener("keyup",function(W){if(W.keyCode===16){m=false}if(W.keyCode===17){o=false}if(W.keyCode===18){E=false}if(W.keyCode===38||W.keyCode===40){var U,V;n.forEachRow(function(Y){if(Y.selected){U=Y}V=Y});if(U){var X;if(W.keyCode===40){X=U.nextSibling}else{X=U.previousSibling}if(X){n.scrollTo(X);X.click()}}}n.onKeyEvent(W.keyCode,{shift:m,ctrl:o,alt:E})});r=u("div",r,{width:"100%",height:"100%",position:"absolute",overflow:"scroll",overflowX:"hidden"});q=e(r);q.style.height="";Q=h(d,1);var N=u("div",Q.addColumn());Q=d.addRow();for(var M=0;M<x.columns.length;M++){var T=x.columns[M];var O=T.align;if(O=="right"){T.align="center"}var R=H(T,true,M);T.align=O;R.setContent(T.header);if(typeof T.header==="string"){T.label=T.header}else{T.label=T.header.innerText}R.colID=M;R.onclick=function(V){var U=this.colID;var X=x.columns[U];n.onHeaderClick(U,X,this,V);if(X!=null){var W=X.onHeaderClick;if(W!=null){W.apply(n,[M,R,V])}}};Q.appendChild(R)}Q.addColumn();h(q,1);a(r,function(){var X=function(Z){var Y=r.scrollHeight-r.clientHeight;n.onScroll(Z,Y,r.offsetHeight)};if(typeof IScroll!=="undefined"){r.style.overflowY="hidden";n.iScroll=new IScroll(r,{scrollbars:x.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(x.style.iscroll){w(n.iScroll,"iscroll")}n.iScroll.on("scrollStart",function(){X(-n.iScroll.y)});n.iScroll.on("scrollEnd",function(){X(-n.iScroll.y)})}else{if(x.overflow===false){r.style.overflowY="hidden"}r.onscroll=function(){X(r.scrollTop)}}var V=r.offsetWidth;var U=q.offsetWidth;var W=Math.abs(V-U);N.style.width=W+"px";C(l,function(){B.resize();n.update()})})};var h=function(R,Q){var S=R.addRow();for(var M=0;M<x.columns.length;M++){var T=x.columns[M];var P={};A(P,T);var O=S.addColumn();O.style.height=z(Q);if(T.hidden===true){O.style.visibility="hidden";O.style.display="none";O.style.width="0px"}else{var L=T.width;O.style.width=z((L==null)?25:L);var K=T.minWidth;if(K){O.style.minWidth=z(K)}}var N=u("div",O);N.style.width=z(((L+"").indexOf("%")>-1)?25:L);N.style.height=z(Q)}return S};var H=function(M,Q,L){var K=u("td");if(Q===true){w(K,"headerColumn")}else{w(K,"column")}K.style.textAlign=M.align;if(M.hidden===true){K.style.visibility="hidden";K.style.display="none"}if(M.selecttext===true){}else{K.style.userSelect="none";K.style.webkitUserSelect="none";K.style.MozUserSelect="none";K.setAttribute("unselectable","on")}var O=u("div",K,{position:"relative",height:"100%"});var N=u("div",O,{position:"absolute",width:"100%",height:"100%",overflow:"hidden"});if(M.resizable===true){if(Q&&L<x.columns.length-1){var P=u("div",O);w(P,"resizeHandle");P.style.position="absolute";P.style.right=0;P.style.top=0;P.style.height="100%"}}K.innerDiv=N;K.setContent=g;K.getContent=v;return K};this.addRows=function(N){if(!t(N)){N=parseInt(N);if(isNaN(N)){return}else{var O=N;N=[];var M=[];for(var L=0;L<x.columns.length;L++){M.push("")}for(var L=0;L<O;L++){N.push(M)}}}p=true;var K=[];for(var L=0;L<N.length;L++){K.push(n.addRow(N[L]))}p=false;n.update();return K};this.addRow=function(){var O=arguments;if(t(O[0])){O=O[0]}var P=q.addRow();P.selected=false;w(P,"row");P.get=b;P.set=s;P.onclick=y;if(!f){f=[];for(var M=0;M<x.columns.length;M++){var L=x.columns[M];var N={};A(N,L);var K=H(N);f.push(K)}}for(var M=0;M<x.columns.length;M++){var K=f[M].cloneNode(true);K.innerDiv=K.firstChild.firstChild;K.setContent=g;K.getContent=v;K.setContent(O[M]);P.appendChild(K)}if(!p){n.update()}return P};var g=function(K){if(K==null||typeof K==="undefined"){this.innerDiv.innerHTML=""}else{if(G(K)){this.innerDiv.innerHTML="";try{this.innerDiv.appendChild(K);return}catch(L){}}this.innerDiv.innerHTML=K}};var v=function(){if(this.innerDiv.childNodes){if(this.innerDiv.childNodes.length>0){var K=this.innerDiv.childNodes[0];if(K.nodeType===1){return K}else{return this.innerDiv.innerHTML}}}return null};var b=function(N){var O=parseInt(N);if(isNaN(O)){for(var M=0;M<x.columns.length;M++){var K=x.columns[M];var L=K.label;if(L===N){return this.childNodes[M].getContent()}}}else{return this.childNodes[O].getContent()}};var s=function(N,O){var P=parseInt(N);if(isNaN(P)){for(var M=0;M<x.columns.length;M++){var K=x.columns[M];var L=K.label;if(L===N){this.childNodes[M].setContent(O);return}}}else{if(P<0||P>x.columns.length-1){return}this.childNodes[P].setContent(O)}};var y=function(K){var X=this;n.onRowClick(X,K);var Y=[X];var Q=function(){var ab=q.getRows();for(var Z=1;Z<ab.length;Z++){var aa=ab[Z];if(aa.selected){n.deselect(aa);Y.push(aa)}}n.select(X)};if(x.multiselect===true){var S;if(K){S=K}else{if(window.event){S=window.event}}if(X.selected){if(S.ctrlKey){n.deselect(X);var W=q.getRows();for(var P=1;P<W.length;P++){var U=W[P];if(U.selected&&U!=X){Y.push(U)}}}else{var L=0;var W=q.getRows();for(var P=1;P<W.length;P++){var U=W[P];if(U.selected){if(U!=X){n.deselect(U);Y.push(U);L++}}}if(L===0){n.deselect(X)}}}else{if(S.shiftKey){var O=X.parentNode;var N,V;for(var P=0;P<O.childNodes.length;P++){var U=O.childNodes[P];if(U===i){N=P}if(U===X){V=P}}var L=[];for(var P=Math.min(V,N);P<=Math.max(V,N);P++){var U=O.childNodes[P];n.select(U);if(U!=X){Y.push(U)}L.push(U)}var W=q.getRows();for(var P=1;P<W.length;P++){var U=W[P];if(U.selected){var T=true;for(var M=0;M<L.length;M++){var R=L[M];if(U==R){T=false}}if(T){n.deselect(U);Y.push(U)}}}}else{if(S.ctrlKey){n.select(X);var W=q.getRows();for(var P=1;P<W.length;P++){var U=W[P];if(U.selected&&U!=X){Y.push(U)}}}else{Q()}}}}else{if(X.selected){n.deselect(X)}else{Q()}}n.onSelectionChange(Y);i=X};this.select=function(K){if(K.selected){return}K.selected=true;w(K,"selectedRow")};this.deselect=function(K){if(K.selected){K.selected=false;w(K,"row")}};this.selectAll=function(){var M=[];if(x.multiselect===true){var N=q.getRows();for(var K=1;K<N.length;K++){var L=N[K];if(!L.selected){n.select(L);M.push(L)}}i=null;if(M.length){n.onSelectionChange(M)}}};this.deselectAll=function(){var M=[];var N=q.getRows();for(var K=1;K<N.length;K++){var L=N[K];if(L.selected){n.deselect(L);M.push(L)}}i=null;if(M.length>0){n.onSelectionChange(M)}};this.onSelectionChange=function(K){};this.onRowClick=function(L,K){};this.onHeaderClick=function(L,N,K,M){};this.onKeyEvent=function(L,K){};this.focus=function(){r.parentNode.focus()};this.clear=function(){n.deselectAll();var K=q.getRows();while(K.length>1){q.removeRow(K[1]);K=q.getRows()}n.update()};this.update=function(){if(n.iScroll){n.iScroll.refresh()}n.onOverflow(n.hasOverflow())};this.hasOverflow=function(){return(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)};this.onOverflow=function(K){};this.onScroll=function(M,L,K){};this.scrollTo=function(R,O){var Q=javaxt.dhtml.utils.getRect(r);if(G(R)){var N=javaxt.dhtml.utils.getRect(R);var P=N.height/2;var S={left:Q.left,right:Q.right,top:Q.top+P,bottom:Q.bottom-P};if(!javaxt.dhtml.utils.intersects(S,N)){var M=n.getScrollInfo();var L=N.top+M.y;if(L>Q.bottom){O=L+N.height-Q.bottom}else{if(L+N.height>Q.top){O=L-Q.top}else{}}}}if(!I(O)){return}if(n.iScroll){n.iScroll.scrollTo(0,-O)}else{r.scrollTop=O}var K=r.scrollHeight-r.clientHeight;n.onScroll(O,K,Q.height)};this.getScrollInfo=function(){return{x:n.iScroll?-n.iScroll.x:r.scrollLeft,y:n.iScroll?-n.iScroll.y:r.scrollTop,w:r.offsetWidth,h:r.offsetHeight,maxY:r.scrollHeight-r.clientHeight}};this.getRowCount=function(){return q.getRows().length-1};this.forEachRow=function(R){if(R==null){return}var Q=q.getRows();for(var N=1;N<Q.length;N++){var P=Q[N];var O=[];for(var M=0;M<P.childNodes.length;M++){var L=P.childNodes[M];O.push(L.getContent())}var K=R.apply(n,[P,O]);if(K===true){return}}};this.updateRow=function(N,M){for(var L=0;L<N.childNodes.length;L++){var K=N.childNodes[L];K.setContent(M[L])}};this.removeRow=function(N){var M=n.getScrollInfo();var K=M.x;var O=M.y;var L=N.offsetHeight;q.removeRow(N);n.update();n.scrollTo(K,O-L)};this.getColumnWidth=function(K){var L=q.getRows();return L[0].childNodes[K].offsetWidth};this.showColumn=function(K){var L=d.getRows();var N=L[0].childNodes.length;if(K>=N){return}var Q=q.getRows();var O=j(L);O=O.concat(j(Q));for(var M=0;M<O.length;M++){var P=O[M].childNodes;P[K].style.visibility="";P[K].style.display=""}};this.hideColumn=function(K){var L=d.getRows();var N=L[0].childNodes.length;if(K>=N){return}var Q=q.getRows();if(Q[0].childNodes[K].style.display=="none"){return}var O=j(L);O=O.concat(j(Q));for(var M=0;M<O.length;M++){var P=O[M].childNodes;P[K].style.visibility="hidden";P[K].style.display="none"}};var j=function(L){var K=[];for(var M=0;M<L.length;M++){K.push(L[M])}return K};var z=function(L){var M=L+"";var K=M.substring(M.length-1).toLowerCase();if(K=="x"||K=="%"){return M}K=parseFloat(L);if(isNaN(K)){return L}else{return K+"px"}};var k=function(L){B=u("div",L,x.style.mask);B.style.position="absolute";B.style.top=0;B.style.left=0;var K=function(){var M=javaxt.dhtml.utils.getRect(n.el);B.style.top=M.top;B.style.left=M.left;B.style.width=M.width+"px";B.style.height=M.height+"px"};B.show=function(){K();var M=c(L);var N=M.zIndex;if(!M.contains(B)){N++}B.zIndex=N;B.style.visibility="";B.style.display=""};B.hide=function(){B.style.visibility="hidden";B.style.display="none"};B.isVisible=function(){return !(B.style.visibility==="hidden"&&B.style.display==="none")};B.resize=function(){if(B.isVisible()){K()}};B.hide()};this.getMask=function(){return B};var A=javaxt.dhtml.utils.merge;var a=javaxt.dhtml.utils.onRender;var F=javaxt.dhtml.utils.addShowHide;var C=javaxt.dhtml.utils.addResizeListener;var t=javaxt.dhtml.utils.isArray;var I=javaxt.dhtml.utils.isNumber;var G=javaxt.dhtml.utils.isElement;var u=javaxt.dhtml.utils.createElement;var e=javaxt.dhtml.utils.createTable;var c=javaxt.dhtml.utils.getHighestElements;var w=function(L,K){javaxt.dhtml.utils.setStyle(L,x.style[K])};D()};
javaxt.dhtml.TabPanel=function(parent,config){this.className="javaxt.dhtml.TabPanel";var me=this;var tabList;var tabContent;var defaultConfig={closable:false,style:{tabBar:{border:"1px solid #ccc",backgroundColor:"#eaeaea",height:"30px",borderBottom:"0px"},activeTab:{lineHeight:"30px",padding:"0 7px",backgroundColor:"#fafafa",cursor:"default",borderRight:"1px solid #ccc",borderBottom:"1px solid #fafafa"},inactiveTab:{lineHeight:"30px",padding:"0 7px",cursor:"pointer",borderRight:"1px solid #ccc",borderBottom:"0px"},tabBody:{border:"1px solid #ccc",verticalAlign:"top"},closeIcon:{}}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;var table=createTable();table.setAttribute("desc",me.className);var tbody=table.firstChild;var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');setStyle(td,"tabBar");td.style.width="100%";tr.appendChild(td);tabList=document.createElement('ul');tabList.style.listStyle="none outside none";tabList.style.padding=0;tabList.style.margin=0;tabList.style.height="100%";td.appendChild(tabList);tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');setStyle(td,"tabBody");td.style.width="100%";td.style.height="100%";tr.appendChild(td);tabContent=document.createElement('div');tabContent.style.width="100%";tabContent.style.height="100%";tabContent.style.position="relative";td.appendChild(tabContent);parent.appendChild(table);me.el=table;};this.addTab=function(name,_el){var el=document.createElement('div');el.style.width="100%";el.style.height="100%";el.style.position="absolute";el.appendChild(_el);var tab=document.createElement('li');setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.innerHTML=name;tab.el=el;tab.onclick=function(){raiseTab(this);};tab.onselectstart=function(){return false;};tab.onmousedown=function(){return false;};tabList.appendChild(tab);for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){setStyle(t,"inactiveTab");t.style.position="relative";t.style.float="left";t.style.height="100%";t.el.style.display='none';}}
el.style.display='none';tabContent.appendChild(el);raiseTab(tab);};this.getTabs=function(){var tabs=[];for(var i=0;i<tabList.childNodes.length;i++){var tab=tabList.childNodes[i];tabs.push(getTabInfo(tab));}
return tabs;};this.raiseTab=function(id){var tab=findTab(id);if(tab)raiseTab(tab);};var raiseTab=function(tab){if(tab.style.display==='none')return;if(tab.el.style.display==='none'){var currTab=null;for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.el.style.display==='block'){currTab=t;break;}}
setStyle(tab,"activeTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='';for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){if(t.style.display!=='none'){setInactive(t);}}}
tab.el.style.display='block';me.onTabChange(getTabInfo(tab),getTabInfo(currTab));}};var getTabInfo=function(tab){if(tab==null)return null;var hidden=(tab.style.display==='none');var active=(tab.el.style.display!=='none');return{name:tab.innerText,el:tab.el,hidden:hidden,active:active};};this.setActiveTab=this.raiseTab;this.onTabChange=function(currTab,prevTab){};this.removeTab=function(id){var tab=findTab(id);if(tab){var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;tabContent.removeChild(tab.el);tabList.removeChild(tab);if(nextTab)raiseTab(nextTab);}};this.hideTab=function(id){var tab=findTab(id);if(tab){if(tab.style.display==='none')return;var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;setInactive(tab);tab.style.display='none';tab.el.style.display='none';if(nextTab)raiseTab(nextTab);}};this.showTab=function(id){var tab=findTab(id);if(tab)tab.style.display='';};var findTab=function(id){if(isNaN(id)){if(typeof id==="string"){for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.innerHTML===id){return t;}}}}
else{if(id<tabList.childNodes.length){return tabList.childNodes[id];}}
return null;};var setInactive=function(tab){setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='none';};var merge=javaxt.dhtml.utils.merge;var createTable=javaxt.dhtml.utils.createTable;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};init();};
javaxt.dhtml.Tree=function(d,q){this.className="javaxt.dhtml.Tree";var r=this;var h={style:{rowHeight:"20px",colWidth:"21px",backgroundColor:"white",cursor:"default",padding:0,li:"",label:{},leaf:"leaf",node:{open:"node_open",closed:"node"},root:{open:"root",closed:"root"},path:{node:{open:{middle:"join_node_middle_open",last:"join_node_bottom_open"},closed:{middle:"join_node_middle",last:"join_node_bottom"}},leaf:{middle:"join_leaf_middle",last:"join_leaf_bottom"},line:"join_line"}}};var l=function(){if(typeof d==="string"){d=document.getElementById(d)}if(!d){return}var t={};b(t,q);b(t,h);q=t;var s=n();s.style.cursor=q.style.cursor;s.style.padding=q.style.padding;s.onselectstart=function(){return false};s.onmousedown=function(){return false};d.appendChild(s);s.setAttribute("desc",r.className);r.el=s;if(q.nodes){r.addNodes(q.nodes)}};this.addNodes=function(s){var u=[];i(s,r.el,u);for(var t=0;t<u.length;t++){e(u[t])}};this.onClick=function(s){};this.onExpand=function(s){};this.onCollapse=function(s){};this.getItem=function(z){if(!f(z)){if(typeof z==="string"){z=z.split("/")}else{return null}}var v=function(D,B){if(B){for(var C=0;C<B.length;C++){if(B[C].tagName.toLowerCase()==="li"){var A=B[C];if(D===A.getText()){return A}}}}return null};var y;var s=r.el.childNodes;for(var u=0;u<z.length;u++){var t=z[u];var w=v(t,s);if(w){if(u==z.length-1){y=w}else{var x=w.nextSibling;if(x){s=x.childNodes}}}else{return null}}if(y){return c(y)}else{return null}};this.show=function(v){if(v){var t=v.el;var u=t.parentNode;p(u);if(a(t)!="leaf"){var s=t.nextSibling;if(s.tagName.toLowerCase()=="ul"){p(s)}}if(t.offsetParent===null&&u!==r.el){while(t.offsetParent===null){u=u.parentNode;p(u);if(r.el===u){break}}}}else{r.el.style.visibility="";r.el.style.display=""}};this.hide=function(s){if(s){}else{r.el.style.visibility="hidden";r.el.style.display="node"}};this.getPath=function(v){var t=[];if(v){var s=v.el;if(s){var u=s.parentNode;while(u!==r.el){s=u.previousSibling;if(s){t.push(c(s));u=s.parentNode}else{break}}}}return t};var c=function(s){return{type:a(s),name:s.getText(),node:s.node,el:s}};var i=function(v,E,A){for(var z=0;z<v.length;z++){var x=v[z];var w=x.nodes;var F=j("li",E,q.style.li);F.node=x;F.onclick=function(){if(this.nextSibling){var G=this.nextSibling;var I=G.tagName.toLowerCase();if(I==="ul"){var H=G;if(H.style.visibility==="hidden"){p(H)}else{e(H)}}}r.onClick(c(this))};if(w){var B=n();B.style.width="100%";B.style.height="100%";E.appendChild(B);var s=B.previousSibling;while(s){if(s.tagName.toLowerCase()==="ul"){k(s,q.style.path.line);break}s=s.previousSibling}}var y=a(F);if(y!=="root"){var u=o(y,true,(z===v.length-1));if(u){F.className=u;F.style.paddingLeft=q.style.colWidth}}else{F.style.padding=0;F.style.background="none"}var C;if(y=="leaf"){C=q.style.leaf}else{C=q.style[y].open}F.style.width="100%";if(typeof x==="string"){m(x,C,F)}else{var t=x.name;m(t,C,F)}if(w){var B=F.nextSibling;if(y!=="root"){B.style.paddingLeft=q.style.colWidth}var D=false;if(x.expand===true){D=true}if(!D){A.push(B)}i(w,B,A)}}};var p=function(u){if(u===r.el){return}u.style.visibility="";u.style.display="";var s=u.previousSibling;if(s){var t=a(s);var v=o(t,true,g(s));if(v){s.className=v}if(t!=="leaf"){s.setIcon(q.style[t].open)}r.onExpand(c(s))}};var e=function(u){if(u===r.el){return}u.style.visibility="hidden";u.style.display="none";var s=u.previousSibling;if(s){var t=a(s);var v=o(t,false,g(s));if(v){s.className=v}if(t!=="leaf"){s.setIcon(q.style[t].closed)}r.onCollapse(c(s))}};var m=function(u,v,s){var w=j("div",s);w.style.width="100%";w.style.backgroundColor=q.style.backgroundColor;w.style.position="relative";w.style.overflow="hidden";w.style.height=q.style.rowHeight;var t;if(v){t=j("div",w,v);t.style.display="inline-block";t.style.position="absolute"}var x;if(u){var x=j("div",w,q.style.label);x.style.display="inline-block";x.style.position="absolute";x.style.paddingLeft=q.style.colWidth;x.style.lineHeight=q.style.rowHeight;x.innerHTML=u.replace(/^\s*/,"").replace(/\s*$/,"")}s.setIcon=function(y){if(t){t.className=y}};s.getText=function(){return x.innerText}};var a=function(s){if(s.parentNode===r.el){return"root"}else{var t=false;if(s.nextSibling){if(s.nextSibling.tagName.toLowerCase()==="ul"){t=true}}if(t){return"node"}else{return"leaf"}}};var g=function(s){var w=s.parentNode.childNodes;for(var u=0;u<w.length;u++){if(w[u]===s){var v=false;for(var t=u+1;t<w.length;t++){if(w[t].tagName.toLowerCase()==="li"){v=true;break}}if(v){return false}}}return true};var o=function(s,t,v){if(s!=="root"){var w=v?"last":"middle";var u=q.style.path[s];if(s!=="leaf"){if(t){u=u.open}else{u=u.closed}}u=u[w];if(typeof u==="string"){return u}else{}}return null};var n=function(){return j("ul",{listStyleType:"none",padding:0,margin:0,backgroundColor:q.style.backgroundColor})};var b=javaxt.dhtml.utils.merge;var k=javaxt.dhtml.utils.addStyle;var f=javaxt.dhtml.utils.isArray;var j=javaxt.dhtml.utils.createElement;l()};
javaxt.dhtml.DataStore=function(f){var e=this;var d={};var b=[];this.length=0;var g=function(){if(a(f)){b=f;e.length=b.length}};this.addEventListener=function(h,j,i){if(!j){return}var k={fn:j,scope:i};if(d[h]){d[h].push(k)}else{d[h]=[k]}};var c=function(k,j){if(d[k]){var h=d[k];for(var l=0;l<h.length;l++){var m=h[l];m.fn.apply(m.scope,a(j)?j:[j])}}};this.push=function(h){e.add(h)};this.add=function(h){b.push(h);e.length=b.length;c("add",h)};this.insert=function(i,h){if(!isNaN(h)){b.splice(h,0,i)}else{b.push(i)}e.length=b.length;c("add",i)};this.pop=function(){var h=b.pop();e.length=b.length;c("remove",h)};this.shift=function(){var h=b.shift();e.length=b.length;c("remove",h)};this.remove=function(h){for(var j=0;j<b.length;j++){if(b[j]===h){e.removeAt(j);break}}};this.removeAt=function(h){e.splice(h,1)};this.clear=function(){e.splice(0,b.length)};this.splice=function(i,j){var h=b.splice(i,j);e.length=b.length;c("remove",h)};this.get=function(h){return b[h]};this.set=function(h,i){var j=b[h];b[h]=i;c("update",[i,j])};this.sort=function(h){b.sort(h)};this.forEach=function(k){if(!k){return}for(var h=0;h<b.length;h++){var j=k.apply(e,[e.get(h),h]);if(j===true){return}}};this.destroy=function(){b.splice(0,b.length);e.length=0;for(var k in d){if(d.hasOwnProperty(k)){var h=d[k];h=h.splice(0,h.length);for(var j=0;j<h.length;j++){h[j]=null}delete d[k]}}};var a=javaxt.dhtml.utils.isArray;g()};
javaxt.dhtml.Effects=function(){var e=this;this.fadeIn=function(h,g,i,j){h.style.opacity=0;h.style.display="";e.setTransition(h,g,i);setTimeout(function(){h.style.opacity="";setTimeout(function(){a(h);if(j){j.apply(h,[])}},i+50)},50)};this.fadeOut=function(h,g,i,j){e.setTransition(h,g,i);setTimeout(function(){h.style.opacity=0;setTimeout(function(){h.style.display="none";a(h);if(j){j.apply(h,[])}},i+50)},50)};this.setTransition=function(i,g,j){if(isNaN(j)||j<=0){return}var h=c(g);f(i,j,h)};var c=function(g){if(b(g)){return g}else{var h=javaxt.dhtml.Transitions[g];if(!h){h=javaxt.dhtml.Transitions.ease}return h}};var b=function(g){return(Object.prototype.toString.call(g)==="[object Array]")};var f=function(i,o,j){var h=j[0];var n=j[1];var g=j[2];var m=j[3];i.style.WebkitTransition=i.style.MozTransition=i.style.MsTransition=i.style.OTransition=i.style.transition="all "+o+"ms cubic-bezier("+h+", "+n+", "+g+", "+m+")";if(!d){var l,k;if(n>1){l=1}if(n<0){l=0}if(m>1){k=1}if(m<0){k=0}i.style.WebkitTransition="all "+o+"ms cubic-bezier("+h+", "+l+", "+g+", "+k+")"}};var a=function(g){g.style.WebkitTransition=g.style.MozTransition=g.style.MsTransition=g.style.OTransition=g.style.transition="";if(!d){g.style.WebkitTransition=""}};var d=(function(){var g=document.createElement("div");g.style.WebkitTransitionTimingFunction="cubic-bezier(1,0,0,1.1)";return !!g.style.WebkitTransitionTimingFunction.length})()};javaxt.dhtml.Transitions={linear:[0.25,0.25,0.75,0.75],ease:[0.25,0.1,0.25,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1],easeInQuad:[0.55,0.085,0.68,0.53],easeInCubic:[0.55,0.055,0.675,0.19],easeInQuart:[0.895,0.03,0.685,0.22],easeInQuint:[0.755,0.05,0.855,0.06],easeInSine:[0.47,0,0.745,0.715],easeInExpo:[0.95,0.05,0.795,0.035],easeInCirc:[0.6,0.04,0.98,0.335],easeInBack:[0.6,-0.28,0.735,0.045],easeOutQuad:[0.25,0.46,0.45,0.94],easeOutCubic:[0.215,0.61,0.355,1],easeOutQuart:[0.165,0.84,0.44,1],easeOutQuint:[0.23,1,0.32,1],easeOutSine:[0.39,0.575,0.565,1],easeOutExpo:[0.19,1,0.22,1],easeOutCirc:[0.075,0.82,0.165,1],easeOutBack:[0.175,0.885,0.32,1.275],easeInOutQuad:[0.455,0.03,0.515,0.955],easeInOutCubic:[0.645,0.045,0.355,1],easeInOutQuart:[0.77,0,0.175,1],easeInOutQuint:[0.86,0,0.07,1],easeInOutSine:[0.445,0.05,0.55,0.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[0.785,0.135,0.15,0.86],easeInOutBack:[0.68,-0.55,0.265,1.55]};
javaxt.dhtml.PageLoader=function(config){var me=this;var head=document.getElementsByTagName("head")[0];var debug=false;var includes;var init=function(){if(config){if(config.debug===true){debug=true}}};this.loadPage=function(url,onSuccess,onFail,onUpdate){me.load(url,function(html,title,inlineScripts){document.title=title;var body=document.getElementsByTagName("body")[0];body.innerHTML=html;for(var i=0;i<inlineScripts.length;i++){var script=inlineScripts[i].firstChild.nodeValue;var type=inlineScripts[i].getAttribute("type");if(type=="module"){script=script.replace("//<![CDATA[","").replace("//]]>","");var s=document.createElement("script");s.setAttribute("type",type);s.innerHTML=script;body.appendChild(s)}else{eval(script)}}dispatchEvent("load");if(onSuccess){onSuccess.apply(me,[])}},onFail,onUpdate)};this.load=function(url,onSuccess,onFail,onUpdate){get(url,function(html){var div=document.createElement("div");div.innerHTML=html;var title;var titles=div.getElementsByTagName("title");if(titles.length>0){title=titles[0].innerHTML}var inlineScripts=[];var externalScripts=[];var scripts=div.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){externalScripts.push(scripts[i].src)}else{inlineScripts.push(scripts[i])}}var css=[];var cssNodes=[];var links=div.getElementsByTagName("link");for(var i=0;i<links.length;i++){if(links[i].rel=="stylesheet"){if(links[i].href.length>0){css.push(links[i].href);cssNodes.push(links[i])}}}removeNodes(titles);removeNodes(div.getElementsByTagName("description"));removeNodes(div.getElementsByTagName("keywords"));removeNodes(div.getElementsByTagName("meta"));removeNodes(scripts);removeNodes(links);removeNodes(cssNodes);var comments=[];for(var i=0;i<div.childNodes.length;i++){var node=div.childNodes[i];if(node.nodeType==8){comments.push(node)}}while(comments.length>0){div.removeChild(comments[0]);comments.shift()}html=div.innerHTML;div=null;loadIncludes(css,externalScripts,function(){if(onSuccess){onSuccess.apply(me,[html,title,inlineScripts])}},onUpdate)},onFail)};this.loadApp=function(url,onSuccess,onFail,onUpdate){get(url,function(text,xml){var appInfo={};var application=xml.getElementsByTagName("application")[0];if(application){appInfo.name=application.getAttribute("name");appInfo.main=application.getAttribute("main")}var scripts=[];var css=[];var includes=xml.getElementsByTagName("includes")[0].childNodes;for(var i=0;i<includes.length;i++){var include=includes[i];if(include.nodeType==1){var type=include.getAttribute("type");if(type==="text/javascript"){scripts.push(include.getAttribute("src"))}else{if(type==="text/css"){css.push(include.getAttribute("href"))}}}}loadIncludes(css,scripts,function(){if(onSuccess){appInfo.init=function(){var cls=stringToFunction(this.main);return newInstance(cls).apply(arguments)};onSuccess.apply(me,[appInfo,xml])}},onUpdate)},onFail)};var loadIncludes=function(css,scripts,onComplete,onUpdate){parseIncludes();var addInclude=function(category,key){if(category=="css"){return true}var obj=includes[category];for(var k in obj){if(obj.hasOwnProperty(k)){if(k==key){return false}}}return true};var arr=[];for(var i=0;i<css.length;i++){if(addInclude("css",css[i])){var link=document.createElement("link");link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");link.setAttribute("href",css[i]);arr.push(link);includes.css[css[i]]=true}else{log("Skipping "+css[i]+"...")}}for(var i=0;i<scripts.length;i++){if(addInclude("scripts",scripts[i])){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",scripts[i]);arr.push(script);includes.scripts[scripts[i]]=true}else{log("Skipping "+scripts[i]+"...")}}if(arr.length>0){var t=arr.length;var loadResource=function(obj){var processResponse=function(){var percentComplete=Math.round((1-(arr.length/t))*100);if(percentComplete===100&&arr.length>0){percentComplete=99}log(percentComplete+"%");if(onUpdate!=null){onUpdate({totalIncludes:t,remainingIncludes:arr.length,percentComplete:percentComplete})}if(arr.length>0){loadResource(arr.shift())}else{if(onComplete!=null){onComplete.apply(me,[])}}};obj.onload=function(){processResponse()};obj.onerror=function(){processResponse()};head.appendChild(obj)};loadResource(arr.shift())}else{if(onComplete!=null){onComplete.apply(me,[])}}};var parseIncludes=function(){if(includes){return}includes={css:{},scripts:{}};var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){includes.scripts[scripts[i].src]=true}}var css=document.getElementsByTagName("link");for(var i=0;i<css.length;i++){if(css[i].rel=="stylesheet"){if(css[i].href.length>0){includes.css[css[i].href]=true}}}};var removeNodes=function(nodes){while(nodes.length>0){var node=nodes[0];var parent=node.parentNode;if(!parent){break}parent.removeChild(node)}};var stringToFunction=function(str){var arr=str.split(".");var fn=(window||this);for(var i=0,len=arr.length;i<len;i++){fn=fn[arr[i]]}if(typeof fn!=="function"){throw new Error("function not found")}return fn};var newInstance=function(cls){var fn=(new Function("return function () { };"))();fn.prototype=cls.prototype;var self=new fn();return{apply:function(args){cls.apply(self,args);return self}}};var dispatchEvent=function(name){var evt;try{evt=new Event(name)}catch(e){evt=document.createEvent("Event");evt.initEvent(name,false,false)}window.dispatchEvent(evt)};var log=function(str){if(debug){console.log(str)}};var get=function(url,success,onFail){javaxt.dhtml.utils.get(url,{success:function(text,xml,url,request){request.abort();request=null;if(success){success.apply(me,[text,xml,url])}},failure:function(request){if(onFail){onFail.apply(me,[request])}}})};init()};
javaxt.dhtml.utils={get:function(url,config){if(config.payload!=null){var payload=config.payload;delete config.payload;return javaxt.dhtml.utils.post(url,payload,config);}
var settings={method:"GET",payload:null};javaxt.dhtml.utils.merge(settings,config);return javaxt.dhtml.utils.http(url,settings);},post:function(url,payload,config){var settings;if(payload.payload){settings=payload;settings.method="POST";}
else{var settings={method:"POST",payload:payload};javaxt.dhtml.utils.merge(settings,config);}
return javaxt.dhtml.utils.http(url,settings);},delete:function(url,config){config.method="DELETE";return javaxt.dhtml.utils.http(url,config);},http:function(url,config){var cache=false;if(config.cache){if(config.cache==true)cache=true;}
if(!cache){if(url.indexOf("?")==-1)url+="?";url+="&_="+new Date().getTime();}
var method=config.method;var success=config.success;var scope=config.scope;var async=true;if(config.async){if(config.async!=false)async=true;}
var failure=config.failure;if(typeof failure==="undefined")failure=function(request){if(request.status!==0){alert(request);}};var request=new XMLHttpRequest();if(config.username&&config.password){request.open(method,url,async,config.username,config.password);request.setRequestHeader("Authorization","Basic "+btoa(config.username+":"+config.password));}
else{request.open(method,url,async);}
if(!cache)request.setRequestHeader("Cache-Control","no-cache, no-transform");request.onreadystatechange=function(){if(request.readyState===4){if(request.status>=200&&request.status<300){if(success)success.apply(scope,[request.responseText,request.responseXML,request.responseURL,request]);}
else{if(failure)failure.apply(scope,[request]);}}};if(config.payload)request.send(config.payload);else request.send();return request;},getParameter:function(name,url){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");if(!url)url=window.location.href;var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);if(results==null)return"";else return results[1];},merge:function(settings,defaults){var merge=function(settings,defaults){if(settings==null)return;if(javaxt.dhtml.utils.isArray(settings)){return;}
for(var p in defaults){if(defaults.hasOwnProperty(p)&&typeof settings[p]!=="undefined"){if(p!=0)
merge(settings[p],defaults[p]);}
else{settings[p]=defaults[p];}}};merge(settings,defaults);return settings;},clone:function(obj){return javaxt.dhtml.utils.merge({},obj);},isDirty:function(obj,org){var isEmpty=javaxt.dhtml.utils.isEmpty;var a=isEmpty(obj);var b=isEmpty(org);if((a==true&&b==false)||(b==true&&a==false))return true;var d=javaxt.dhtml.utils.diff(obj,org);return!isEmpty(d);},diff:function(obj1,obj2){var isEmpty=javaxt.dhtml.utils.isEmpty;var merge=javaxt.dhtml.utils.merge;var diff=function(obj1,obj2){var ret={},rett;for(var i in obj2){rett={};if(typeof obj2[i]==='object'){if(obj1.hasOwnProperty(i)){rett=diff(obj1[i],obj2[i]);if(!isEmpty(rett)){ret[i]=rett;}}
else{ret[i]=obj2[i];}}
else{if(!obj1||!obj1.hasOwnProperty(i)||obj2[i]!==obj1[i]){ret[i]=obj2[i];}}}
return ret;};var d1=diff(obj1,obj2);var d2=diff(obj2,obj1);return merge(d1,d2);},isEmpty:function(obj){return JSON.stringify(obj)==="{}";},isArray:function(obj){return(Object.prototype.toString.call(obj)==='[object Array]');},isString:function(obj){return(typeof obj==="string");},isNumber:function(n){if(typeof n==="number")return true;if(typeof n!=="string")n=""+n;return!isNaN(parseFloat(n))&&!isNaN(n-0);},isDate:function(d){if(typeof d==="string"||typeof d==="number"){var n=(d+"").replace(/[^-+0-9,.]+/g,"");if(d===n){return false;}}
return!isNaN(Date.parse(d));},isElement:function(obj){return(obj instanceof Element);},setStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(typeof IScroll!=='undefined'){if(el instanceof IScroll){var indicators=el.indicators;if(indicators){var indicatorClass="iScrollIndicator";if(style.indicator)indicatorClass=style.indicator;for(var i=0;i<indicators.length;i++){var indicator=indicators[i].indicator;indicator.className=indicatorClass;var scrollbar=indicator.parentNode;if(scrollbar.className.indexOf("iScrollVerticalScrollbar")){if(style.verticalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollVerticalScrollbar",style.verticalScrollbar);}}
else{if(style.horizontalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollHorizontalScrollbar",style.horizontalScrollbar);}}}}
return;}}
el.removeAttribute("style");if(javaxt.dhtml.utils.isString(style)){el.className=style;}
else{for(var key in style){if(style.hasOwnProperty(key)){var val=style[key];if(key==="content"){el.innerHTML=val;}
else{el.style[key]=val;}}}}},addStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(javaxt.dhtml.utils.isString(style)){style=style.replace(/^\s*/,"").replace(/\s*$/,"");if(el.hasAttribute("class")){var arr=el.className.split(" ");for(var i=0;i<arr.length;i++){var className=arr[i].replace(/^\s*/,"").replace(/\s*$/,"");if(className===style)return;}
el.className+=" "+style;}
else{el.className=style;}}
else{for(var key in style){var val=style[key];el.style[key]=val;if(key==="transform"){el.style["-webkit-"+key]=val;}}}},hasStyleRule:function(selector){var hasRule=function(selector,rules){if(!rules)return false;for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.selectorText){var arr=rule.selectorText.split(',');for(var j=0;j<arr.length;j++){if(arr[j].indexOf(selector)!==-1){var txt=trim(arr[j]);if(txt===selector){return true;}
else{var colIdx=txt.indexOf(":");if(colIdx!==-1){txt=trim(txt.substring(0,colIdx));if(txt===selector){return true;}}}}}}}
return false;};var trim=function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"");};for(var i=0;i<document.styleSheets.length;i++){var rules;try{rules=document.styleSheets[i].rules||document.styleSheets[i].cssRules;if(hasRule(selector,rules)){return true;}}
catch(e){}
var imports=document.styleSheets[i].imports;if(imports){for(var j=0;j<imports.length;j++){rules=imports[j].rules||imports[j].cssRules;if(hasRule(selector,rules))return true;}}}
return false;},addNoSelectRule:function(){var hasStyleRule=javaxt.dhtml.utils.hasStyleRule;if(!hasStyleRule(".javaxt-noselect")){var head=document.head||document.getElementsByTagName('head')[0];var sheet=document.createElement('style');sheet.innerHTML=".javaxt-noselect {\n";var arr=["-webkit-","-moz-","-o-","-ms-","-khtml-",""];for(var i=0;i<arr.length;i++){sheet.innerHTML+=arr[i]+"user-select: none;\n";}
sheet.innerHTML+="}";head.appendChild(sheet);}},createElement:function(type,obj,style){var setStyle=javaxt.dhtml.utils.setStyle;var el=document.createElement(type);if(obj){if(javaxt.dhtml.utils.isElement(obj)){setStyle(el,style);obj.appendChild(el);}
else{if(!style)style=obj;setStyle(el,style);}}
else{setStyle(el,style);}
return el;},createTable:function(parent){var createElement=javaxt.dhtml.utils.createElement;var table=createElement('table',parent,{width:"100%",height:"100%",margin:0,padding:0,borderCollapse:"collapse"});table.cellSpacing=0;table.cellPadding=0;var tbody=createElement('tbody',table);table.addRow=function(style){var tr=createElement("tr",tbody,style);tr.addColumn=function(style){return createElement("td",tr,style);};return tr;};table.removeRow=function(tr){if(!tr)return;tbody.removeChild(tr);};table.getRows=function(){return tbody.childNodes;};table.clear=function(){tbody.innerHTML="";};if(parent)parent.appendChild(table);return table;},getSuggestedColumnWidths:function(records,pixelsPerChar){var widths=[];var zscores=[];var totalWidth=0;var headerWidth=0;var suggestedWidths=[];var columns=records[0];if(columns.length>1){for(var i=0;i<columns.length;i++){var len=0;var column=columns[i];if(column!=null)len=(column+"").length;widths.push(len);headerWidth+=len*pixelsPerChar;}
for(var i=0;i<records.length;i++){var record=records[i];for(var j=0;j<record.length;j++){var rec=record[j];var len=0;if(rec!=null){var str=rec+"";var r=str.indexOf("\r");var n=str.indexOf("\n");if(r==-1){if(n>-1)str=str.substring(0,n);}
else{if(n>-1){str=str.substring(0,Math.min(r,n));}
else str=str.substring(0,r);}
len=str.length*pixelsPerChar;}
widths[j]=Math.max(widths[j],len);}}
for(var i=0;i<widths.length;i++){totalWidth+=widths[i];}
var outliers=[];zscores=javaxt.dhtml.utils.getZScores(widths,true);for(var i=0;i<zscores.length;i++){if(zscores[i]>1)outliers.push(i);}
if(outliers.length==1){var outlier=outliers[0];for(var i=0;i<widths.length;i++){var colWidth=i==outlier?"100%":widths[i]+"px";suggestedWidths.push(colWidth);}}
else{for(var i=0;i<widths.length;i++){var colWidth=((widths[i]/totalWidth)*100)+"%";suggestedWidths.push(colWidth);}}}
else{widths.push(1);totalWidth=1;suggestedWidths.push("100%");}
return{widths:widths,zscores:zscores,totalWidth:totalWidth,headerWidth:headerWidth,suggestedWidths:suggestedWidths};},onRender:function(el,callback){var w=el.offsetWidth;if(w===0||isNaN(w)){var timer;var checkWidth=function(){var w=el.offsetWidth;if(w===0||isNaN(w)){timer=setTimeout(checkWidth,100);}
else{clearTimeout(timer);if(callback)callback.apply(el,[el]);}};timer=setTimeout(checkWidth,100);}
else{if(callback)callback.apply(el,[el]);}},updateDOM:function(){if(document.javaxt)return;document.oncontextmenu=function(e){return false;};var firstMove;window.addEventListener('touchstart',function(e){firstMove=true;});window.addEventListener('touchmove',function(e){if(firstMove){e.preventDefault();firstMove=false;}});if(!document.body)document.body=document.getElementsByTagName("body")[0];var body=document.body;body.addEventListener('dragover',function(e){e.stopPropagation();e.preventDefault();return false;},false);body.addEventListener('drop',function(e){e.stopPropagation();e.preventDefault();return false;},false);document.javaxt={};},getRect:function(el){if(el.getBoundingClientRect){return el.getBoundingClientRect();}
else{var x=0;var y=0;var w=el.offsetWidth;var h=el.offsetHeight;function isNumber(n){return n===parseFloat(n);}
var org=el;do{x+=el.offsetLeft-el.scrollLeft;y+=el.offsetTop-el.scrollTop;}while(el=el.offsetParent);el=org;do{if(isNumber(el.scrollLeft))x-=el.scrollLeft;if(isNumber(el.scrollTop))y-=el.scrollTop;}while(el=el.parentNode);return{x:x,y:y,left:x,right:x+w,top:y,bottom:y+h,width:w,height:h};}},intersects:function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);},getAreaOfIntersection:function(r1,r2){var minX=r2.left;var maxX=r2.right;var minY=r2.top;var maxY=r2.bottom;var left=r1.left;var right=r1.right;var top=r1.top;var bottom=r1.bottom;if(left<minX)left=minX;if(right>maxX)right=maxX;if(top<minY)top=minY;if(bottom>maxY)bottom=maxY;var w=right-left;var h=bottom-top;return w*h;},getZScores:function(values,normalize){var total=0;for(var i=0;i<values.length;i++){total+=values[i];}
var numSamples=values.length;var mean=total/numSamples;var sum=0.0;for(var i=0;i<values.length;i++){var x=values[i];sum+=Math.pow(x-mean,2);}
var std=Math.sqrt(sum/numSamples);var zScores=[];for(var i=0;i<values.length;i++){var x=values[i];var z=(x-mean)/std;if(z<0&&normalize)z=-z;zScores.push(z);}
return zScores;},initDrag:function(dragHandle,config){javaxt.dhtml.utils.addNoSelectRule();if(!config)config={};var holdDelay=config.holdDelay;if(isNaN(holdDelay))holdDelay=50;var cursor=dragHandle.style.cursor;if(!cursor)cursor="default";var holdStarter=null;var holdActive=false;dragHandle.onmousedown=function(e){holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag(e);if(document.addEventListener){document.addEventListener("mousemove",onMouseMove);document.addEventListener("mouseup",onMouseUp);}
else if(document.attachEvent){document.attachEvent("onmousemove",onMouseMove);document.attachEvent("onmouseup",onMouseUp);}},holdDelay);};var onMouseUp=function(e){if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;if(document.removeEventListener){document.removeEventListener("mousemove",onMouseMove);document.removeEventListener("mouseup",onMouseUp);}else if(document.detachEvent){document.detachEvent("onmousemove",onMouseMove);document.detachEvent("onmouseup",onMouseUp);}
dragHandle.style.cursor=cursor;if(config.onDragEnd)
config.onDragEnd.apply(dragHandle,[e]);var body=document.getElementsByTagName('body')[0];setTimeout(function(){body.className=body.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,'');},800);}};dragHandle.onmouseup=onMouseUp;dragHandle.ontouchstart=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag({clientX:x,clientY:y});if(document.removeEventListener){dragHandle.addEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.attachEvent("ontouchmove",onTouchMove);}},holdDelay);};dragHandle.ontouchend=function(e){if(document.removeEventListener){dragHandle.removeEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.detachEvent("ontouchmove",onTouchMove);}
if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;}};var onMouseMove=function(e){var x=e.clientX;var y=e.clientY;if(config.onDrag)
config.onDrag.apply(dragHandle,[x,y]);};var onTouchMove=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;onMouseMove({clientX:x,clientY:y});};var startDrag=function(e){var x=e.clientX;var y=e.clientY;if(config.onDragStart)
config.onDragStart.apply(dragHandle,[x,y,e]);var body=document.getElementsByTagName('body')[0];if(!body.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){body.className+=(body.className.length==0?"":" ")+"javaxt-noselect";}};},addResizeListener:function(element,fn){var destroy,isDestroyed=false;var requestFrame=(function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20);};return function(fn){return raf(fn);};})();var cancelFrame=(function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id);};})();function resizeListener(e,fn){var el=e.target||e.srcElement;if(el.raf)cancelFrame(el.raf);el.raf=requestFrame(function(){if(isDestroyed)return;fn.call(el.resizeTrigger,e);});};if(document.attachEvent){element.resizeTrigger=element;var f=function(e){resizeListener(e,fn);};element.attachEvent('onresize',f);destroy=function(){element.detachEvent('onresize',f);};}
else{if(getComputedStyle(element).position=='static')element.style.position='relative';var obj=element.resizeTrigger=document.createElement('object');obj.setAttribute('style','display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');obj.resizeElement=element;obj.onload=function(e){this.contentDocument.defaultView.resizeTrigger=this.resizeElement;this.contentDocument.defaultView.addEventListener('resize',function(e){resizeListener(e,fn);});};var isIE=navigator.userAgent.match(/Trident/);obj.type='text/html';if(isIE)element.appendChild(obj);obj.data='about:blank';if(!isIE)element.appendChild(obj);destroy=function(){element.removeChild(obj);};}
return{destroy:function(){try{destroy();}catch(e){}
isDestroyed=true;}};},getHighestElements:function(obj){var arr=[];var highestIndex=0;var currentIndex=0;var elArray=Array();if(obj){elArray=obj.getElementsByTagName('*');}else{elArray=document.getElementsByTagName('*');}
for(var i=0;i<elArray.length;i++){var el=elArray[i];if(el.currentStyle){currentIndex=parseFloat(el.currentStyle['zIndex']);}
else if(window.getComputedStyle){currentIndex=parseFloat(document.defaultView.getComputedStyle(el,null).getPropertyValue('z-index'));}
if(!isNaN(currentIndex)){if(currentIndex>highestIndex){highestIndex=currentIndex;arr=[];arr.push(el);}
else if(currentIndex===highestIndex){arr.push(el);}}}
return{zIndex:highestIndex,elements:arr,contains:function(el){for(var i=0;i<arr.length;i++){if(arr[i]===el)return true;}
return false;}};},getNextHighestZindex:function(obj){var highestIndex=javaxt.dhtml.utils.getHighestElements(obj).zIndex;return(highestIndex+1);},addShowHide:function(el){if(el.el){var me=el;me.show=function(){me.el.style.visibility='';me.el.style.display='';};me.hide=function(){me.el.style.visibility='hidden';me.el.style.display='none';};me.isVisible=function(){return!(me.el.style.visibility==='hidden'&&me.el.style.display==='none');};}
else{el.show=function(){this.style.visibility='';this.style.display='';};el.hide=function(){this.style.visibility='hidden';this.style.display='none';};el.isVisible=function(){return!(this.style.visibility==='hidden'&&this.style.display==='none');};}},destroy:function(me){if(!me.el)return;me.el.innerHTML="";var parent=me.el.parentNode;if(parent)parent.removeChild(me.el);var props=[];for(var key in me){if(me.hasOwnProperty(key)){props.push(key);}}
for(var i=0;i<props.length;i++){var key=props[i];me[key]=null;delete me[key];}
props=null;},round:function(number,decimalPlaces){if(decimalPlaces){var n=Math.pow(10,decimalPlaces);return Math.round(number*n)/n;}
else{return Math.round(number);}}};
javaxt.dhtml.WebSocket=function(c){var e=this;var a={url:"",keepAlive:15000,debugr:{append:function(h){}}};var b;var g;var d=false;var f=function(){var o={};javaxt.dhtml.utils.merge(o,c);javaxt.dhtml.utils.merge(o,a);c=o;for(var l in c){if(c.hasOwnProperty(l)){if(typeof c[l]=="function"){if(e[l]&&typeof e[l]=="function"){e[l]=c[l]}}}}var j=c.debugr;var n=window.location.protocol.toLowerCase();if(n.indexOf("https")===0){n="wss"}else{n="ws"}var k=n+"://"+window.location.host;if(c.url.indexOf("/")!==0){k+="/"}var m=c.url;if(m){var h=m.indexOf("//");if(h>=0){m=m.substring(h+2);h=m.indexOf("/");if(h>-1){m=m.substring(h+1)}}k+=m}var i=function(){var p;if(g){clearInterval(g)}g=setInterval(function(){if(b){if(b.readyState===WebSocket.OPEN){b.send("")}else{if(b.readyState===WebSocket.CLOSED){i()}}}},c.keepAlive);b=new WebSocket(k);b.onopen=function(){j.append("onopen");p=setTimeout(function(){d=true},500);e.onConnect()};b.onmessage=function(q){d=true;var r=q.data;j.append(r);e.onMessage(r)};b.onclose=function(q){j.append("onclose");j.append(q.code+": "+q.reason);if(d){e.onDisconnect();i()}else{j.append("Websocket failed");b=null;clearTimeout(g);clearTimeout(p);e.onFailure(q.code,q.reason);e.onDisconnect()}};b.onerror=function(){j.append("error!")}};i()};this.onConnect=function(){};this.onDisconnect=function(){};this.onMessage=function(h){};this.onFailure=function(h,i){};this.stop=function(){d=false;if(g){clearInterval(g)}if(b){b.close()}};f()};
javaxt.dhtml.Window=function(parent,config){this.className="javaxt.dhtml.Window";var me=this;var defaultConfig={title:false,body:null,footer:null,width:null,height:null,modal:false,resizable:true,closable:true,shrinkToFit:false,valign:"middle",style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",background:"#ffffff",border:"1px solid #b4cbdd",borderRadius:"5px",display:"inline-block",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)",minWidth:"50px"},header:{background:"#d9e7f8",height:"28px",borderRadius:"4px 4px 0 0",border:"1px solid #ecf2fb",borderBottom:"1px solid #b4cbdd"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#04468C",textAlign:"left",cursor:"default",padding:"5px"},icon:{float:"left"},buttonBar:{position:"absolute",right:0,padding:"5px"},button:{width:"16px",height:"16px",border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",color:"#6f6f6f",cursor:"default"},closeIcon:{content:"&#x2715;",lineHeight:"16px",textAlign:"center"},body:{padding:"7px",verticalAlign:"top",color:"#484848"},footer:{},resizeHandle:{},mask:{background:"rgba(0,0,0,0.1)"}},renderers:{headerButtons:createHeaderButtons}};var mainDiv,header,body,footer,mask;var titleDiv,iconDiv,buttonDiv;var recenter=true;var visible=false;var seen=false;var overflow;var resizeListener;var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;mainDiv=createElement('div',parent,config.style.panel);mainDiv.style.position="absolute";mainDiv.style.left="0px";mainDiv.style.top="0px";mainDiv.style.display="none";mainDiv.style.visibility="hidden";mainDiv.tabIndex=-1;me.setWidth(config.width);me.setHeight(config.height);me.el=mainDiv;if(config.resizable===true){addResizeHandle(mainDiv);}
var table=createTable(mainDiv);table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";header=table.addRow().addColumn();body=table.addRow().addColumn(config.style.body);body.style.width="100%";body.style.height="100%";footer=table.addRow().addColumn(config.style.footer);var headerDiv=createElement('div',header,config.style.header);headerDiv.style.position="relative";var dragHandle=createElement('div',headerDiv);dragHandle.style.position="absolute";dragHandle.style.width="100%";dragHandle.style.height="100%";dragHandle.style.zIndex=1;titleDiv=createElement('div',headerDiv,config.style.title);if(config.title)titleDiv.innerHTML=config.title;titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};iconDiv=createElement('div',headerDiv,config.style.icon);buttonDiv=createElement('div',headerDiv,config.style.buttonBar);buttonDiv.style.zIndex=2;if(config.renderers.headerButtons){config.renderers.headerButtons(buttonDiv);}
else{createHeaderButtons(buttonDiv);}
me.setContent(config.body);me.setFooter(config.footer);mask=createElement('div',parent);if(config.modal===true){addStyle(mask,"mask");}
mask.style.position="absolute";mask.style.left="0px";mask.style.top="0px";mask.style.width="100%";mask.style.height="100%";mask.style.display="none";mask.style.visibility="hidden";initDrag(dragHandle,{onDragStart:function(x,y){var div=mainDiv;var rect=_getRect(div);var rect2=_getRect(parent);var xOffset=x-rect.x;var yOffset=(y-rect.y)+rect2.y;div.xOffset=xOffset;div.yOffset=yOffset;div.width=rect.width;div.height=rect.height;div.style.left=rect.x+'px';div.style.top=(y-yOffset)+'px';dragHandle.style.cursor='move';},onDrag:function(x,y){var div=mainDiv;var left=(x-div.xOffset);if(left<0)left=0;if(left+div.width>parent.offsetWidth)left=parent.offsetWidth-div.width;var top=(y-div.yOffset);if(top<0)top=0;if(top+div.height>parent.offsetHeight)top=parent.offsetHeight-div.height;div.style.left=left+'px';div.style.top=top+'px';},onDragEnd:function(){this.style.cursor='default';}});if(config.shrinkToFit===true){addResizeListener(shrinkToFit);}};this.destroy=function(){if(resizeListener){resizeListener.listeners=[];resizeListener.destroy();}
me.close();if(mask){mask.innerHTML="";var parent=mask.parentNode;if(parent)parent.removeChild(mask);mask=null;}
destroy(me);me=null;return me;};var createHeaderButtons=function(buttonDiv){if(config.closable===true){buttonDiv.appendChild(createButton(config.style.closeIcon,me.close));}};var createButton=function(icon,onclick){var div=createElement('div',config.style.button);div.onclick=onclick;createElement('div',div,icon);return div;};this.getTitle=function(){return titleDiv.innerHTML;};this.setTitle=function(obj){if(obj==null)titleDiv.innerHTML="";else{if(isElement(obj)){titleDiv.innerHTML="";body.appendChild(obj);}
else{if(typeof obj==="string"){titleDiv.innerHTML=obj;}}}};this.onHeaderClick=function(){};this.onResize=function(){};this.getBody=function(){return body;};this.setBody=this.setContent=function(obj){if(obj==null)body.innerHTML="";else{if(isElement(obj)){body.innerHTML="";var p=obj.parentNode;if(p)p.removeChild(obj);body.appendChild(obj);}
else{if(typeof obj==="string"){body.innerHTML=obj;}}}};this.getFooter=function(){return footer;};this.setFooter=function(obj){if(obj==null)footer.innerHTML="";else{if(isElement(obj)){var p=obj.parentNode;if(p)p.removeChild(obj);footer.appendChild(obj);}
else{if(typeof obj==="string"){footer.innerHTML=obj;}}}};this.show=this.open=function(animation){me.showAt(null,null,animation);};this.showAt=function(x,y){var highestElements=getHighestElements();var zIndex=highestElements.zIndex;if(!highestElements.contains(mask))zIndex++;overflow=mask.parentNode.style.overflow;mask.parentNode.style.overflow="hidden";mask.style.zIndex=zIndex;if(config.modal===true){mask.style.display='';mask.style.visibility='';}
mainDiv.style.zIndex=zIndex+1;mainDiv.style.display='';mainDiv.style.visibility='';if(x!=null&y!=null){mainDiv.style.left=x+"px";mainDiv.style.top=y+"px";recenter=false;}
else{if(recenter)me.center();}
if(!seen){if(recenter){addResizeListener(function(){if(recenter)me.center();});}
seen=true;}
if(!visible){me.update();visible=true;me.onOpen();if(config.shrinkToFit===true){shrinkToFit();}}};this.hide=this.close=function(silent){if(visible){if(overflow)mask.parentNode.style.overflow=overflow;if(config.modal===true){mask.style.display="none";mask.style.visibility="hidden";}
mask.style.zIndex='';mainDiv.style.display="none";mainDiv.style.visibility="hidden";mainDiv.style.zIndex='';visible=false;if(silent!==true)me.onClose();}};this.isOpen=function(){return visible;};this.onOpen=function(){};this.onClose=function(){};this.getWidth=function(){return mainDiv.offsetWidth;};this.setWidth=function(width){if(isNaN(width)){if(typeof width==="string"){mainDiv.style.width=width;}}
else{mainDiv.style.width=width+"px";}
me.update();me.onResize();};this.getHeight=function(){return mainDiv.offsetHeight;};this.setHeight=function(height){if(isNaN(height)){if(typeof height==="string"){mainDiv.style.height=height;}}
else{mainDiv.style.height=height+"px";}
me.update();me.onResize();};this.update=function(){setTimeout(function(){try{var minWidth=Math.max(header.offsetWidth,body.offsetWidth,footer.offsetWidth);if(mainDiv.offsetWidth<minWidth){mainDiv.style.width=minWidth+"px";}}
catch(e){}
try{var minHeight=header.offsetHeight+body.offsetHeight+footer.offsetHeight;if(mainDiv.offsetHeight<minHeight){mainDiv.style.height=minHeight+"px";}}
catch(e){}},0);};this.center=function(){var w=mainDiv.offsetWidth;var h=mainDiv.offsetHeight;var x=document.body.clientWidth;var y=document.body.clientHeight;if(screen.width>(2*screen.height))x=x/2;x=(x/2)-(w/2);switch(config.valign){case"top":y=(y/4)-(h/2);break;default:y=(y/2)-(h/2);}
if(y<0)y=0;if(x<0)x=0;mainDiv.style.left=x+"px";mainDiv.style.top=y+"px";};var addResizeHandle=function(parent){var xOffset,yOffset;var orgHeight,orgWidth;var dx,dy;var onDragStart=function(x,y){var div=this;mask.style.cursor=div.style.cursor;mask.style.display="";mask.style.visibility="";var rect=_getRect(div);var rect2=_getRect(parent);xOffset=(x-rect.x)+rect2.x;yOffset=(y-rect.y)+rect2.y;orgHeight=rect2.height;orgWidth=rect2.width;dx=parseFloat(parent.style.width);if(dx<orgWidth)dx=orgWidth-dx;else dx=0;dy=parseFloat(parent.style.height);if(dy<orgHeight)dy=orgHeight-dy;else dy=0;};var onDragEnd=function(){if(config.modal!==true){mask.style.display="none";mask.style.visibility="hidden";}
mask.style.cursor="";mainDiv.focus();};var setWidth=function(w){parent.style.width=w+"px";var minWidth=Math.max(header.offsetWidth,body.offsetWidth,footer.offsetWidth);if(parent.offsetWidth<minWidth){parent.style.width=minWidth+"px";}};var setHeight=function(h){parent.style.height=h+"px";var minHeight=header.offsetHeight+body.offsetHeight+footer.offsetHeight;if(parent.offsetHeight<minHeight){parent.style.height=minHeight+"px";}};var resizeHandle=createElement("div",parent);resizeHandle.style.position="absolute";resizeHandle.style.width="100%";resizeHandle.style.height="10px";resizeHandle.style.top="-5px";resizeHandle.style.cursor="ns-resize";resizeHandle.style.zIndex=2;javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(yOffset-y);parent.style.top=(y)+"px";setHeight((orgHeight+top)-dy);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.bottom="-5px";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=-(yOffset-y);setHeight(top+dy);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="0px";resizeHandle.style.bottom="";resizeHandle.style.left="-5px";resizeHandle.style.height="100%";resizeHandle.style.width="10px";resizeHandle.style.cursor="ew-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(xOffset-x);parent.style.left=x+'px';setWidth((orgWidth+top));me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="-5px";resizeHandle.style.right="";resizeHandle.style.height="10px";resizeHandle.style.cursor="se-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(xOffset-x);parent.style.left=x+'px';setWidth((orgWidth+top));var top=(yOffset-y);parent.style.top=(y)+"px";setHeight((orgHeight+top)-dy);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.bottom="-5px";resizeHandle.style.cursor="ne-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(xOffset-x);parent.style.left=x+'px';setWidth((orgWidth+top));var top=-(yOffset-y);setHeight(top+dy);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.left="";resizeHandle.style.right="-5px";resizeHandle.style.top="0px";resizeHandle.style.height="100%";resizeHandle.style.cursor="ew-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x);setWidth(d+dx);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="-5px";resizeHandle.style.height="10px";resizeHandle.style.cursor="ne-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x);setWidth(d+dx);var top=(yOffset-y);parent.style.top=(y)+"px";setHeight((orgHeight+top)-dy);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.cursor="se-resize";if(config.style.resizeHandle==null||isEmpty(config.style.resizeHandle)){resizeHandle.style.bottom="-5px";javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x);setWidth(d+dx);var top=-(yOffset-y);setHeight(top+dy);me.onResize();},onDragEnd:onDragEnd});}
else{resizeHandle.style.width="25px";resizeHandle.style.height="25px";createElement("div",resizeHandle,config.style.resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x)+20;setWidth(d+dx);var top=-(yOffset-y)+20;setHeight(top+dy);me.onResize();},onDragEnd:onDragEnd});}
parent.appendChild(resizeHandle);};var shrinkToFit=function(){var width=me.getWidth();var height=me.getHeight();var w=parent.offsetWidth;var h=parent.offsetHeight;if(width>w){me.setWidth(w);}
if(height>h){me.setHeight(h);}};var addResizeListener=function(fn){if(!resizeListener){resizeListener=javaxt.dhtml.utils.addResizeListener(parent,function(){var listeners=resizeListener.listeners;for(var i=0;i<listeners.length;i++){listeners[i].apply(me,[]);}});resizeListener.listeners=[];}
resizeListener.listeners.push(fn);};var _getRect=javaxt.dhtml.utils.getRect;var merge=javaxt.dhtml.utils.merge;var destroy=javaxt.dhtml.utils.destroy;var isEmpty=javaxt.dhtml.utils.isEmpty;var isElement=javaxt.dhtml.utils.isElement;var getHighestElements=javaxt.dhtml.utils.getHighestElements;var createElement=javaxt.dhtml.utils.createElement;var createTable=javaxt.dhtml.utils.createTable;var initDrag=javaxt.dhtml.utils.initDrag;var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};